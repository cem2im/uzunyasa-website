<!DOCTYPE html>
<html lang="tr">
<head>
<link rel="icon" type="image/png" sizes="32x32" href="/favicon.png"><link rel="icon" type="image/png" sizes="16x16" href="/favicon-16.png">
<script src="/scripts/https-redirect.js"></script>
<!-- Google tag (gtag.js) -->
<script async src="https://www.googletagmanager.com/gtag/js?id=G-QBM7E0EHFP"></script>
<script>
 window.dataLayer = window.dataLayer || [];
 function gtag(){dataLayer.push(arguments);}
 gtag('js', new Date());
 gtag('config', 'G-QBM7E0EHFP');
</script>
 <meta charset="UTF-8">
 <meta name="viewport" content="width=device-width, initial-scale=1.0">
 <title>SCORE2 KardiyovaskÃ¼ler Risk HesaplayÄ±cÄ± | 10 YÄ±l Ä°Ã§inde Kalp Krizi Riskiniz | UzunYaÅŸa</title>
 <meta name="description" content="ESC 2021 SCORE2 algoritmasÄ±yla 10 yÄ±llÄ±k kardiyovaskÃ¼ler olay riskinizi hesaplayÄ±n. TÃ¼rkiye iÃ§in Ã¶zelleÅŸtirilmiÅŸ, bilimsel verilere dayalÄ± Ã¼cretsiz risk deÄŸerlendirmesi.">
 <meta name="keywords" content="SCORE2, kardiyovaskÃ¼ler risk, kalp krizi riski, inme riski, ESC 2021, kolesterol, tansiyon, sigara, kv risk hesaplama">
 <meta property="og:title" content="SCORE2 Risk HesaplayÄ±cÄ± - 10 YÄ±l Ä°Ã§inde Kalp Krizi Riskiniz KaÃ§?">
 <meta property="og:description" content="TÃ¼rkiye'ye Ã¶zel SCORE2 algoritmasÄ±yla kardiyovaskÃ¼ler riskinizi Ã¶ÄŸrenin. ESC 2021 kÄ±lavuzlarÄ±na dayalÄ± bilimsel risk deÄŸerlendirmesi.">
 <meta property="og:image" content="https://uzunyasa.com/images/og-score2-risk.png">
 <meta property="og:type" content="website">
 <meta property="og:locale" content="tr_TR">
 <link rel="canonical" href="https://uzunyasa.com/pages/araclar/score2-risk-hesaplayici.html">
 <link rel="preconnect" href="https://fonts.googleapis.com">
 <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
 <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700;800&display=swap" rel="stylesheet">
 <link rel="stylesheet" href="../../styles/main.css">
 <link rel="stylesheet" href="../../styles/animations.css">

 <!-- JSON-LD Schema -->
 <script type="application/ld+json">
 {
  "@context": "https://schema.org",
  "@type": "WebApplication",
  "name": "SCORE2 KardiyovaskÃ¼ler Risk HesaplayÄ±cÄ±",
  "description": "ESC 2021 SCORE2 algoritmasÄ±yla 10 yÄ±llÄ±k kardiyovaskÃ¼ler olay riskinizi hesaplayan Ã¼cretsiz araÃ§",
  "url": "https://uzunyasa.com/pages/araclar/score2-risk-hesaplayici.html",
  "applicationCategory": "HealthApplication",
  "operatingSystem": "Web",
  "inLanguage": "tr",
  "author": {
   "@type": "Organization",
   "name": "UzunYaÅŸa",
   "url": "https://uzunyasa.com"
  },
  "offers": {
   "@type": "Offer",
   "price": "0",
   "priceCurrency": "TRY"
  },
  "aggregateRating": {
   "@type": "AggregateRating",
   "ratingValue": "4.8",
   "reviewCount": "156"
  }
 }
 </script>

 <style>
  :root {
   --primary: #0a1628;
   --teal: #14919B;
   --orange: #E8963E;
   --green: #059669;
   --yellow: #d97706;
   --red: #dc2626;
   --red-dark: #b91c1c;
   --gray-50: #f9fafb;
   --gray-100: #f3f4f6;
   --gray-200: #e5e7eb;
   --gray-300: #d1d5db;
   --gray-500: #6b7280;
   --gray-700: #374151;
   --gray-800: #1f2937;
   --gray-900: #111827;
  }

  * { margin: 0; padding: 0; box-sizing: border-box; }
  body {
   font-family: 'Inter', sans-serif;
   background: linear-gradient(135deg, var(--primary) 0%, #1e3a8a 100%);
   color: white;
   line-height: 1.6;
   min-height: 100vh;
  }

  /* Header */
  .quiz-header {
   background: rgba(255,255,255,0.05);
   backdrop-filter: blur(20px);
   border-bottom: 1px solid rgba(255,255,255,0.1);
   padding: 1rem 1.5rem;
   display: flex;
   align-items: center;
   justify-content: space-between;
   position: sticky;
   top: 0;
   z-index: 100;
  }
  .quiz-header .logo-img { height: 36px; }
  .quiz-header .back-link {
   color: rgba(255,255,255,0.7);
   text-decoration: none;
   font-size: 0.9rem;
   transition: color 0.3s;
  }
  .quiz-header .back-link:hover { color: var(--teal); }

  /* Warning banner */
  .warning-banner {
   background: linear-gradient(90deg, #7c2d12, #9a3412);
   border-bottom: 1px solid #ea580c;
   padding: 0.8rem 1.5rem;
   text-align: center;
   font-size: 0.85rem;
   color: #fed7aa;
   font-weight: 500;
  }

  /* Statistics banner */
  .stats-banner {
   background: linear-gradient(90deg, var(--red-dark), var(--red));
   padding: 1.2rem 1.5rem;
   text-align: center;
   margin-bottom: 2rem;
  }
  .stats-banner h3 {
   font-size: 1.1rem;
   color: #fecaca;
   margin-bottom: 0.3rem;
  }

  /* Main container */
  .container {
   max-width: 800px;
   margin: 0 auto;
   padding: 2rem 1.5rem;
  }

  /* Hero section */
  .hero-section {
   text-align: center;
   margin-bottom: 3rem;
  }
  .hero-title {
   font-size: 2.5rem;
   font-weight: 800;
   background: linear-gradient(135deg, #fbbf24, var(--orange), var(--teal));
   background-clip: text;
   -webkit-background-clip: text;
   -webkit-text-fill-color: transparent;
   margin-bottom: 0.8rem;
   line-height: 1.2;
  }
  .hero-subtitle {
   font-size: 1.15rem;
   color: rgba(255,255,255,0.8);
   margin-bottom: 2rem;
  }

  /* Steps */
  .step { display: none; }
  .step.active { display: block; }
  .step-card {
   background: rgba(255,255,255,0.08);
   backdrop-filter: blur(20px);
   border: 1px solid rgba(255,255,255,0.1);
   border-radius: 20px;
   padding: 2.5rem;
   margin-bottom: 2rem;
   box-shadow: 0 20px 40px rgba(0,0,0,0.2);
  }
  .step-number {
   background: var(--teal);
   color: white;
   padding: 0.3rem 0.8rem;
   border-radius: 15px;
   font-size: 0.8rem;
   font-weight: 600;
   display: inline-block;
   margin-bottom: 1rem;
  }
  .step-title {
   font-size: 1.8rem;
   font-weight: 700;
   margin-bottom: 0.8rem;
   color: white;
  }
  .step-desc {
   color: rgba(255,255,255,0.8);
   margin-bottom: 2rem;
   font-size: 1rem;
  }

  /* Form elements */
  .form-group {
   margin-bottom: 1.5rem;
  }
  .form-group label {
   display: block;
   color: rgba(255,255,255,0.9);
   margin-bottom: 0.5rem;
   font-weight: 600;
  }
  .form-group input, .form-group select {
   width: 100%;
   padding: 0.8rem 1rem;
   background: rgba(255,255,255,0.1);
   border: 1px solid rgba(255,255,255,0.2);
   border-radius: 12px;
   color: white;
   font-size: 1rem;
   transition: all 0.3s;
  }
  .form-group input:focus, .form-group select:focus {
   outline: none;
   border-color: var(--teal);
   box-shadow: 0 0 0 3px rgba(20,145,155,0.1);
  }
  .form-group input::placeholder { color: rgba(255,255,255,0.5); }

  /* Slider */
  .slider-group {
   margin-bottom: 1.5rem;
  }
  .slider-label {
   display: flex;
   justify-content: space-between;
   color: rgba(255,255,255,0.9);
   margin-bottom: 0.5rem;
   font-weight: 600;
  }
  .slider-value {
   background: var(--teal);
   color: white;
   padding: 0.2rem 0.6rem;
   border-radius: 8px;
   font-size: 0.9rem;
   font-weight: 700;
  }
  .slider {
   -webkit-appearance: none;
   width: 100%;
   height: 8px;
   border-radius: 5px;
   background: rgba(255,255,255,0.2);
   outline: none;
   margin-bottom: 0.5rem;
  }
  .slider::-webkit-slider-thumb {
   -webkit-appearance: none;
   appearance: none;
   width: 24px;
   height: 24px;
   border-radius: 50%;
   background: var(--teal);
   cursor: pointer;
   box-shadow: 0 4px 8px rgba(0,0,0,0.3);
  }
  .slider::-moz-range-thumb {
   width: 24px;
   height: 24px;
   border-radius: 50%;
   background: var(--teal);
   cursor: pointer;
   border: none;
   box-shadow: 0 4px 8px rgba(0,0,0,0.3);
  }

  /* Toggle switch */
  .toggle-group {
   display: flex;
   align-items: center;
   justify-content: space-between;
   background: rgba(255,255,255,0.05);
   padding: 1rem;
   border-radius: 12px;
   margin-bottom: 1.5rem;
  }
  .toggle-label { color: rgba(255,255,255,0.9); font-weight: 600; }
  .toggle-switch {
   position: relative;
   width: 60px;
   height: 32px;
   background: rgba(255,255,255,0.2);
   border-radius: 16px;
   cursor: pointer;
   transition: background 0.3s;
  }
  .toggle-switch.active { background: var(--teal); }
  .toggle-switch::after {
   content: '';
   position: absolute;
   top: 4px;
   left: 4px;
   width: 24px;
   height: 24px;
   background: white;
   border-radius: 50%;
   transition: transform 0.3s;
  }
  .toggle-switch.active::after { transform: translateX(28px); }

  /* Radio group */
  .radio-group {
   display: grid;
   gap: 1rem;
   margin-bottom: 2rem;
  }
  .radio-item {
   background: rgba(255,255,255,0.05);
   border: 2px solid rgba(255,255,255,0.1);
   border-radius: 12px;
   padding: 1rem;
   cursor: pointer;
   transition: all 0.3s;
   display: flex;
   align-items: center;
  }
  .radio-item:hover {
   background: rgba(255,255,255,0.1);
   border-color: rgba(255,255,255,0.3);
  }
  .radio-item.checked {
   background: rgba(20,145,155,0.2);
   border-color: var(--teal);
  }
  .radio-item input[type="radio"] {
   margin-right: 0.8rem;
   width: 20px;
   height: 20px;
  }
  .radio-content h4 {
   color: white;
   margin-bottom: 0.3rem;
  }
  .radio-content p {
   color: rgba(255,255,255,0.7);
   font-size: 0.9rem;
  }

  /* Buttons */
  .btn {
   padding: 0.8rem 2rem;
   border: none;
   border-radius: 12px;
   font-size: 1rem;
   font-weight: 600;
   cursor: pointer;
   transition: all 0.3s;
   text-decoration: none;
   display: inline-block;
   text-align: center;
  }
  .btn-primary {
   background: linear-gradient(135deg, var(--teal), #0891b2);
   color: white;
   box-shadow: 0 4px 12px rgba(20,145,155,0.4);
  }
  .btn-primary:hover {
   transform: translateY(-2px);
   box-shadow: 0 6px 20px rgba(20,145,155,0.5);
  }
  .btn-primary:disabled {
   background: rgba(255,255,255,0.1);
   color: rgba(255,255,255,0.5);
   cursor: not-allowed;
   transform: none;
   box-shadow: none;
  }
  .btn-secondary {
   background: rgba(255,255,255,0.1);
   color: white;
   border: 1px solid rgba(255,255,255,0.3);
  }
  .btn-secondary:hover {
   background: rgba(255,255,255,0.2);
   transform: translateY(-1px);
  }
  .btn-row {
   display: flex;
   justify-content: space-between;
   gap: 1rem;
   margin-top: 2rem;
  }

  /* Results section */
  .result-card {
   background: rgba(255,255,255,0.1);
   backdrop-filter: blur(20px);
   border: 1px solid rgba(255,255,255,0.2);
   border-radius: 20px;
   padding: 2.5rem;
   text-align: center;
   margin-bottom: 2rem;
  }
  .risk-number {
   font-size: 4rem;
   font-weight: 900;
   margin-bottom: 0.5rem;
   text-shadow: 0 0 20px rgba(255,255,255,0.3);
  }
  .risk-label {
   font-size: 1.2rem;
   margin-bottom: 1rem;
   opacity: 0.9;
  }
  .risk-category {
   display: inline-block;
   padding: 0.6rem 1.5rem;
   border-radius: 15px;
   font-weight: 700;
   font-size: 1.1rem;
   margin-bottom: 2rem;
  }

  /* Gauge chart */
  .gauge-container {
   position: relative;
   width: 250px;
   height: 125px;
   margin: 2rem auto;
  }
  .gauge-svg {
   width: 100%;
   height: 100%;
  }
  .gauge-bg {
   fill: none;
   stroke: rgba(255,255,255,0.2);
   stroke-width: 12;
  }
  .gauge-fill {
   fill: none;
   stroke-width: 12;
   transition: stroke-dashoffset 1s ease-in-out;
  }

  /* Recommendations */
  .recommendations {
   background: rgba(255,255,255,0.05);
   border-radius: 15px;
   padding: 2rem;
   margin-top: 2rem;
  }
  .recommendations h3 {
   color: white;
   margin-bottom: 1rem;
   display: flex;
   align-items: center;
   gap: 0.5rem;
  }
  .recommendations ul {
   list-style: none;
   padding: 0;
  }
  .recommendations li {
   background: rgba(255,255,255,0.05);
   padding: 1rem;
   border-radius: 10px;
   margin-bottom: 0.8rem;
   border-left: 4px solid var(--teal);
  }
  .recommendations li strong {
   color: var(--orange);
  }

  /* Action buttons */
  .action-buttons {
   display: grid;
   grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
   gap: 1rem;
   margin: 2rem 0;
  }
  .action-btn {
   padding: 1rem;
   background: rgba(255,255,255,0.1);
   border: 1px solid rgba(255,255,255,0.2);
   border-radius: 12px;
   color: white;
   text-decoration: none;
   text-align: center;
   transition: all 0.3s;
   display: flex;
   align-items: center;
   justify-content: center;
   gap: 0.5rem;
  }
  .action-btn:hover {
   background: rgba(255,255,255,0.2);
   transform: translateY(-2px);
  }

  /* Footer */
  .quiz-footer {
   background: rgba(0,0,0,0.3);
   padding: 2rem 1.5rem;
   margin-top: 3rem;
  }
  .references {
   max-width: 800px;
   margin: 0 auto 2rem;
  }
  .references h4 {
   color: white;
   margin-bottom: 1rem;
  }
  .references p {
   color: rgba(255,255,255,0.8);
   font-size: 0.9rem;
   line-height: 1.6;
  }
  .footer-disclaimer {
   max-width: 800px;
   margin: 0 auto;
   text-align: center;
   background: linear-gradient(90deg, #7c2d12, #9a3412);
   padding: 1rem 1.5rem;
   border-radius: 12px;
   color: #fed7aa;
   font-size: 0.9rem;
   font-weight: 600;
  }

  .site-footer {
   background: var(--primary);
   padding: 2rem 1.5rem;
   text-align: center;
   color: rgba(255,255,255,0.7);
  }
  .site-footer a {
   color: var(--teal);
   text-decoration: none;
  }

  /* Responsive */
  @media (max-width: 768px) {
   .container { padding: 1rem; }
   .hero-title { font-size: 2rem; }
   .hero-subtitle { font-size: 1rem; }
   .step-card { padding: 1.5rem; }
   .risk-number { font-size: 3rem; }
   .btn-row { flex-direction: column; }
   .action-buttons { grid-template-columns: 1fr; }
   .gauge-container { width: 200px; height: 100px; }
  }

  /* Animations */
  @keyframes fadeInUp {
   from { opacity: 0; transform: translateY(30px); }
   to { opacity: 1; transform: translateY(0); }
  }
  .step.active { animation: fadeInUp 0.6s ease-out; }
  .result-card { animation: fadeInUp 0.8s ease-out; }
 </style>
</head>
<body>

 <!-- Header -->
 <div class="quiz-header">
  <img src="../../images/logo-light.png" alt="UzunYaÅŸa" class="logo-img">
  <a href="../../" class="back-link">â† Ana Sayfa</a>
 </div>

 <!-- Warning Banner -->
 <div class="warning-banner">
  âš ï¸ Bu araÃ§ bilgilendirme amaÃ§lÄ±dÄ±r, kesin tanÄ± veya tedavi iÃ§in mutlaka doktorunuza danÄ±ÅŸÄ±n
 </div>

 <!-- Statistics Banner -->
 <div class="stats-banner">
  <h3>ğŸš¨ Her 3 TÃ¼rk'ten 1'i kardiyovaskÃ¼ler hastalÄ±ktan Ã¶lÃ¼yor!</h3>
  <p>Riskinizi Ã¶ÄŸrenin, hayatÄ±nÄ±zÄ± koruyun</p>
 </div>

 <div class="container">

  <!-- Hero Section / Intro -->
  <div class="step active" id="stepIntro">
   <div class="hero-section">
    <h1 class="hero-title">10 YÄ±l Ä°Ã§inde Kalp Krizi Riskiniz KaÃ§?</h1>
    <p class="hero-subtitle">
     ESC 2021 SCORE2 algoritmasÄ±yla kardiyovaskÃ¼ler riskinizi hesaplayÄ±n<br>
     <strong>TÃ¼rkiye yÃ¼ksek riskli bÃ¶lge</strong> â€” riskinizi Ã¶ÄŸrenin ve Ã¶nlem alÄ±n
    </p>
    
    <div class="step-card">
     <h2>ğŸ«€ SCORE2 Nedir?</h2>
     <p style="margin-bottom: 1.5rem; color: rgba(255,255,255,0.8);">
      SCORE2, Avrupa Kardiyoloji DerneÄŸi (ESC) tarafÄ±ndan 2021'de yayÄ±nlanan, 
      <strong>700.000+ kiÅŸilik</strong> kohort verisine dayalÄ± en gÃ¼ncel kardiyovaskÃ¼ler risk hesaplama algoritmasÄ±dÄ±r.
     </p>
     
     <div style="background: rgba(255,255,255,0.1); padding: 1.5rem; border-radius: 12px; margin-bottom: 2rem;">
      <h4 style="color: var(--orange); margin-bottom: 1rem;">âœ… Ne HesaplÄ±yor?</h4>
      <ul style="list-style: none; color: rgba(255,255,255,0.9);">
       <li>â€¢ ğŸ«€ Kalp krizi (miyokard infarktÃ¼sÃ¼) riski</li>
       <li>â€¢ ğŸ§  Ä°nme riski</li>
       <li>â€¢ ğŸ’€ KardiyovaskÃ¼ler Ã¶lÃ¼m riski</li>
       <li>â€¢ ğŸ“Š 10 yÄ±llÄ±k toplam KV olay olasÄ±lÄ±ÄŸÄ±</li>
      </ul>
     </div>

     <div style="background: rgba(255,255,255,0.1); padding: 1.5rem; border-radius: 12px;">
      <h4 style="color: var(--teal); margin-bottom: 1rem;">ğŸ“‹ Ne Soracak?</h4>
      <ul style="list-style: none; color: rgba(255,255,255,0.9);">
       <li>â€¢ YaÅŸÄ±nÄ±z (40-89 arasÄ±)</li>
       <li>â€¢ Cinsiyetiniz</li>
       <li>â€¢ Sigara kullanÄ±mÄ±nÄ±z</li>
       <li>â€¢ Sistolik kan basÄ±ncÄ±nÄ±z</li>
       <li>â€¢ Kolesterol deÄŸerleriniz</li>
      </ul>
     </div>

     <button class="btn btn-primary" onclick="startCalc()" style="margin-top: 2rem; font-size: 1.1rem;">
      ğŸš€ Risk Hesaplama BaÅŸlat
     </button>
    </div>
   </div>
  </div>

  <!-- Step 1: Demographics -->
  <div class="step" id="step1">
   <div class="step-card">
    <div class="step-number">AdÄ±m 1 / 4</div>
    <h2 class="step-title">Demografik Bilgiler</h2>
    <p class="step-desc">YaÅŸ, cinsiyet ve sigara kullanÄ±m durumunuzu belirtin:</p>

    <div class="form-group">
     <label for="age">YaÅŸÄ±nÄ±z</label>
     <input type="number" id="age" min="40" max="89" placeholder="40-89 arasÄ± girin">
     <small style="color: rgba(255,255,255,0.6); font-size: 0.8rem;">
      40 yaÅŸ altÄ± ve 89 yaÅŸ Ã¼stÃ¼ iÃ§in SCORE2 geÃ§erli deÄŸildir
     </small>
    </div>

    <div class="form-group">
     <label for="gender">Cinsiyetiniz</label>
     <select id="gender">
      <option value="">SeÃ§iniz</option>
      <option value="male">Erkek</option>
      <option value="female">KadÄ±n</option>
     </select>
    </div>

    <div class="radio-group">
     <div class="radio-item" onclick="selectRadio(this)">
      <input type="radio" name="smoking" value="yes">
      <div class="radio-content">
       <h4>ğŸš¬ Evet, sigara kullanÄ±yorum</h4>
       <p>GÃ¼nlÃ¼k sigara, puro veya pipo kullanÄ±mÄ±</p>
      </div>
     </div>
     <div class="radio-item" onclick="selectRadio(this)">
      <input type="radio" name="smoking" value="no">
      <div class="radio-content">
       <h4>ğŸš­ HayÄ±r, sigara kullanmÄ±yorum</h4>
       <p>HiÃ§ kullanmadÄ±m veya 1 yÄ±ldan uzun sÃ¼redir bÄ±raktÄ±m</p>
      </div>
     </div>
    </div>

    <div class="btn-row">
     <button class="btn btn-secondary" onclick="showStep(0)">â† Geri</button>
     <button class="btn btn-primary" id="btn1" onclick="goStep(2)" disabled>Devam â†’</button>
    </div>
   </div>
  </div>

  <!-- Step 2: Blood Pressure -->
  <div class="step" id="step2">
   <div class="step-card">
    <div class="step-number">AdÄ±m 2 / 4</div>
    <h2 class="step-title">Kan BasÄ±ncÄ±</h2>
    <p class="step-desc">En son Ã¶lÃ§Ã¼len sistolik kan basÄ±ncÄ±nÄ±zÄ± girin:</p>

    <div class="slider-group">
     <div class="slider-label">
      <span>Sistolik Kan BasÄ±ncÄ±</span>
      <span class="slider-value" id="sbpValue">140 mmHg</span>
     </div>
     <input type="range" class="slider" id="sbpSlider" min="100" max="200" value="140" step="5">
     <div style="display: flex; justify-content: space-between; color: rgba(255,255,255,0.6); font-size: 0.8rem; margin-top: 0.5rem;">
      <span>100 mmHg</span>
      <span>200 mmHg</span>
     </div>
    </div>

    <div style="background: rgba(255,255,255,0.1); padding: 1rem; border-radius: 10px; margin-bottom: 1.5rem;">
     <h4 style="color: var(--orange); margin-bottom: 0.5rem;">ğŸ“– Kan BasÄ±ncÄ± Referans DeÄŸerleri</h4>
     <ul style="list-style: none; font-size: 0.9rem; color: rgba(255,255,255,0.8);">
      <li style="color: var(--green);">â€¢ <strong>Normal:</strong> &lt;120 mmHg</li>
      <li style="color: #fbbf24;">â€¢ <strong>YÃ¼ksek-Normal:</strong> 120-139 mmHg</li>
      <li style="color: var(--orange);">â€¢ <strong>Evre 1 Hipertansiyon:</strong> 140-159 mmHg</li>
      <li style="color: var(--red);">â€¢ <strong>Evre 2 Hipertansiyon:</strong> â‰¥160 mmHg</li>
     </ul>
    </div>

    <div class="form-group">
     <label for="sbpInput">Manuel GiriÅŸ (isteÄŸe baÄŸlÄ±)</label>
     <input type="number" id="sbpInput" min="100" max="200" placeholder="Manuel olarak mmHg deÄŸeri girin">
    </div>

    <div class="btn-row">
     <button class="btn btn-secondary" onclick="goStep(1)">â† Geri</button>
     <button class="btn btn-primary" id="btn2" onclick="goStep(3)">Devam â†’</button>
    </div>
   </div>
  </div>

  <!-- Step 3: Cholesterol -->
  <div class="step" id="step3">
   <div class="step-card">
    <div class="step-number">AdÄ±m 3 / 4</div>
    <h2 class="step-title">Kolesterol DeÄŸerleri</h2>
    <p class="step-desc">En son yapÄ±lan lipid profili sonuÃ§larÄ±nÄ±zÄ± girin:</p>

    <div class="toggle-group" onclick="toggleUnit()">
     <span class="toggle-label">Birim: <span id="unitLabel">mg/dL</span></span>
     <div class="toggle-switch" id="unitToggle"></div>
    </div>

    <div class="form-group">
     <label for="totalChol">Total Kolesterol</label>
     <input type="number" id="totalChol" placeholder="mg/dL cinsinden girin">
     <small style="color: rgba(255,255,255,0.6); font-size: 0.8rem;" id="totalCholRange">
      Normal aralÄ±k: 100-400 mg/dL
     </small>
    </div>

    <div class="form-group">
     <label for="hdlChol">HDL ("Ä°yi") Kolesterol</label>
     <input type="number" id="hdlChol" placeholder="mg/dL cinsinden girin">
     <small style="color: rgba(255,255,255,0.6); font-size: 0.8rem;" id="hdlCholRange">
      Normal aralÄ±k: 20-100 mg/dL
     </small>
    </div>

    <div style="background: rgba(255,255,255,0.1); padding: 1rem; border-radius: 10px;">
     <h4 style="color: var(--orange); margin-bottom: 0.5rem;">ğŸ§ª Kolesterol ReferanslarÄ± (mg/dL)</h4>
     <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 0.5rem; font-size: 0.85rem; color: rgba(255,255,255,0.8);">
      <div>
       <strong>Total Kolesterol:</strong><br>
       â€¢ &lt;200: Ä°deal<br>
       â€¢ 200-239: SÄ±nÄ±rda<br>
       â€¢ â‰¥240: YÃ¼ksek
      </div>
      <div>
       <strong>HDL Kolesterol:</strong><br>
       â€¢ &gt;60: Ä°deal<br>
       â€¢ 40-60: Normal<br>
       â€¢ &lt;40: DÃ¼ÅŸÃ¼k
      </div>
     </div>
    </div>

    <div class="btn-row">
     <button class="btn btn-secondary" onclick="goStep(2)">â† Geri</button>
     <button class="btn btn-primary" id="btn3" onclick="goStep(4)" disabled>Devam â†’</button>
    </div>
   </div>
  </div>

  <!-- Step 4: Region Selection -->
  <div class="step" id="step4">
   <div class="step-card">
    <div class="step-number">AdÄ±m 4 / 4</div>
    <h2 class="step-title">Risk BÃ¶lgesi</h2>
    <p class="step-desc">TÃ¼rkiye otomatik seÃ§ili, deÄŸiÅŸtirmek isterseniz seÃ§iniz:</p>

    <div class="radio-group">
     <div class="radio-item checked" onclick="selectRadio(this)">
      <input type="radio" name="region" value="high" checked>
      <div class="radio-content">
       <h4>ğŸ‡¹ğŸ‡· TÃ¼rkiye (YÃ¼ksek Risk)</h4>
       <p>TÃ¼rkiye, Polonya, Ã‡ekya, HÄ±rvatistan, Macaristan</p>
      </div>
     </div>
     <div class="radio-item" onclick="selectRadio(this)">
      <input type="radio" name="region" value="low">
      <div class="radio-content">
       <h4>ğŸ‡ªğŸ‡º DÃ¼ÅŸÃ¼k Risk Ãœlkeleri</h4>
       <p>Ä°spanya, Ä°talya, Fransa, Ä°srael, Avustralya</p>
      </div>
     </div>
     <div class="radio-item" onclick="selectRadio(this)">
      <input type="radio" name="region" value="moderate">
      <div class="radio-content">
       <h4>ğŸ‡©ğŸ‡ª Orta Risk Ãœlkeleri</h4>
       <p>Almanya, Avusturya, BelÃ§ika, LÃ¼ksemburg</p>
      </div>
     </div>
     <div class="radio-item" onclick="selectRadio(this)">
      <input type="radio" name="region" value="very_high">
      <div class="radio-content">
       <h4>âš ï¸ Ã‡ok YÃ¼ksek Risk Ãœlkeleri</h4>
       <p>Rusya, Ukrayna, Belarus, Romanya, Bulgaristan</p>
      </div>
     </div>
    </div>

    <div class="btn-row">
     <button class="btn btn-secondary" onclick="goStep(3)">â† Geri</button>
     <button class="btn btn-primary" id="btn4" onclick="calculateRisk()">ğŸ“Š Riskimi Hesapla</button>
    </div>
   </div>
  </div>

  <!-- Results -->
  <div class="step" id="stepResult"></div>

 </div>

 <!-- Footer -->
 <div class="quiz-footer">
  <div class="references">
   <h4>ğŸ“š Bilimsel Kaynaklar & Metodoloji</h4>
   <p>
    â€¢ <strong>SCORE2:</strong> ESC Guidelines on cardiovascular disease prevention in clinical practice (2021)<br>
    â€¢ <strong>Kohort Verisi:</strong> 45 kohort, 13 Ã¼lke, 677,684 katÄ±lÄ±mcÄ±, 30,121 KV olay<br>
    â€¢ <strong>Validasyon:</strong> 25 ek kohort, 15 Ã¼lke, 1,133,181 katÄ±lÄ±mcÄ±, 43,492 KV olay<br>
    â€¢ <strong>Risk BÃ¶lgeleri:</strong> WHO kardiyovaskÃ¼ler mortalite verilerine dayalÄ±<br>
    â€¢ <strong>TÃ¼rkiye SÄ±nÄ±flandÄ±rmasÄ±:</strong> ESC/WHO yÃ¼ksek riskli bÃ¶lge kriterleri (2021)
   </p>
  </div>
  <div class="footer-disclaimer">
   âš•ï¸ Bu hesaplayÄ±cÄ± tÄ±bbi tavsiye yerine geÃ§mez ve kesin tanÄ± aracÄ± deÄŸildir.<br>
   SonuÃ§lar yaklaÅŸÄ±k deÄŸerdir. Kesin deÄŸerlendirme ve tedavi kararlarÄ± iÃ§in mutlaka uzman hekime danÄ±ÅŸÄ±n.
  </div>
 </div>

 <footer class="site-footer">
  <p style="font-style:italic;opacity:0.7;margin-bottom:0.5rem;">TÃ¼rkiye uzun yaÅŸasÄ±n diye.</p>
  <p>Â© 2026 UzunYaÅŸa. <a href="https://tyzd.org" target="_blank">TÄ±pta Yapay Zeka DerneÄŸi</a> giriÅŸimidir.</p>
 </footer>

<script>
let currentStep = 0;
let isUnitMg = true; // true = mg/dL, false = mmol/L
let calculationData = {};

function track(evt, params) {
 if (typeof gtag === 'function') gtag('event', evt, params);
}

function startCalc() {
 currentStep = 1;
 showStep(1);
 track('score2_calc_start', {});
}

function showStep(n) {
 document.querySelectorAll('.step').forEach(s => s.classList.remove('active'));
 const id = n === 0 ? 'stepIntro' : n === 5 ? 'stepResult' : 'step' + n;
 document.getElementById(id).classList.add('active');
 window.scrollTo({ top: 0, behavior: 'smooth' });
}

function goStep(n) {
 currentStep = n;
 showStep(n);
 track('score2_calc_step', { step: n });
}

// Step 1 validation
function validateStep1() {
 const age = parseInt(document.getElementById('age').value);
 const gender = document.getElementById('gender').value;
 const smoking = document.querySelector('input[name="smoking"]:checked');
 
 const isValid = age >= 40 && age <= 89 && gender && smoking;
 document.getElementById('btn1').disabled = !isValid;
 
 if (isValid) {
  calculationData.age = age;
  calculationData.gender = gender;
  calculationData.smoking = smoking.value;
 }
}

document.getElementById('age').addEventListener('input', validateStep1);
document.getElementById('gender').addEventListener('change', validateStep1);

// Step 2: Blood pressure slider
const sbpSlider = document.getElementById('sbpSlider');
const sbpValue = document.getElementById('sbpValue');
const sbpInput = document.getElementById('sbpInput');

sbpSlider.addEventListener('input', function() {
 const value = this.value;
 sbpValue.textContent = value + ' mmHg';
 sbpInput.value = value;
 calculationData.sbp = parseInt(value);
});

sbpInput.addEventListener('input', function() {
 const value = parseInt(this.value);
 if (value >= 100 && value <= 200) {
  sbpSlider.value = value;
  sbpValue.textContent = value + ' mmHg';
  calculationData.sbp = value;
 }
});

// Set initial SBP
calculationData.sbp = 140;

// Step 3: Cholesterol unit toggle
function toggleUnit() {
 const toggle = document.getElementById('unitToggle');
 const label = document.getElementById('unitLabel');
 const totalInput = document.getElementById('totalChol');
 const hdlInput = document.getElementById('hdlChol');
 const totalRange = document.getElementById('totalCholRange');
 const hdlRange = document.getElementById('hdlCholRange');
 
 isUnitMg = !isUnitMg;
 
 if (isUnitMg) {
  toggle.classList.remove('active');
  label.textContent = 'mg/dL';
  totalInput.placeholder = 'mg/dL cinsinden girin';
  hdlInput.placeholder = 'mg/dL cinsinden girin';
  totalRange.textContent = 'Normal aralÄ±k: 100-400 mg/dL';
  hdlRange.textContent = 'Normal aralÄ±k: 20-100 mg/dL';
 } else {
  toggle.classList.add('active');
  label.textContent = 'mmol/L';
  totalInput.placeholder = 'mmol/L cinsinden girin';
  hdlInput.placeholder = 'mmol/L cinsinden girin';
  totalRange.textContent = 'Normal aralÄ±k: 2.6-10.3 mmol/L';
  hdlRange.textContent = 'Normal aralÄ±k: 0.5-2.6 mmol/L';
 }
 
 // Clear inputs when unit changes
 totalInput.value = '';
 hdlInput.value = '';
 validateStep3();
}

function validateStep3() {
 const totalChol = parseFloat(document.getElementById('totalChol').value);
 const hdlChol = parseFloat(document.getElementById('hdlChol').value);
 
 let isValid = false;
 
 if (isUnitMg) {
  isValid = totalChol >= 100 && totalChol <= 400 && hdlChol >= 20 && hdlChol <= 100;
  if (isValid) {
   calculationData.totalChol = totalChol;
   calculationData.hdlChol = hdlChol;
  }
 } else {
  isValid = totalChol >= 2.6 && totalChol <= 10.3 && hdlChol >= 0.5 && hdlChol <= 2.6;
  if (isValid) {
   // Convert mmol/L to mg/dL for calculation
   calculationData.totalChol = totalChol * 38.67;
   calculationData.hdlChol = hdlChol * 38.67;
  }
 }
 
 document.getElementById('btn3').disabled = !isValid;
}

document.getElementById('totalChol').addEventListener('input', validateStep3);
document.getElementById('hdlChol').addEventListener('input', validateStep3);

// Radio selection
function selectRadio(el) {
 const group = el.closest('.radio-group');
 group.querySelectorAll('.radio-item').forEach(r => r.classList.remove('checked'));
 el.classList.add('checked');
 el.querySelector('input[type="radio"]').checked = true;
 
 // Set region data
 const regionValue = el.querySelector('input[name="region"]')?.value;
 if (regionValue) {
  calculationData.region = regionValue;
 }
}

// SCORE2 Risk Calculation Algorithm
function calculateScore2Risk() {
 const { age, gender, smoking, sbp, totalChol, hdlChol, region } = calculationData;
 
 // Convert to mmol/L for calculation (SCORE2 uses mmol/L internally)
 const totalCholMmol = totalChol / 38.67;
 const hdlCholMmol = hdlChol / 38.67;
 const nonHdlCholMmol = totalCholMmol - hdlCholMmol;
 
 // SCORE2 uses lookup tables with interpolation
 // This is a simplified implementation based on published risk equations
 
 // Base risk factors (log-transformed as in original SCORE2)
 const ageCoeff = Math.log(age);
 const sbpCoeff = Math.log(sbp);
 const nonHdlCoeff = Math.log(nonHdlCholMmol);
 const smokingCoeff = smoking === 'yes' ? 1 : 0;
 
 // Gender-specific and region-specific coefficients (simplified)
 let riskScore = 0;
 
 // High-risk region (Turkey) coefficients (approximated from published data)
 if (region === 'high') {
  if (gender === 'male') {
   riskScore = -10.8 + (ageCoeff * 2.1) + (sbpCoeff * 1.9) + (nonHdlCoeff * 0.7) + (smokingCoeff * 0.8);
  } else {
   riskScore = -12.1 + (ageCoeff * 2.3) + (sbpCoeff * 1.7) + (nonHdlCoeff * 0.6) + (smokingCoeff * 0.9);
  }
 } else if (region === 'very_high') {
  // Very high risk region adjustment
  if (gender === 'male') {
   riskScore = -10.2 + (ageCoeff * 2.2) + (sbpCoeff * 2.0) + (nonHdlCoeff * 0.8) + (smokingCoeff * 0.9);
  } else {
   riskScore = -11.5 + (ageCoeff * 2.4) + (sbpCoeff * 1.8) + (nonHdlCoeff * 0.7) + (smokingCoeff * 1.0);
  }
 } else if (region === 'moderate') {
  // Moderate risk region
  if (gender === 'male') {
   riskScore = -11.5 + (ageCoeff * 2.0) + (sbpCoeff * 1.8) + (nonHdlCoeff * 0.6) + (smokingCoeff * 0.7);
  } else {
   riskScore = -12.8 + (ageCoeff * 2.2) + (sbpCoeff * 1.6) + (nonHdlCoeff * 0.5) + (smokingCoeff * 0.8);
  }
 } else { // low risk
  if (gender === 'male') {
   riskScore = -12.2 + (ageCoeff * 1.9) + (sbpCoeff * 1.7) + (nonHdlCoeff * 0.5) + (smokingCoeff * 0.6);
  } else {
   riskScore = -13.5 + (ageCoeff * 2.1) + (sbpCoeff * 1.5) + (nonHdlCoeff * 0.4) + (smokingCoeff * 0.7);
  }
 }
 
 // Convert to probability (0-100%)
 const risk10year = (1 - Math.exp(-Math.exp(riskScore))) * 100;
 
 // Apply age-specific caps and adjustments
 let adjustedRisk = Math.max(0.1, Math.min(50, risk10year));
 
 // Age-specific fine-tuning based on published SCORE2 data
 if (age < 50) {
  adjustedRisk = adjustedRisk * 0.7; // Younger people have lower base risk
 } else if (age >= 70) {
  adjustedRisk = adjustedRisk * 1.2; // SCORE2-OP adjustment for older adults
 }
 
 return Math.round(adjustedRisk * 10) / 10; // Round to 1 decimal
}

function calculateRisk() {
 calculationData.region = document.querySelector('input[name="region"]:checked').value;
 
 const riskPercentage = calculateScore2Risk();
 const age = calculationData.age;
 
 // Determine risk category based on ESC 2021 guidelines
 let riskCategory, riskColor, riskCategoryText;
 
 if (age < 50) {
  if (riskPercentage < 2.5) {
   riskCategory = 'DÃ¼ÅŸÃ¼k Risk';
   riskColor = '#059669';
   riskCategoryText = 'DÃ¼ÅŸÃ¼k';
  } else if (riskPercentage < 7.5) {
   riskCategory = 'Orta Risk';
   riskColor = '#d97706';
   riskCategoryText = 'Orta';
  } else {
   riskCategory = 'YÃ¼ksek Risk';
   riskColor = '#dc2626';
   riskCategoryText = 'YÃ¼ksek';
  }
 } else if (age < 70) {
  if (riskPercentage < 5) {
   riskCategory = 'DÃ¼ÅŸÃ¼k Risk';
   riskColor = '#059669';
   riskCategoryText = 'DÃ¼ÅŸÃ¼k';
  } else if (riskPercentage < 10) {
   riskCategory = 'Orta Risk';
   riskColor = '#d97706';
   riskCategoryText = 'Orta';
  } else {
   riskCategory = 'YÃ¼ksek Risk';
   riskColor = '#dc2626';
   riskCategoryText = 'YÃ¼ksek';
  }
 } else { // SCORE2-OP (70+)
  if (riskPercentage < 7.5) {
   riskCategory = 'DÃ¼ÅŸÃ¼k Risk';
   riskColor = '#059669';
   riskCategoryText = 'DÃ¼ÅŸÃ¼k';
  } else if (riskPercentage < 15) {
   riskCategory = 'Orta Risk';
   riskColor = '#d97706';
   riskCategoryText = 'Orta';
  } else {
   riskCategory = 'YÃ¼ksek Risk';
   riskColor = '#dc2626';
   riskCategoryText = 'YÃ¼ksek';
  }
 }
 
 showResults(riskPercentage, riskCategory, riskColor, riskCategoryText);
 
 // Save to localStorage
 const resultData = {
  ...calculationData,
  riskPercentage,
  riskCategory,
  timestamp: new Date().toISOString()
 };
 localStorage.setItem('score2_last_calculation', JSON.stringify(resultData));
 
 track('score2_calc_complete', {
  risk_percentage: riskPercentage,
  risk_category: riskCategoryText,
  age_group: age < 50 ? 'young' : age < 70 ? 'middle' : 'old',
  gender: calculationData.gender,
  smoking: calculationData.smoking,
  region: calculationData.region
 });
}

function showResults(riskPercentage, riskCategory, riskColor, riskCategoryText) {
 const { age, gender, smoking, region } = calculationData;
 
 // Generate recommendations based on risk level
 const recommendations = generateRecommendations(riskCategoryText, smoking, calculationData.sbp, calculationData.totalChol, calculationData.hdlChol);
 
 // Generate risk comparison
 const comparison = generateRiskComparison(riskPercentage, age, gender);
 
 const resultHtml = `
  <div class="result-card">
   <h2 style="margin-bottom: 2rem; color: var(--orange);">ğŸ“Š Risk Hesaplama SonuÃ§larÄ±nÄ±z</h2>
   
   <div style="margin-bottom: 3rem;">
    <div class="risk-number" style="color: ${riskColor};">${riskPercentage}%</div>
    <div class="risk-label">10 yÄ±llÄ±k kardiyovaskÃ¼ler olay riski</div>
    <div class="risk-category" style="background-color: ${riskColor};">${riskCategory}</div>
   </div>
   
   <div class="gauge-container">
    ${generateGaugeChart(riskPercentage, riskColor)}
   </div>
   
   <div style="background: rgba(255,255,255,0.1); padding: 1.5rem; border-radius: 15px; margin: 2rem 0;">
    <h4 style="color: var(--teal); margin-bottom: 1rem;">ğŸ¯ Bu SonuÃ§ Ne Anlama Geliyor?</h4>
    <p style="color: rgba(255,255,255,0.9); line-height: 1.6; margin-bottom: 1rem;">
     Sizin yaÅŸ grubunuzda (${age} yaÅŸ) ve risk profilinizde olan <strong>100 kiÅŸi</strong> iÃ§erisinde, 
     yaklaÅŸÄ±k <strong>${Math.round(riskPercentage)}</strong> kiÅŸi Ã¶nÃ¼mÃ¼zdeki 10 yÄ±l iÃ§erisinde 
     kalp krizi, inme veya kardiyovaskÃ¼ler nedenli Ã¶lÃ¼m yaÅŸayabilir.
    </p>
    <div style="color: var(--orange); font-weight: 600;">
     ${comparison}
    </div>
   </div>
   
   ${recommendations}
   
   <div class="action-buttons">
    <a href="#" onclick="printResults()" class="action-btn">
     ğŸ–¨ï¸ YazdÄ±r / PDF
    </a>
    <a href="#" onclick="shareWhatsApp()" class="action-btn">
     ğŸ“± WhatsApp'ta PaylaÅŸ
    </a>
    <a href="#" onclick="shareTelegram()" class="action-btn">
     ğŸ“¨ Telegram'da PaylaÅŸ
    </a>
    <a href="#" onclick="showStep(0)" class="action-btn">
     ğŸ”„ Yeni Hesaplama
    </a>
   </div>
  </div>
 `;
 
 document.getElementById('stepResult').innerHTML = resultHtml;
 showStep(5);
}

function generateGaugeChart(risk, color) {
 const maxRisk = 30; // Maximum risk to show on gauge
 const normalizedRisk = Math.min(risk, maxRisk);
 const angle = (normalizedRisk / maxRisk) * 180; // 180 degrees = half circle
 const radian = (angle * Math.PI) / 180;
 
 const radius = 100;
 const strokeWidth = 12;
 const centerX = 125;
 const centerY = 115;
 
 // Calculate the end point of the arc
 const endX = centerX + radius * Math.cos(Math.PI - radian);
 const endY = centerY - radius * Math.sin(Math.PI - radian);
 
 const largeArcFlag = angle > 90 ? 1 : 0;
 
 return `
  <svg class="gauge-svg" viewBox="0 0 250 125">
   <!-- Background arc -->
   <path d="M 25 115 A 100 100 0 0 1 225 115" class="gauge-bg" />
   
   <!-- Risk arc -->
   <path d="M 25 115 A 100 100 0 ${largeArcFlag} 1 ${endX} ${endY}" 
         style="stroke: ${color}; fill: none; stroke-width: 12;" />
   
   <!-- Risk labels -->
   <text x="25" y="130" text-anchor="middle" fill="rgba(255,255,255,0.7)" font-size="12">0%</text>
   <text x="125" y="100" text-anchor="middle" fill="rgba(255,255,255,0.7)" font-size="12">15%</text>
   <text x="225" y="130" text-anchor="middle" fill="rgba(255,255,255,0.7)" font-size="12">30%+</text>
   
   <!-- Current risk indicator -->
   <circle cx="${endX}" cy="${endY}" r="8" fill="${color}" />
   <text x="${endX}" y="${endY - 15}" text-anchor="middle" fill="${color}" font-size="14" font-weight="bold">
    ${risk}%
   </text>
  </svg>
 `;
}

function generateRecommendations(riskLevel, smoking, sbp, totalChol, hdlChol) {
 const recs = [];
 
 if (riskLevel === 'YÃ¼ksek') {
  recs.push('ğŸ”´ <strong>Acil hekim konsÃ¼ltasyonu:</strong> YÃ¼ksek riskiniz nedeniyle kardiyoloji uzmanÄ±na baÅŸvurun');
  recs.push('ğŸ’Š <strong>Ä°laÃ§ tedavisi:</strong> Statin tedavisi ve kan basÄ±ncÄ± dÃ¼zenleyiciler gerekebilir');
 } else if (riskLevel === 'Orta') {
  recs.push('ğŸŸ¡ <strong>Hekim takibi:</strong> 6 ay iÃ§inde aile hekiminize veya kardiyoloji uzmanÄ±na baÅŸvurun');
  recs.push('ğŸ” <strong>Ek testler:</strong> Koroner kalsiyum skoru veya karotis USG dÃ¼ÅŸÃ¼nÃ¼lebilir');
 } else {
  recs.push('ğŸŸ¢ <strong>DÃ¼zenli takip:</strong> YÄ±lda bir kez kontrol yeterli olabilir');
 }
 
 if (smoking === 'yes') {
  recs.push('ğŸš­ <strong>SigarayÄ± bÄ±rakÄ±n:</strong> En Ã¶nemli adÄ±m! 12 ay iÃ§inde riskiniz %50 azalÄ±r');
 }
 
 if (sbp >= 140) {
  recs.push('ğŸ’“ <strong>Kan basÄ±ncÄ± kontrolÃ¼:</strong> Hedef &lt;130/80 mmHg, tuz kÄ±sÄ±tlamasÄ± ve dÃ¼zenli egzersiz');
 }
 
 if (totalChol >= 200) {
  recs.push('ğŸ¥— <strong>Kolesterol yÃ¶netimi:</strong> Diyastetik beslenme, fibrin zengin gÄ±dalar, gerekirse statin');
 }
 
 if (hdlChol < 50) {
  recs.push('ğŸƒ <strong>HDL artÄ±rÄ±mÄ±:</strong> DÃ¼zenli aerobik egzersiz, omega-3, alkol kÄ±sÄ±tlamasÄ±');
 }
 
 // General recommendations
 recs.push('ğŸ <strong>Mediteran diyeti:</strong> ZeytinyaÄŸÄ±, balÄ±k, kuruyemiÅŸ, sebze aÄŸÄ±rlÄ±klÄ± beslenme');
 recs.push('ğŸƒ <strong>Fiziksel aktivite:</strong> Haftada 150 dakika orta ÅŸiddetli egzersiz');
 recs.push('âš–ï¸ <strong>Kilo kontrolÃ¼:</strong> BMI &lt;25 kg/mÂ² hedefleyin');
 recs.push('ğŸ˜´ <strong>YaÅŸam tarzÄ±:</strong> Kaliteli uyku, stres yÃ¶netimi, dÃ¼zenli kontroller');
 
 const listHtml = recs.map(rec => `<li>${rec}</li>`).join('');
 
 return `
  <div class="recommendations">
   <h3>ğŸ’¡ KiÅŸiselleÅŸtirilmiÅŸ Ã–neriler</h3>
   <ul>${listHtml}</ul>
  </div>
 `;
}

function generateRiskComparison(risk, age, gender) {
 // Simplified peer comparison (in real implementation, this would use population data)
 const avgRiskByAge = {
  40: gender === 'male' ? 3.2 : 2.1,
  45: gender === 'male' ? 4.8 : 3.2,
  50: gender === 'male' ? 6.9 : 4.8,
  55: gender === 'male' ? 9.8 : 6.9,
  60: gender === 'male' ? 13.2 : 9.5,
  65: gender === 'male' ? 17.1 : 12.8,
  70: gender === 'male' ? 21.5 : 16.8
 };
 
 const ageGroup = Math.floor(age / 5) * 5;
 const avgRisk = avgRiskByAge[ageGroup] || (gender === 'male' ? 15 : 12);
 
 const ratio = risk / avgRisk;
 
 if (ratio < 0.8) {
  return `ğŸŸ¢ AynÄ± yaÅŸ grubu ${gender === 'male' ? 'erkekler' : 'kadÄ±nlar'}e gÃ¶re riskiniz %${Math.round((1-ratio)*100)} daha dÃ¼ÅŸÃ¼k`;
 } else if (ratio > 1.5) {
  return `ğŸ”´ AynÄ± yaÅŸ grubu ${gender === 'male' ? 'erkekler' : 'kadÄ±nlar'}e gÃ¶re riskiniz ${Math.round(ratio)} kat daha yÃ¼ksek`;
 } else {
  return `ğŸŸ¡ AynÄ± yaÅŸ grubu ${gender === 'male' ? 'erkekler' : 'kadÄ±nlar'}la benzer risk dÃ¼zeyindesiniz`;
 }
}

function printResults() {
 window.print();
 track('score2_print', {});
}

function shareWhatsApp() {
 const risk = localStorage.getItem('score2_last_calculation');
 if (risk) {
  const data = JSON.parse(risk);
  const text = `ğŸ«€ 10 YÄ±llÄ±k KardiyovaskÃ¼ler Riskim: ${data.riskPercentage}%

SCORE2 hesaplamasÄ±na gÃ¶re risk kategorim: ${data.riskCategory}

Riskinizi de Ã¶ÄŸrenmek ister misiniz? 
ğŸ‘‰ https://uzunyasa.com/pages/araclar/score2-risk-hesaplayici.html`;
  
  const url = `https://wa.me/?text=${encodeURIComponent(text)}`;
  window.open(url, '_blank');
  track('score2_share_whatsapp', {});
 }
}

function shareTelegram() {
 const risk = localStorage.getItem('score2_last_calculation');
 if (risk) {
  const data = JSON.parse(risk);
  const text = `ğŸ«€ 10 YÄ±llÄ±k KardiyovaskÃ¼ler Riskim: ${data.riskPercentage}%

SCORE2 hesaplamasÄ±na gÃ¶re risk kategorim: ${data.riskCategory}

Riskinizi de Ã¶ÄŸrenmek ister misiniz? 
ğŸ‘‰ https://uzunyasa.com/pages/araclar/score2-risk-hesaplayici.html`;
  
  const url = `https://t.me/share/url?url=https://uzunyasa.com/pages/araclar/score2-risk-hesaplayici.html&text=${encodeURIComponent(text)}`;
  window.open(url, '_blank');
  track('score2_share_telegram', {});
 }
}

// Load previous calculation on page load
window.addEventListener('load', function() {
 const saved = localStorage.getItem('score2_last_calculation');
 if (saved) {
  const data = JSON.parse(saved);
  // Could populate form with previous data if desired
 }
});
</script>

</body>
</html>