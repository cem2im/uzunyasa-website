<!DOCTYPE html>
<html lang="tr">
<head>
<link rel="icon" type="image/png" sizes="32x32" href="/favicon.png"><link rel="icon" type="image/png" sizes="16x16" href="/favicon-16.png">
<script src="/scripts/https-redirect.js"></script>
<!-- Google tag (gtag.js) -->
<script async src="https://www.googletagmanager.com/gtag/js?id=G-QBM7E0EHFP"></script>
<script>
 window.dataLayer = window.dataLayer || [];
 function gtag(){dataLayer.push(arguments);}
 gtag('js', new Date());
 gtag('config', 'G-QBM7E0EHFP');
</script>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta name="theme-color" content="#0D7377">
<link rel="manifest" href="/manifest-sahur.json">
<title>Sahur & ƒ∞ftar √ñƒü√ºn Planlayƒ±cƒ±sƒ± ‚Äî Ramazan Beslenme Rehberi | UzunYa≈üa</title>
<meta name="description" content="Ramazan ayƒ±na √∂zel ki≈üiselle≈ütirilmi≈ü sahur ve iftar √∂ƒü√ºn planƒ± olu≈üturun. Kalori, makro hesaplama ve T√ºrk mutfaƒüƒ±ndan saƒülƒ±klƒ± yemek √∂nerileri.">
<link rel="canonical" href="https://uzunyasa.com/pages/araclar/sahur-iftar-planlayici.html">
<meta property="og:title" content="Sahur & ƒ∞ftar √ñƒü√ºn Planlayƒ±cƒ±sƒ± ‚Äî Ramazan Beslenme Rehberi | UzunYa≈üa">
<meta property="og:description" content="Ki≈üiselle≈ütirilmi≈ü Ramazan √∂ƒü√ºn planƒ±: sahur ve iftar i√ßin kalori, makro ve T√ºrk yemek √∂nerileri.">
<meta property="og:image" content="https://uzunyasa.com/images/og-default.png">
<meta property="og:url" content="https://uzunyasa.com/pages/araclar/sahur-iftar-planlayici.html">
<meta property="og:type" content="website">
<meta property="og:locale" content="tr_TR">
<link rel="preconnect" href="https://fonts.googleapis.com">
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
<link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700;800;900&family=Playfair+Display:wght@700&display=swap" rel="stylesheet">
<style>
:root{
  --primary:#0D7377;--dark:#195157;--accent:#E8963E;
  --protein:#E8963E;--fat:#dc2626;--carb:#2D9F4F;--water:#3b82f6;--ramadan-deep:#1a1040;--ramadan-purple:#2d1b69;
  --bg:#f8fafa;--card:#fff;
  --gray-50:#f9fafb;--gray-100:#f3f4f6;--gray-200:#e5e7eb;--gray-300:#d1d5db;
  --gray-400:#9ca3af;--gray-500:#6b7280;--gray-600:#4b5563;--gray-700:#374151;--gray-900:#111827;
  --radius:16px;--shadow:0 4px 24px rgba(0,0,0,.08);
  --ramadan-gold:#E8963E;--ramadan-deep:#1a1a2e;--ramadan-purple:#16213e;
}
*{margin:0;padding:0;box-sizing:border-box}
body{font-family:'Inter',system-ui,sans-serif;background:var(--bg);color:var(--gray-700);line-height:1.6;min-height:100vh;display:flex;flex-direction:column}
.playfair{font-family:'Playfair Display',serif}

/* Header */
.site-header{background:#fff;border-bottom:1px solid var(--gray-200);padding:.875rem 1.5rem;position:sticky;top:0;z-index:100;display:flex;align-items:center;justify-content:space-between}
.site-header a{text-decoration:none;display:flex;align-items:center;gap:.5rem}
.logo-text{font-family:'Playfair Display',serif;font-size:1.35rem;font-weight:700;color:var(--dark)}
.logo-text span{color:var(--accent)}
.back-link{font-size:.875rem;color:var(--primary);font-weight:600;text-decoration:none;display:flex;align-items:center;gap:.25rem}

/* Main */
.main-wrap{max-width:800px;margin:0 auto;padding:1rem;width:100%;flex:1}

/* Hero */
.hero{text-align:center;padding:2.5rem 1rem 2rem;position:relative;overflow:hidden}
.hero::before{content:'';position:absolute;top:0;left:0;right:0;bottom:0;background:linear-gradient(135deg,rgba(13,115,119,.04),rgba(232,150,62,.06));border-radius:var(--radius);z-index:0}
.hero>*{position:relative;z-index:1}
.hero-icon{font-size:3.5rem;margin-bottom:.75rem;display:block;animation:float 3s ease-in-out infinite}
@keyframes float{0%,100%{transform:translateY(0)}50%{transform:translateY(-8px)}}
.hero h1{font-family:'Playfair Display',serif;font-size:2rem;color:var(--dark);margin-bottom:.5rem;line-height:1.2}
.hero p{color:var(--gray-500);max-width:500px;margin:0 auto;font-size:.95rem}

/* Cards */
.card{background:var(--card);border-radius:var(--radius);box-shadow:var(--shadow);overflow:hidden;margin-bottom:1.25rem;transition:transform .2s}
.card-header{padding:1.25rem 1.5rem;border-bottom:1px solid var(--gray-100);display:flex;align-items:center;gap:.75rem}
.card-header .icon{font-size:1.5rem}
.card-header h2{font-family:'Playfair Display',serif;font-size:1.2rem;color:var(--dark);flex:1}
.card-header .step{background:var(--primary);color:#fff;width:28px;height:28px;border-radius:50%;display:flex;align-items:center;justify-content:center;font-size:.8rem;font-weight:700;flex-shrink:0}
.card-body{padding:1.25rem 1.5rem}

/* Form elements */
.form-grid{display:grid;grid-template-columns:1fr 1fr;gap:1rem}
.form-group{display:flex;flex-direction:column;gap:.35rem}
.form-group.full{grid-column:1/-1}
.form-label{font-size:.8rem;font-weight:600;color:var(--gray-600);text-transform:uppercase;letter-spacing:.3px}
.form-input{padding:.7rem 1rem;border:2px solid var(--gray-200);border-radius:12px;font-size:.95rem;font-family:inherit;transition:border-color .2s;background:#fff;color:var(--gray-700);width:100%}
.form-input:focus{outline:none;border-color:var(--primary)}
select.form-input{cursor:pointer;appearance:none;background-image:url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='12' height='12' viewBox='0 0 12 12'%3E%3Cpath d='M6 8L1 3h10z' fill='%239ca3af'/%3E%3C/svg%3E");background-repeat:no-repeat;background-position:right 1rem center}

/* Checkboxes */
.checkbox-grid{display:grid;grid-template-columns:1fr 1fr;gap:.5rem}
.checkbox-item{display:flex;align-items:center;gap:.5rem;padding:.5rem .75rem;border:2px solid var(--gray-200);border-radius:10px;cursor:pointer;transition:all .2s;font-size:.85rem}
.checkbox-item:hover{border-color:var(--primary);background:rgba(13,115,119,.03)}
.checkbox-item.checked{border-color:var(--primary);background:rgba(13,115,119,.06)}
.checkbox-item input{display:none}
.checkbox-box{width:18px;height:18px;border:2px solid var(--gray-300);border-radius:5px;display:flex;align-items:center;justify-content:center;transition:all .2s;flex-shrink:0}
.checkbox-item.checked .checkbox-box{background:var(--primary);border-color:var(--primary)}
.checkbox-item.checked .checkbox-box::after{content:'‚úì';color:#fff;font-size:.7rem;font-weight:700}

/* Goal buttons */
.goal-grid{display:grid;grid-template-columns:repeat(3,1fr);gap:.75rem}
.goal-btn{padding:1rem .5rem;border:2px solid var(--gray-200);border-radius:12px;background:#fff;cursor:pointer;text-align:center;transition:all .2s;font-family:inherit}
.goal-btn:hover{border-color:var(--primary);transform:translateY(-2px)}
.goal-btn.active{border-color:var(--primary);background:rgba(13,115,119,.06);box-shadow:0 0 0 3px rgba(13,115,119,.1)}
.goal-btn .emoji{font-size:1.5rem;display:block;margin-bottom:.25rem}
.goal-btn .label{font-size:.8rem;font-weight:600;color:var(--dark)}

/* Buttons */
.btn{display:inline-flex;align-items:center;justify-content:center;gap:.5rem;padding:.9rem 2.5rem;border-radius:99px;border:none;font-size:1rem;font-weight:700;cursor:pointer;transition:all .2s;font-family:inherit}
.btn-primary{background:var(--primary);color:#fff}.btn-primary:hover{background:var(--dark);transform:translateY(-1px)}
.btn-accent{background:var(--accent);color:#fff}.btn-accent:hover{filter:brightness(1.1);transform:translateY(-1px)}
.btn-outline{background:transparent;border:2px solid var(--primary);color:var(--primary)}.btn-outline:hover{background:var(--primary);color:#fff}
.btn-sm{padding:.6rem 1.25rem;font-size:.85rem}
.btn:disabled{opacity:.5;cursor:not-allowed;transform:none!important}
.btn-area{text-align:center;padding:1rem 0}

/* Results section */
#resultsSection{display:none}
#resultsSection.show{display:block;animation:slideUp .5s ease}

/* Summary banner */
.summary-banner{background:linear-gradient(135deg,var(--dark),var(--primary));color:#fff;border-radius:var(--radius);padding:1.5rem;margin-bottom:1.25rem;position:relative;overflow:hidden}
.summary-banner::before{content:'‚ò™';position:absolute;right:-10px;top:-10px;font-size:6rem;opacity:.08}
.summary-banner h3{font-family:'Playfair Display',serif;font-size:1.3rem;margin-bottom:1rem}
.summary-stats{display:grid;grid-template-columns:repeat(4,1fr);gap:.75rem}
.stat-item{text-align:center}
.stat-value{font-size:1.5rem;font-weight:800;line-height:1}
.stat-label{font-size:.7rem;opacity:.8;margin-top:.2rem;text-transform:uppercase;letter-spacing:.5px}

/* Macro bars */
.macro-bars{display:flex;flex-direction:column;gap:.6rem;margin:1rem 0}
.macro-bar-row{display:flex;align-items:center;gap:.75rem}
.macro-bar-label{width:70px;font-size:.8rem;font-weight:600;display:flex;align-items:center;gap:.35rem}
.macro-bar-track{flex:1;height:10px;background:var(--gray-100);border-radius:99px;overflow:hidden;position:relative}
.macro-bar-fill{height:100%;border-radius:99px;transition:width .8s ease;position:relative}
.macro-bar-fill.protein{background:linear-gradient(90deg,#fbbf24,var(--protein))}
.macro-bar-fill.fat{background:linear-gradient(90deg,#f87171,var(--fat))}
.macro-bar-fill.carb{background:linear-gradient(90deg,#6ee7b7,var(--carb))}
.macro-bar-value{width:50px;text-align:right;font-size:.85rem;font-weight:700;font-variant-numeric:tabular-nums}

/* Meal card */
.meal-card{background:var(--card);border-radius:var(--radius);box-shadow:var(--shadow);margin-bottom:1.25rem;overflow:hidden}
.meal-card-header{padding:1.25rem 1.5rem;display:flex;align-items:center;gap:.75rem;cursor:pointer;user-select:none;transition:background .2s}
.meal-card-header:hover{background:var(--gray-50)}
.meal-card-header .meal-icon{font-size:2rem}
.meal-card-header .meal-info{flex:1}
.meal-card-header .meal-title{font-family:'Playfair Display',serif;font-size:1.15rem;color:var(--dark)}
.meal-card-header .meal-subtitle{font-size:.8rem;color:var(--gray-500)}
.meal-card-header .meal-cal{text-align:right}
.meal-card-header .meal-cal-value{font-size:1.3rem;font-weight:800;color:var(--primary)}
.meal-card-header .meal-cal-unit{font-size:.7rem;color:var(--gray-400)}
.meal-card-header .expand-icon{font-size:1.2rem;color:var(--gray-400);transition:transform .3s}
.meal-card.expanded .expand-icon{transform:rotate(180deg)}
.meal-card-body{max-height:0;overflow:hidden;transition:max-height .4s ease}
.meal-card.expanded .meal-card-body{max-height:2000px}
.meal-card-content{padding:0 1.5rem 1.5rem}

/* Food items */
.food-list{list-style:none}
.food-item{display:flex;align-items:center;gap:.75rem;padding:.75rem 0;border-bottom:1px solid var(--gray-100)}
.food-item:last-child{border-bottom:none}
.food-item-icon{font-size:1.3rem;width:36px;height:36px;display:flex;align-items:center;justify-content:center;background:var(--gray-50);border-radius:10px;flex-shrink:0}
.food-item-info{flex:1}
.food-item-name{font-size:.9rem;font-weight:600;color:var(--dark)}
.food-item-portion{font-size:.75rem;color:var(--gray-400)}
.food-item-macros{display:flex;gap:.5rem;font-size:.7rem;font-weight:600}
.food-item-macros .m-p{color:var(--protein)}
.food-item-macros .m-f{color:var(--fat)}
.food-item-macros .m-c{color:var(--carb)}
.food-item-cal{font-size:.85rem;font-weight:700;color:var(--gray-600);min-width:50px;text-align:right}
.food-swap-btn{width:34px;height:34px;border-radius:50%;border:2px solid var(--gray-200);background:#fff;cursor:pointer;font-size:.9rem;display:flex;align-items:center;justify-content:center;transition:all .2s;flex-shrink:0;margin-left:.5rem}
.food-swap-btn:hover{border-color:var(--primary);background:rgba(13,115,119,.06);transform:rotate(180deg)}
.food-swap-btn:active{transform:rotate(360deg);background:rgba(13,115,119,.12)}

/* ‚ïê‚ïê BOWL BUILDER / MEN√ú ‚ïê‚ïê */
.menu-builder{background:var(--card);border-radius:var(--radius);box-shadow:var(--shadow);margin-bottom:1.25rem;overflow:hidden}
.menu-builder-header{padding:1.25rem 1.5rem;border-bottom:1px solid var(--gray-100);display:flex;align-items:center;gap:.75rem;cursor:pointer;user-select:none}
.menu-builder-header:hover{background:var(--gray-50)}
.menu-builder-header h2{font-family:'Playfair Display',serif;font-size:1.15rem;color:var(--dark);flex:1}
.menu-builder-header .expand-icon{font-size:1.2rem;color:var(--gray-400);transition:transform .3s}
.menu-builder.open .expand-icon{transform:rotate(180deg)}
.menu-builder-body{max-height:0;overflow:hidden;transition:max-height .4s ease}
.menu-builder.open .menu-builder-body{max-height:5000px}
.menu-builder-content{padding:1rem 1.5rem}

/* Meal selector tabs */
.meal-tabs{display:flex;gap:.5rem;margin-bottom:1rem;overflow-x:auto;padding-bottom:.25rem}
.meal-tab{padding:.6rem 1.25rem;border-radius:99px;border:2px solid var(--gray-200);background:#fff;cursor:pointer;font-size:.85rem;font-weight:600;font-family:inherit;white-space:nowrap;transition:all .2s}
.meal-tab:hover{border-color:var(--primary)}
.meal-tab.active{background:var(--primary);color:#fff;border-color:var(--primary)}
.meal-tab .tab-cal{font-size:.75rem;opacity:.7;margin-left:.25rem}

/* Category pills */
.cat-pills{display:flex;gap:.4rem;overflow-x:auto;padding-bottom:.5rem;margin-bottom:1rem;-webkit-overflow-scrolling:touch}
.cat-pill{padding:.45rem .9rem;border-radius:99px;border:1.5px solid var(--gray-200);background:#fff;cursor:pointer;font-size:.75rem;font-weight:600;font-family:inherit;white-space:nowrap;transition:all .2s;color:var(--gray-600)}
.cat-pill:hover{border-color:var(--primary);color:var(--primary)}
.cat-pill.active{background:var(--primary);color:#fff;border-color:var(--primary)}
.cat-pill .cat-count{font-size:.65rem;opacity:.6;margin-left:.2rem}

/* Food menu grid */
.menu-grid{display:grid;grid-template-columns:repeat(2,1fr);gap:.6rem;max-height:400px;overflow-y:auto;padding-right:.25rem}
.menu-food{display:flex;align-items:center;gap:.6rem;padding:.65rem .75rem;border:2px solid var(--gray-100);border-radius:12px;cursor:pointer;transition:all .15s;background:#fff;min-height:60px}
.menu-food:hover{border-color:var(--primary);background:rgba(13,115,119,.02);transform:translateY(-1px)}
.menu-food:active{transform:scale(.98)}
.menu-food.in-meal{border-color:var(--accent);background:rgba(232,150,62,.06)}
.menu-food.in-meal::after{content:'‚úì';position:absolute;top:4px;right:8px;font-size:.65rem;color:var(--accent);font-weight:700}
.menu-food{position:relative}
.menu-food .mf-icon{font-size:1.5rem;flex-shrink:0}
.menu-food .mf-info{flex:1;min-width:0}
.menu-food .mf-name{font-size:.8rem;font-weight:600;color:var(--dark);line-height:1.2;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}
.menu-food .mf-meta{font-size:.65rem;color:var(--gray-400);margin-top:.1rem}
.menu-food .mf-macros{font-size:.6rem;color:var(--gray-400);margin-top:.1rem;font-weight:500}
.menu-food .mf-cal{font-size:.8rem;font-weight:700;color:var(--primary);flex-shrink:0;text-align:center;min-width:40px}
.menu-food .mf-add{width:26px;height:26px;border-radius:50%;border:2px solid var(--gray-200);display:flex;align-items:center;justify-content:center;font-size:.75rem;flex-shrink:0;transition:all .15s;background:#fff}
.menu-food:hover .mf-add{border-color:var(--primary);color:var(--primary)}
.menu-food.in-meal .mf-add{background:var(--accent);border-color:var(--accent);color:#fff}

/* Selected foods basket */
.basket{background:var(--gray-50);border-radius:12px;padding:1rem;margin-bottom:1rem;min-height:60px}
.basket-title{font-size:.8rem;font-weight:700;color:var(--gray-500);text-transform:uppercase;letter-spacing:.5px;margin-bottom:.5rem;display:flex;align-items:center;justify-content:space-between}
.basket-items{display:flex;flex-wrap:wrap;gap:.4rem}
.basket-chip{display:inline-flex;align-items:center;gap:.3rem;padding:.35rem .7rem;background:#fff;border:1.5px solid var(--gray-200);border-radius:20px;font-size:.75rem;font-weight:500;cursor:pointer;transition:all .15s}
.basket-chip:hover{border-color:#ef4444;background:#fef2f2}
.basket-chip:hover .chip-x{color:#ef4444}
.chip-x{font-size:.65rem;color:var(--gray-400);margin-left:.15rem}
.basket-empty{font-size:.8rem;color:var(--gray-400);font-style:italic}

/* Running total bar */
.running-total{display:flex;align-items:center;justify-content:space-between;background:linear-gradient(135deg,var(--dark),var(--primary));color:#fff;border-radius:10px;padding:.65rem 1rem;margin-bottom:1rem;font-size:.8rem}
.running-total .rt-cal{font-size:1.1rem;font-weight:800}
.running-total .rt-macros{display:flex;gap:.75rem;font-size:.7rem}
.running-total .rt-macros span{opacity:.85}

@media(max-width:600px){
  .menu-grid{grid-template-columns:1fr}
  .menu-builder-content{padding:.75rem 1rem}
}
/* Builder intro text */
.builder-intro{font-size:.85rem;color:var(--gray-500);margin-bottom:1rem;padding:.75rem 1rem;background:linear-gradient(135deg,rgba(13,115,119,.04),rgba(232,150,62,.06));border-radius:10px;text-align:center;line-height:1.5}

/* Target progress bar */
.target-progress{margin-bottom:1rem;background:var(--gray-50);border-radius:12px;padding:.75rem 1rem}
.target-progress-header{display:flex;justify-content:space-between;align-items:center;margin-bottom:.4rem}
.target-label{font-size:.8rem;font-weight:600;color:var(--gray-600)}
.target-current{font-size:.85rem;font-weight:700;color:var(--primary)}
.target-bar{height:8px;background:var(--gray-200);border-radius:99px;overflow:hidden}
.target-bar-fill{height:100%;border-radius:99px;background:linear-gradient(90deg,var(--primary),var(--accent));transition:width .4s ease}
.target-bar-fill.over{background:linear-gradient(90deg,#ef4444,#dc2626)}
.target-bar-fill.perfect{background:linear-gradient(90deg,#22c55e,#16a34a)}

/* ‚ïê‚ïê SHOPPING LIST ‚ïê‚ïê */
.shopping-card{background:var(--card);border-radius:var(--radius);box-shadow:var(--shadow);margin-bottom:1.25rem;overflow:hidden}
.shopping-card-header{padding:1.25rem 1.5rem;border-bottom:1px solid var(--gray-100);display:flex;align-items:center;gap:.75rem;cursor:pointer;user-select:none}
.shopping-card-header:hover{background:var(--gray-50)}
.shopping-card-header h2{font-family:'Playfair Display',serif;font-size:1.15rem;color:var(--dark);flex:1}
.shopping-card-header .expand-icon{font-size:1.2rem;color:var(--gray-400);transition:transform .3s}
.shopping-card.expanded .expand-icon{transform:rotate(180deg)}
.shopping-card-body{max-height:0;overflow:hidden;transition:max-height .4s ease}
.shopping-card.expanded .shopping-card-body{max-height:5000px}
.shopping-card-content{padding:1rem 1.5rem}

.shopping-day-tabs{display:flex;gap:.4rem;margin-bottom:1rem;overflow-x:auto;padding-bottom:.25rem}
.shopping-day-tab{padding:.5rem 1rem;border-radius:99px;border:2px solid var(--gray-200);background:#fff;cursor:pointer;font-size:.8rem;font-weight:600;font-family:inherit;white-space:nowrap;transition:all .2s}
.shopping-day-tab:hover{border-color:var(--primary)}
.shopping-day-tab.active{background:var(--primary);color:#fff;border-color:var(--primary)}

.shopping-category{margin-bottom:1rem}
.shopping-cat-header{display:flex;align-items:center;gap:.5rem;padding:.5rem 0;border-bottom:2px solid var(--gray-100);margin-bottom:.5rem}
.shopping-cat-header .sc-icon{font-size:1.1rem}
.shopping-cat-header .sc-name{font-size:.85rem;font-weight:700;color:var(--dark)}
.shopping-cat-header .sc-count{font-size:.7rem;color:var(--gray-400);margin-left:auto}

.shopping-item{display:flex;align-items:center;gap:.6rem;padding:.5rem .25rem;border-bottom:1px solid var(--gray-50);cursor:pointer;transition:all .15s;border-radius:6px}
.shopping-item:hover{background:var(--gray-50)}
.shopping-item.checked{opacity:.5}
.shopping-item.checked .si-name{text-decoration:line-through}
.si-check{width:22px;height:22px;border:2px solid var(--gray-300);border-radius:6px;display:flex;align-items:center;justify-content:center;flex-shrink:0;transition:all .2s;font-size:.65rem}
.shopping-item.checked .si-check{background:var(--primary);border-color:var(--primary);color:#fff}
.shopping-item.checked .si-check::after{content:'‚úì'}
.si-icon{font-size:1rem;flex-shrink:0}
.si-name{font-size:.85rem;font-weight:500;color:var(--gray-700);flex:1}
.si-portion{font-size:.75rem;color:var(--gray-400);flex-shrink:0;text-align:right}

.shopping-summary{background:linear-gradient(135deg,rgba(13,115,119,.06),rgba(232,150,62,.04));border-radius:10px;padding:.75rem 1rem;margin-bottom:1rem;display:flex;justify-content:space-between;align-items:center;font-size:.8rem}
.shopping-summary .ss-total{font-weight:700;color:var(--dark)}
.shopping-summary .ss-checked{color:var(--primary);font-weight:600}

.shopping-actions{display:flex;gap:.5rem;justify-content:center;flex-wrap:wrap;margin-top:.75rem}

@media print{
  .shopping-card{break-inside:avoid;box-shadow:none;border:1px solid #ddd}
  .shopping-card-body{max-height:none!important;overflow:visible!important}
  .shopping-item.checked{opacity:.4}
  .shopping-actions,.shopping-day-tabs{display:none!important}
}

.food-item.swapping{animation:swapAnim .3s ease}
@keyframes swapAnim{0%{opacity:1;transform:translateX(0)}50%{opacity:0;transform:translateX(20px)}100%{opacity:1;transform:translateX(0)}}

/* Meal macro summary */
.meal-macro-summary{background:var(--gray-50);border-radius:12px;padding:1rem;margin-top:.75rem}
.meal-macro-summary h4{font-size:.75rem;text-transform:uppercase;letter-spacing:.5px;color:var(--gray-500);margin-bottom:.5rem}
.mini-macro-bars{display:grid;grid-template-columns:repeat(3,1fr);gap:.5rem}
.mini-macro{text-align:center}
.mini-macro .bar{height:6px;background:var(--gray-200);border-radius:99px;overflow:hidden;margin-bottom:.25rem}
.mini-macro .bar-fill{height:100%;border-radius:99px}
.mini-macro .val{font-size:.8rem;font-weight:700}
.mini-macro .lbl{font-size:.65rem;color:var(--gray-400);text-transform:uppercase}

/* Hydration card */
.hydration-card{background:linear-gradient(135deg,#eff6ff,#dbeafe);border:2px solid #93c5fd;border-radius:var(--radius);padding:1.5rem;margin-bottom:1.25rem}
.hydration-card h3{color:#1e40af;font-family:'Playfair Display',serif;font-size:1.1rem;margin-bottom:.75rem;display:flex;align-items:center;gap:.5rem}
.hydration-grid{display:grid;grid-template-columns:1fr 1fr;gap:1rem}
.hydration-item{text-align:center}
.hydration-item .h-value{font-size:1.8rem;font-weight:800;color:#1e40af}
.hydration-item .h-label{font-size:.75rem;color:#3b82f6}
.hydration-schedule{margin-top:1rem;display:flex;flex-direction:column;gap:.4rem}
.hydration-time{display:flex;align-items:center;gap:.5rem;font-size:.8rem;color:#1e3a5f;padding:.4rem .75rem;background:rgba(255,255,255,.6);border-radius:8px}
.hydration-time .ht-icon{font-size:1rem}

/* Tips card */
.tips-card{background:linear-gradient(135deg,#fefce8,#fef3c7);border:2px solid #fbbf24;border-radius:var(--radius);padding:1.5rem;margin-bottom:1.25rem}
.tips-card h3{color:#92400e;font-family:'Playfair Display',serif;font-size:1.1rem;margin-bottom:.75rem;display:flex;align-items:center;gap:.5rem}
.tips-list{list-style:none;display:flex;flex-direction:column;gap:.5rem}
.tips-list li{font-size:.85rem;color:#78350f;display:flex;align-items:flex-start;gap:.5rem;padding:.4rem 0}
.tips-list li::before{content:'üí°';font-size:.85rem;flex-shrink:0}

/* Warning card */
.warning-card{background:linear-gradient(135deg,#fef2f2,#fee2e2);border:2px solid #f87171;border-radius:var(--radius);padding:1.5rem;margin-bottom:1.25rem;display:none}
.warning-card.show{display:block;animation:slideUp .4s ease}
.warning-card h3{color:#991b1b;font-family:'Playfair Display',serif;font-size:1.1rem;margin-bottom:.75rem;display:flex;align-items:center;gap:.5rem}
.warning-list{list-style:none;display:flex;flex-direction:column;gap:.5rem}
.warning-list li{font-size:.85rem;color:#7f1d1d;display:flex;align-items:flex-start;gap:.5rem;padding:.4rem 0}
.warning-list li .w-icon{font-size:.85rem;flex-shrink:0}

/* Action buttons */
.action-bar{display:flex;gap:.75rem;justify-content:center;flex-wrap:wrap;margin:1.5rem 0}

/* Footer */
.site-footer{background:var(--dark);color:rgba(255,255,255,.7);text-align:center;padding:2rem 1.5rem;font-size:.8rem;margin-top:auto}
.site-footer a{color:var(--accent);text-decoration:none}

/* Animations */
@keyframes slideUp{from{opacity:0;transform:translateY(20px)}to{opacity:1;transform:translateY(0)}}
@keyframes fadeIn{from{opacity:0}to{opacity:1}}
.slide-up{animation:slideUp .4s ease}

/* Print */
@media print{
  .site-header,.site-footer,.action-bar,.btn-area,#inputSection,.no-print{display:none!important}
  body{background:#fff;font-size:12px}
  .main-wrap{max-width:100%;padding:0}
  .card,.meal-card,.summary-banner,.hydration-card,.tips-card,.warning-card{box-shadow:none;break-inside:avoid;border:1px solid #ddd}
  .meal-card-body{max-height:none!important;overflow:visible!important}
  .summary-banner{background:var(--primary)!important;-webkit-print-color-adjust:exact;print-color-adjust:exact}
  .macro-bar-fill,.bar-fill{-webkit-print-color-adjust:exact;print-color-adjust:exact}
  .countdown-bar,.water-tracker,.food-modal-overlay{display:none!important}
  .donut-wrap{-webkit-print-color-adjust:exact;print-color-adjust:exact}
}

/* Responsive */
@media(max-width:600px){
  .hero h1{font-size:1.6rem}
  .form-grid{grid-template-columns:1fr}
  .goal-grid{grid-template-columns:repeat(3,1fr);gap:.5rem}
  .goal-btn{padding:.75rem .35rem}
  .goal-btn .emoji{font-size:1.2rem}
  .goal-btn .label{font-size:.7rem}
  .checkbox-grid{grid-template-columns:1fr}
  .summary-stats{grid-template-columns:repeat(2,1fr);gap:.5rem}
  .hydration-grid{grid-template-columns:1fr}
  .card-body{padding:1rem}
  .card-header{padding:1rem}
  .meal-card-content{padding:0 1rem 1rem}
  .meal-card-header{padding:1rem}
  .action-bar{flex-direction:column;align-items:center}
  .donut-container{width:120px;height:120px}
  .donut-cal{font-size:1.3rem}
  .countdown-bar .cb-timer{font-size:1.2rem}
  .water-glass{width:32px;height:38px}
  .fm-macro-grid{grid-template-columns:repeat(2,1fr)}
}
@media(max-width:380px){
  .goal-grid{grid-template-columns:1fr}
}

/* Search bar */
.menu-search{position:relative;margin-bottom:.75rem}
.menu-search input{width:100%;padding:.65rem 1rem .65rem 2.5rem;border:2px solid var(--gray-200);border-radius:99px;font-size:.85rem;font-family:inherit;transition:border-color .2s;background:#fff;color:var(--gray-700)}
.menu-search input:focus{outline:none;border-color:var(--primary)}
.menu-search .search-icon{position:absolute;left:.85rem;top:50%;transform:translateY(-50%);font-size:1rem;opacity:.4;pointer-events:none}
.menu-search .search-clear{position:absolute;right:.75rem;top:50%;transform:translateY(-50%);font-size:.85rem;cursor:pointer;opacity:.4;transition:opacity .15s;background:none;border:none;padding:.25rem}
.menu-search .search-clear:hover{opacity:.8}

/* Portion selector */
.portion-selector{display:flex;gap:.3rem;align-items:center}
.portion-btn{width:32px;height:24px;border-radius:6px;border:1.5px solid var(--gray-200);background:#fff;cursor:pointer;font-size:.65rem;font-weight:700;font-family:inherit;transition:all .15s;color:var(--gray-500);display:flex;align-items:center;justify-content:center}
.portion-btn:hover{border-color:var(--primary);color:var(--primary)}
.portion-btn.active{background:var(--primary);color:#fff;border-color:var(--primary)}

/* Saved plan indicator */
.saved-indicator{display:inline-flex;align-items:center;gap:.3rem;font-size:.7rem;color:var(--primary);font-weight:600;opacity:0;transition:opacity .3s}
.saved-indicator.show{opacity:1}

/* Remaining cal badge on meal cards */
.meal-remaining{font-size:.7rem;color:var(--gray-400);font-weight:600;margin-left:.5rem}
.meal-remaining.over{color:#dc2626}
.meal-remaining.good{color:#16a34a}

/* ‚ïê‚ïê LIVE COUNTDOWN ‚ïê‚ïê */
.countdown-bar{display:flex;align-items:center;gap:.6rem;margin-top:.6rem;padding:.6rem .8rem;background:rgba(0,0,0,.2);border-radius:10px;backdrop-filter:blur(4px)}
.countdown-bar .cb-label{font-size:.7rem;text-transform:uppercase;letter-spacing:.5px;opacity:.8;white-space:nowrap}
.countdown-bar .cb-timer{font-size:1.4rem;font-weight:900;font-variant-numeric:tabular-nums;letter-spacing:1px;flex:1;text-align:center;font-family:'Inter',monospace}
.countdown-bar .cb-event{font-size:.65rem;text-transform:uppercase;opacity:.7;text-align:right;white-space:nowrap}
.countdown-bar.urgent{background:rgba(232,150,62,.25);animation:countdownPulse 2s ease-in-out infinite}
@keyframes countdownPulse{0%,100%{box-shadow:0 0 0 0 rgba(232,150,62,0)}50%{box-shadow:0 0 20px 4px rgba(232,150,62,.3)}}
.countdown-bar.fasting .cb-timer{color:#7dd3fc}
.countdown-bar.toiftar .cb-timer{color:var(--accent)}

/* ‚ïê‚ïê WATER TRACKER ‚ïê‚ïê */
.water-tracker{margin-top:1rem;padding-top:1rem;border-top:1px solid rgba(255,255,255,.15)}
.water-tracker h4{font-size:.8rem;font-weight:700;margin-bottom:.5rem;display:flex;align-items:center;gap:.4rem}
.water-glasses{display:flex;gap:.35rem;flex-wrap:wrap;justify-content:center;margin-bottom:.5rem}
.water-glass{width:36px;height:42px;border-radius:0 0 8px 8px;border:2px solid rgba(59,130,246,.4);cursor:pointer;position:relative;overflow:hidden;transition:all .2s;background:rgba(59,130,246,.05)}
.water-glass::after{content:'';position:absolute;bottom:0;left:0;right:0;height:0;background:linear-gradient(to top,#3b82f6,#60a5fa);border-radius:0 0 6px 6px;transition:height .4s cubic-bezier(.2,.8,.3,1)}
.water-glass.filled::after{height:100%}
.water-glass.filled{border-color:#3b82f6;box-shadow:0 0 8px rgba(59,130,246,.3)}
.water-glass:hover{transform:scale(1.1);border-color:#60a5fa}
.water-glass .wg-num{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);font-size:.6rem;font-weight:800;z-index:1;opacity:.5;transition:opacity .2s}
.water-glass.filled .wg-num{opacity:.9;color:#fff}
.water-progress{height:6px;background:rgba(59,130,246,.15);border-radius:99px;overflow:hidden;margin-top:.4rem}
.water-progress-fill{height:100%;background:linear-gradient(90deg,#3b82f6,#60a5fa);border-radius:99px;transition:width .4s ease}
.water-progress-text{font-size:.7rem;text-align:center;margin-top:.25rem;opacity:.8;font-weight:600}

/* ‚ïê‚ïê CALORIE DONUT ‚ïê‚ïê */
.donut-wrap{display:flex;justify-content:center;margin-bottom:1rem}
.donut-container{position:relative;width:140px;height:140px}
.donut-svg{width:100%;height:100%;transform:rotate(-90deg)}
.donut-track{fill:none;stroke:rgba(255,255,255,.1);stroke-width:10}
.donut-fill{fill:none;stroke-width:10;stroke-linecap:round;transition:stroke-dashoffset .8s cubic-bezier(.2,.8,.3,1),stroke .3s}
.donut-center{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);text-align:center}
.donut-cal{font-size:1.6rem;font-weight:900;line-height:1;font-variant-numeric:tabular-nums}
.donut-label{font-size:.6rem;text-transform:uppercase;opacity:.6;margin-top:.1rem;letter-spacing:.5px}
.donut-target{font-size:.65rem;opacity:.5;margin-top:.15rem}

/* ‚ïê‚ïê FOOD DETAIL MODAL ‚ïê‚ïê */
.food-modal-overlay{position:fixed;top:0;left:0;right:0;bottom:0;background:rgba(0,0,0,.5);backdrop-filter:blur(4px);z-index:1000;display:none;align-items:center;justify-content:center;padding:1rem;animation:fadeIn .2s ease}
.food-modal-overlay.show{display:flex}
.food-modal{background:var(--card);border-radius:var(--radius);max-width:420px;width:100%;max-height:80vh;overflow-y:auto;box-shadow:0 20px 60px rgba(0,0,0,.3);animation:modalSlideUp .3s cubic-bezier(.2,.8,.3,1)}
@keyframes modalSlideUp{from{opacity:0;transform:translateY(30px)}to{opacity:1;transform:translateY(0)}}
.food-modal-header{display:flex;align-items:center;gap:.75rem;padding:1.25rem 1.5rem;border-bottom:1px solid var(--gray-100)}
.food-modal-header .fm-icon{font-size:2.5rem}
.food-modal-header .fm-info{flex:1}
.food-modal-header .fm-name{font-family:'Playfair Display',serif;font-size:1.15rem;font-weight:700;color:var(--dark)}
body.dark .food-modal-header .fm-name{color:var(--gray-700)}
.food-modal-header .fm-cat{font-size:.7rem;color:var(--gray-400);text-transform:uppercase;letter-spacing:.3px;margin-top:.15rem}
.food-modal-header .fm-portion{font-size:.8rem;color:var(--primary);font-weight:600;margin-top:.25rem}
.food-modal-close{background:none;border:none;font-size:1.5rem;cursor:pointer;padding:.25rem;color:var(--gray-400);transition:color .2s;line-height:1}
.food-modal-close:hover{color:var(--gray-700)}
.food-modal-body{padding:1.25rem 1.5rem}
.fm-macro-grid{display:grid;grid-template-columns:repeat(4,1fr);gap:.5rem;margin-bottom:1.25rem}
.fm-macro-item{text-align:center;padding:.6rem .25rem;background:var(--gray-50);border-radius:10px}
.fm-macro-value{font-size:1.1rem;font-weight:800}
.fm-macro-label{font-size:.6rem;text-transform:uppercase;letter-spacing:.3px;color:var(--gray-400);margin-top:.1rem}
.fm-per100{padding:.75rem;background:var(--gray-50);border-radius:10px;margin-bottom:1rem}
.fm-per100 h5{font-size:.7rem;text-transform:uppercase;color:var(--gray-400);margin-bottom:.5rem;letter-spacing:.3px}
.fm-per100-grid{display:grid;grid-template-columns:repeat(4,1fr);gap:.5rem;font-size:.75rem;text-align:center}
.fm-per100-grid .val{font-weight:700;color:var(--gray-700)}
.fm-per100-grid .lbl{font-size:.6rem;color:var(--gray-400)}
.fm-meals{margin-bottom:1rem}
.fm-meals h5{font-size:.7rem;text-transform:uppercase;color:var(--gray-400);margin-bottom:.4rem;letter-spacing:.3px}
.fm-meal-tags{display:flex;gap:.35rem;flex-wrap:wrap}
.fm-meal-tag{padding:.25rem .6rem;border-radius:99px;font-size:.7rem;font-weight:600}
.fm-meal-tag.sahur{background:rgba(13,115,119,.1);color:var(--primary)}
.fm-meal-tag.iftar{background:rgba(232,150,62,.1);color:var(--accent)}
.fm-meal-tag.ara{background:rgba(107,114,128,.1);color:var(--gray-500)}
.fm-tip{padding:.75rem;background:linear-gradient(135deg,rgba(13,115,119,.06),rgba(232,150,62,.04));border-radius:10px;font-size:.8rem;color:var(--gray-600);line-height:1.5;display:flex;align-items:flex-start;gap:.5rem}
.fm-tip .tip-icon{font-size:1.1rem;flex-shrink:0}

/* ‚ïê‚ïê FOOD ITEM CLICK HINT ‚ïê‚ïê */
.food-item{cursor:pointer;transition:transform .15s,box-shadow .15s}
.food-item:hover{transform:translateX(4px);box-shadow:-2px 0 0 0 var(--primary)}
.food-item:active{transform:scale(.98)}

/* ‚ïê‚ïê MICRO ANIMATIONS ‚ïê‚ïê */
.food-item.adding{animation:foodAdd .4s cubic-bezier(.2,.8,.3,1)}
@keyframes foodAdd{from{opacity:0;transform:translateY(-10px) scale(.95)}to{opacity:1;transform:translateY(0) scale(1)}}
.food-item.removing{animation:foodRemove .3s ease forwards}
@keyframes foodRemove{to{opacity:0;transform:translateX(30px) scale(.95);height:0;padding:0;margin:0;overflow:hidden}}
.plan-generating .meal-card{animation:cardPulse 1.5s ease infinite}
@keyframes cardPulse{0%,100%{opacity:1}50%{opacity:.6}}
.card.reveal{animation:cardReveal .5s cubic-bezier(.2,.8,.3,1) both}
@keyframes cardReveal{from{opacity:0;transform:translateY(20px)}to{opacity:1;transform:translateY(0)}}
.summary-banner.reveal .stat-value{animation:countUp .6s cubic-bezier(.2,.8,.3,1)}
@keyframes countUp{from{transform:scale(.5);opacity:0}to{transform:scale(1);opacity:1}}

/* ‚ïê‚ïê DARK MODE ‚ïê‚ïê */
body.dark{--bg:#0f1419;--card:#1a2332;--gray-50:#1e2a3a;--gray-100:#243044;--gray-200:#2d3a4d;--gray-300:#3d4d63;--gray-400:#7a8ba0;--gray-500:#9aa8b8;--gray-600:#b8c4d0;--gray-700:#e2e8f0;--gray-900:#f8fafc;--shadow:0 4px 24px rgba(0,0,0,.3)}
body.dark .site-header{background:var(--card);border-color:var(--gray-200)}
body.dark .logo-text{color:#e2e8f0}
body.dark .form-input{background:var(--gray-50);border-color:var(--gray-200);color:var(--gray-700)}
body.dark .goal-btn{background:var(--card);border-color:var(--gray-200);color:var(--gray-700)}
body.dark .checkbox-item{border-color:var(--gray-200);color:var(--gray-700)}
body.dark .hero::before{background:linear-gradient(135deg,rgba(13,115,119,.08),rgba(232,150,62,.1))}
body.dark .menu-food{background:var(--card);border-color:var(--gray-200);color:var(--gray-700)}
body.dark .basket{background:var(--gray-50)}
body.dark .basket-chip{background:var(--card);border-color:var(--gray-200);color:var(--gray-700)}
body.dark .meal-card-header:hover{background:var(--gray-50)}
body.dark .food-item{border-color:var(--gray-200)}
body.dark .food-item-icon{background:var(--gray-50)}
body.dark .meal-macro-summary{background:var(--gray-50)}
body.dark .site-footer{background:#0a0e13}
body.dark .menu-search input{background:var(--gray-50);border-color:var(--gray-200);color:var(--gray-700)}
body.dark .cat-pill{background:var(--card);border-color:var(--gray-200);color:var(--gray-600)}
body.dark .tips-card{background:linear-gradient(135deg,#1a1a0e,#2a2510);border-color:#92400e}
body.dark .tips-list li{color:#fbbf24}
body.dark .hydration-card{background:linear-gradient(135deg,#0f1a2e,#1a2540);border-color:#1e40af}
body.dark .warning-card{background:linear-gradient(135deg,#1f0f0f,#2a1515);border-color:#991b1b}
body.dark .warning-list li{color:#f87171}
body.dark .shopping-item:hover{background:var(--gray-50)}
body.dark .shopping-summary{background:var(--gray-50)}
body.dark .portion-btn{background:var(--card);border-color:var(--gray-200);color:var(--gray-500)}
body.dark .food-modal{background:var(--card)}
body.dark .food-modal-header{border-color:var(--gray-200)}
body.dark .fm-macro-item{background:var(--gray-50)}
body.dark .fm-per100{background:var(--gray-50)}
body.dark .water-glass{border-color:rgba(59,130,246,.3);background:rgba(59,130,246,.05)}
body.dark .food-modal-overlay{background:rgba(0,0,0,.7)}
body.dark .donut-track{stroke:rgba(255,255,255,.08)}
body.dark .donut-cal{color:var(--gray-700)}
body.dark .countdown-bar{background:rgba(0,0,0,.3)}
.dark-toggle{background:none;border:2px solid var(--gray-200);border-radius:99px;padding:.4rem .75rem;cursor:pointer;font-size:.85rem;transition:all .2s;font-family:inherit;color:var(--gray-500);display:flex;align-items:center;gap:.3rem}
.dark-toggle:hover{border-color:var(--primary);color:var(--primary)}
body.dark .dark-toggle{border-color:var(--gray-300);color:var(--gray-400)}
.header-actions{display:flex;align-items:center;gap:.5rem}

/* ‚ïê‚ïê RAMAZAN COUNTER ‚ïê‚ïê */
.ramadan-banner{background:linear-gradient(135deg,var(--ramadan-deep),var(--ramadan-purple));color:#fff;border-radius:var(--radius);padding:1rem 1.25rem;margin-bottom:1rem;display:flex;align-items:center;justify-content:space-between;gap:.75rem;position:relative;overflow:hidden}
.ramadan-banner::before{content:'‚ò™';position:absolute;right:10px;top:-5px;font-size:4rem;opacity:.06}
.ramadan-banner .rb-left{display:flex;align-items:center;gap:.75rem}
.ramadan-banner .rb-day{background:rgba(232,150,62,.15);border:2px solid var(--accent);border-radius:12px;padding:.4rem .7rem;text-align:center;min-width:52px}
.ramadan-banner .rb-day-num{font-size:1.4rem;font-weight:800;color:var(--accent);line-height:1}
.ramadan-banner .rb-day-label{font-size:.55rem;text-transform:uppercase;letter-spacing:.5px;opacity:.8}
.ramadan-banner .rb-info{font-size:.8rem;opacity:.9;line-height:1.4}
.ramadan-banner .rb-info strong{color:var(--accent)}
.ramadan-banner .rb-times{display:flex;gap:1rem;align-items:center}
.ramadan-banner .rb-time{text-align:center}
.ramadan-banner .rb-time-value{font-size:1.2rem;font-weight:800;font-variant-numeric:tabular-nums}
.ramadan-banner .rb-time-label{font-size:.6rem;text-transform:uppercase;letter-spacing:.5px;opacity:.7}
@media(max-width:500px){.ramadan-banner{flex-direction:column;text-align:center}.ramadan-banner .rb-left{flex-direction:column}}

/* ‚ïê‚ïê PRAYER TIMES ‚ïê‚ïê */
.city-selector{display:flex;gap:.5rem;align-items:center;margin-bottom:.5rem}
.city-selector select{flex:1}
.prayer-display{background:linear-gradient(135deg,var(--ramadan-deep),var(--ramadan-purple));color:#fff;border-radius:12px;padding:1rem;display:flex;justify-content:space-around;text-align:center}
.prayer-display .pd-item .pd-time{font-size:1.5rem;font-weight:800;font-variant-numeric:tabular-nums}
.prayer-display .pd-item .pd-label{font-size:.7rem;text-transform:uppercase;opacity:.7;letter-spacing:.5px}
.prayer-display .pd-item .pd-countdown{font-size:.75rem;color:var(--accent);font-weight:600;margin-top:.2rem}

/* ‚ïê‚ïê EXPERT PLANS ‚ïê‚ïê */
.expert-grid{display:grid;grid-template-columns:repeat(2,1fr);gap:.75rem}
.expert-card{padding:1rem;border:2px solid var(--gray-200);border-radius:12px;cursor:pointer;transition:all .2s;background:var(--card);text-align:center}
.expert-card:hover{border-color:var(--primary);transform:translateY(-2px);box-shadow:0 4px 12px rgba(13,115,119,.15)}
.expert-card.active{border-color:var(--primary);background:rgba(13,115,119,.06)}
.expert-card .ec-icon{font-size:2rem;margin-bottom:.35rem}
.expert-card .ec-name{font-size:.85rem;font-weight:700;color:var(--dark)}
body.dark .expert-card .ec-name{color:var(--gray-700)}
.expert-card .ec-desc{font-size:.7rem;color:var(--gray-500);margin-top:.2rem;line-height:1.3}
.expert-card .ec-badge{display:inline-block;font-size:.6rem;padding:.15rem .5rem;border-radius:99px;background:var(--primary);color:#fff;margin-top:.35rem;font-weight:600}
@media(max-width:500px){.expert-grid{grid-template-columns:1fr}}

/* ‚ïê‚ïê WEEKLY PLAN ‚ïê‚ïê */
.week-tabs{display:flex;gap:.35rem;overflow-x:auto;padding-bottom:.5rem;margin-bottom:1rem;-webkit-overflow-scrolling:touch}
.week-tab{padding:.5rem .8rem;border-radius:10px;border:2px solid var(--gray-200);background:var(--card);cursor:pointer;font-size:.75rem;font-weight:600;font-family:inherit;white-space:nowrap;transition:all .2s;text-align:center;min-width:48px;color:var(--gray-600)}
.week-tab:hover{border-color:var(--primary)}
.week-tab.active{background:var(--primary);color:#fff;border-color:var(--primary)}
.week-tab .wt-day{font-size:.65rem;opacity:.7}
.week-nav{display:flex;justify-content:space-between;align-items:center;margin-bottom:.5rem}
.week-nav-btn{background:none;border:2px solid var(--gray-200);border-radius:10px;padding:.4rem .75rem;cursor:pointer;font-size:.85rem;font-family:inherit;color:var(--gray-500);transition:all .2s}
.week-nav-btn:hover{border-color:var(--primary);color:var(--primary)}
.week-label{font-size:.85rem;font-weight:700;color:var(--dark)}
body.dark .week-label{color:var(--gray-700)}

/* ‚ïê‚ïê GLP-1 BADGE ‚ïê‚ïê */
.glp1-info{display:none;background:linear-gradient(135deg,rgba(13,115,119,.06),rgba(232,150,62,.04));border:2px solid var(--primary);border-radius:12px;padding:1rem;margin-top:.75rem;font-size:.8rem;color:var(--gray-600);line-height:1.5}
.glp1-info.show{display:block;animation:slideUp .3s ease}
.glp1-info strong{color:var(--primary)}
body.dark .glp1-info{color:var(--gray-500)}

/* ‚ïê‚ïê WHATSAPP SHARE ‚ïê‚ïê */
.share-grid{display:flex;gap:.5rem;flex-wrap:wrap;justify-content:center}
.share-btn{display:inline-flex;align-items:center;gap:.4rem;padding:.65rem 1.25rem;border-radius:99px;border:none;font-size:.85rem;font-weight:700;cursor:pointer;transition:all .2s;font-family:inherit;text-decoration:none}
.share-btn.whatsapp{background:#25D366;color:#fff}.share-btn.whatsapp:hover{filter:brightness(1.1)}
.share-btn.telegram{background:#0088cc;color:#fff}.share-btn.telegram:hover{filter:brightness(1.1)}
.share-btn.copy{background:var(--gray-100);color:var(--gray-700);border:2px solid var(--gray-200)}.share-btn.copy:hover{border-color:var(--primary)}
.share-btn.instagram{background:linear-gradient(45deg,#f09433,#e6683c,#dc2743,#cc2366,#bc1888);color:#fff}.share-btn.instagram:hover{filter:brightness(1.1)}
</style>
<script type="application/ld+json">
{
  "@context": "https://schema.org",
  "@type": "WebApplication",
  "name": "Sahur & ƒ∞ftar √ñƒü√ºn Planlayƒ±cƒ±sƒ± ‚Äî Ramazan Beslenme Rehberi | UzunYa≈üa",
  "description": "Ramazan ayƒ±na √∂zel ki≈üiselle≈ütirilmi≈ü sahur ve iftar √∂ƒü√ºn planƒ± olu≈üturun. Kalori, makro hesaplama ve T√ºrk mutfaƒüƒ±ndan saƒülƒ±klƒ± yemek √∂nerileri.",
  "url": "https://uzunyasa.com/pages/araclar/sahur-iftar-planlayici.html",
  "applicationCategory": "HealthApplication",
  "operatingSystem": "Web",
  "offers": {
    "@type": "Offer",
    "price": "0",
    "priceCurrency": "TRY"
  },
  "author": {
    "@type": "Organization",
    "name": "UzunYa≈üa",
    "url": "https://uzunyasa.com"
  },
  "image": "https://uzunyasa.com/images/og-default.png"
}
</script>
</head>
<body>

<header class="site-header">
 <a href="/index.html">
  <span class="logo-text">Uzun<span>Ya≈üa</span></span>
 </a>
 <div class="header-actions">
  <button class="dark-toggle" onclick="toggleDarkMode()" title="Karanlƒ±k mod">üåô <span id="darkModeLabel">Gece</span></button>
  <a href="/pages/araclar.html" class="back-link">‚Üê Ara√ßlar</a>
 </div>
</header>

<div class="main-wrap">

<!-- Hero -->
<div class="hero">
 <span class="hero-icon">‚ò™Ô∏è</span>
 <h1>Sahur & ƒ∞ftar √ñƒü√ºn Planlayƒ±cƒ±sƒ±</h1>
 <p>Ramazan ayƒ±na √∂zel, ki≈üiselle≈ütirilmi≈ü beslenme planƒ±nƒ±zƒ± olu≈üturun. Saƒülƒ±klƒ± oru√ß tutmanƒ±n anahtarƒ± doƒüru beslenmedir.</p>
 <div class="saved-indicator" id="savedIndicator">üíæ Son planƒ±nƒ±z kaydedildi</div>
</div>

<!-- Ramazan Counter + Prayer Times -->
<div class="ramadan-banner" id="ramadanBanner">
 <div class="rb-left">
  <div class="rb-day">
   <div class="rb-day-num" id="ramadanDayNum">‚Äî</div>
   <div class="rb-day-label">G√ºn</div>
  </div>
  <div class="rb-info" id="ramadanInfo">Ramazan g√ºn√º hesaplanƒ±yor...</div>
 </div>
 <div class="rb-times" id="rbTimes">
  <div class="rb-time">
   <div class="rb-time-value" id="imsakTime">--:--</div>
   <div class="rb-time-label">üåô ƒ∞msak</div>
  </div>
  <div class="rb-time">
   <div class="rb-time-value" id="iftarTime">--:--</div>
   <div class="rb-time-label">üåÖ ƒ∞ftar</div>
  </div>
 </div>
 <div class="countdown-bar" id="countdownBar" style="display:none">
  <span class="cb-label" id="cbLabel">ƒ∞ftar'a</span>
  <span class="cb-timer" id="cbTimer">00:00:00</span>
  <span class="cb-event" id="cbEvent">kalan s√ºre</span>
 </div>
</div>

<!-- Input Section -->
<div id="inputSection">

 <!-- Step 1: Personal Info -->
 <div class="card slide-up">
  <div class="card-header">
   <div class="step">1</div>
   <h2>Ki≈üisel Bilgileriniz</h2>
   <span class="icon">üìã</span>
  </div>
  <div class="card-body">
   <div class="form-grid">
    <div class="form-group">
     <label class="form-label">Boy (cm)</label>
     <input type="number" class="form-input" id="height" placeholder="170" min="100" max="250" value="">
    </div>
    <div class="form-group">
     <label class="form-label">Kilo (kg)</label>
     <input type="number" class="form-input" id="weight" placeholder="70" min="30" max="300" value="">
    </div>
    <div class="form-group">
     <label class="form-label">Ya≈ü</label>
     <input type="number" class="form-input" id="age" placeholder="30" min="12" max="100" value="">
    </div>
    <div class="form-group">
     <label class="form-label">Cinsiyet</label>
     <select class="form-input" id="gender">
      <option value="">Se√ßiniz</option>
      <option value="male">Erkek</option>
      <option value="female">Kadƒ±n</option>
     </select>
    </div>
    <div class="form-group full">
     <label class="form-label">≈ûehir (ƒ∞msak/ƒ∞ftar saatleri i√ßin)</label>
     <select class="form-input" id="citySelect" onchange="onCityChange()">
      <option value="istanbul">ƒ∞stanbul</option>
      <option value="ankara">Ankara</option>
      <option value="izmir">ƒ∞zmir</option>
      <option value="bursa">Bursa</option>
      <option value="antalya">Antalya</option>
      <option value="adana">Adana</option>
      <option value="konya">Konya</option>
      <option value="gaziantep">Gaziantep</option>
      <option value="diyarbakir">Diyarbakƒ±r</option>
      <option value="kayseri">Kayseri</option>
      <option value="eskisehir">Eski≈üehir</option>
      <option value="trabzon">Trabzon</option>
      <option value="samsun">Samsun</option>
      <option value="erzurum">Erzurum</option>
      <option value="malatya">Malatya</option>
      <option value="denizli">Denizli</option>
      <option value="mersin">Mersin</option>
      <option value="sanliurfa">≈ûanlƒ±urfa</option>
      <option value="van">Van</option>
      <option value="hatay">Hatay</option>
      <option value="manisa">Manisa</option>
      <option value="balikesir">Balƒ±kesir</option>
      <option value="kahramanmaras">Kahramanmara≈ü</option>
      <option value="elazig">Elazƒ±ƒü</option>
      <option value="sivas">Sivas</option>
      <option value="mugla">Muƒüla</option>
      <option value="tekirdag">Tekirdaƒü</option>
      <option value="ordu">Ordu</option>
      <option value="afyon">Afyonkarahisar</option>
      <option value="sakarya">Sakarya</option>
     </select>
    </div>
    <div class="form-group full">
     <label class="form-label">Aktivite D√ºzeyi</label>
     <select class="form-input" id="activity">
      <option value="">Se√ßiniz</option>
      <option value="sedentary">Hareketsiz (masa ba≈üƒ± i≈ü)</option>
      <option value="light">Hafif aktif (haftada 1-3 g√ºn egzersiz)</option>
      <option value="moderate">Orta aktif (haftada 3-5 g√ºn egzersiz)</option>
      <option value="active">Aktif (haftada 6-7 g√ºn egzersiz)</option>
      <option value="very_active">√áok aktif (fiziksel i≈ü + egzersiz)</option>
     </select>
    </div>
   </div>
  </div>
 </div>

 <!-- Step 2: Goal -->
 <div class="card slide-up" style="animation-delay:.1s">
  <div class="card-header">
   <div class="step">2</div>
   <h2>Hedefiniz</h2>
   <span class="icon">üéØ</span>
  </div>
  <div class="card-body">
   <div class="goal-grid">
    <button class="goal-btn" data-goal="lose" onclick="selectGoal(this)">
     <span class="emoji">‚¨áÔ∏è</span>
     <span class="label">Kilo Verme</span>
    </button>
    <button class="goal-btn active" data-goal="maintain" onclick="selectGoal(this)">
     <span class="emoji">‚öñÔ∏è</span>
     <span class="label">Kilo Koruma</span>
    </button>
    <button class="goal-btn" data-goal="gain" onclick="selectGoal(this)">
     <span class="emoji">‚¨ÜÔ∏è</span>
     <span class="label">Kilo Alma</span>
    </button>
   </div>
  </div>
 </div>

 <!-- Step 2.5: Expert Plans -->
 <div class="card slide-up" style="animation-delay:.15s">
  <div class="card-header">
   <div class="step">‚≠ê</div>
   <h2>Hazƒ±r Plan Se√ß (Opsiyonel)</h2>
   <span class="icon">üë®‚Äç‚öïÔ∏è</span>
  </div>
  <div class="card-body">
   <p style="font-size:.85rem;color:var(--gray-500);margin-bottom:1rem">Uzman √∂nerisi planlardan birini se√ß veya kendi planƒ±nƒ± olu≈üturmak i√ßin bu adƒ±mƒ± atla:</p>
   <div class="expert-grid">
    <div class="expert-card" onclick="selectExpertPlan('balanced')" id="expert-balanced">
     <div class="ec-icon">‚öñÔ∏è</div>
     <div class="ec-name">Dengeli Plan</div>
     <div class="ec-desc">Klasik Ramazan sofrasƒ±na uygun, dengeli beslenme</div>
     <div class="ec-badge">√ñnerilen</div>
    </div>
    <div class="expert-card" onclick="selectExpertPlan('glp1')" id="expert-glp1">
     <div class="ec-icon">üíä</div>
     <div class="ec-name">GLP-1 Hasta Planƒ±</div>
     <div class="ec-desc">K√º√ß√ºk porsiyonlar, y√ºksek protein, anti-bulantƒ±</div>
     <div class="ec-badge" style="background:var(--accent)">UzunYa≈üa</div>
    </div>
    <div class="expert-card" onclick="selectExpertPlan('budget')" id="expert-budget">
     <div class="ec-icon">üí∞</div>
     <div class="ec-name">Ekonomik Plan</div>
     <div class="ec-desc">Uygun fiyatlƒ± malzemelerle saƒülƒ±klƒ± Ramazan</div>
    </div>
    <div class="expert-card" onclick="selectExpertPlan('athlete')" id="expert-athlete">
     <div class="ec-icon">üèãÔ∏è</div>
     <div class="ec-name">Sporcu Planƒ±</div>
     <div class="ec-desc">Y√ºksek protein, kas koruma, performans odaklƒ±</div>
    </div>
    <div class="expert-card" onclick="selectExpertPlan('diabetic')" id="expert-diabetic">
     <div class="ec-icon">ü©∏</div>
     <div class="ec-name">Diyabet Dostu</div>
     <div class="ec-desc">D√º≈ü√ºk GI, kan ≈üekeri dostu, dengeli karbonhidrat</div>
    </div>
    <div class="expert-card" onclick="selectExpertPlan('postop')" id="expert-postop">
     <div class="ec-icon">üè•</div>
     <div class="ec-name">Cerrahi Sonrasƒ±</div>
     <div class="ec-desc">ESG/sleeve sonrasƒ± yumu≈üak gƒ±da, protein √∂ncelikli</div>
     <div class="ec-badge" style="background:var(--accent)">UzunYa≈üa</div>
    </div>
   </div>
   <div class="glp1-info" id="glp1Info"></div>
  </div>
 </div>

 <!-- Step 3: Health Conditions -->
 <div class="card slide-up" style="animation-delay:.2s">
  <div class="card-header">
   <div class="step">3</div>
   <h2>Saƒülƒ±k Durumunuz</h2>
   <span class="icon">üè•</span>
  </div>
  <div class="card-body">
   <p style="font-size:.85rem;color:var(--gray-500);margin-bottom:1rem">Varsa saƒülƒ±k durumlarƒ±nƒ±zƒ± i≈üaretleyin (opsiyonel):</p>
   <div class="checkbox-grid">
    <label class="checkbox-item" onclick="toggleCheck(this)">
     <input type="checkbox" value="diabetes">
     <div class="checkbox-box"></div>
     <span>ü©∏ Diyabet</span>
    </label>
    <label class="checkbox-item" onclick="toggleCheck(this)">
     <input type="checkbox" value="hypertension">
     <div class="checkbox-box"></div>
     <span>üíì Hipertansiyon</span>
    </label>
    <label class="checkbox-item" onclick="toggleCheck(this)">
     <input type="checkbox" value="kidney">
     <div class="checkbox-box"></div>
     <span>ü´ò B√∂brek Hastalƒ±ƒüƒ±</span>
    </label>
    <label class="checkbox-item" onclick="toggleCheck(this)">
     <input type="checkbox" value="heart">
     <div class="checkbox-box"></div>
     <span>‚ù§Ô∏è Kalp Hastalƒ±ƒüƒ±</span>
    </label>
    <label class="checkbox-item" onclick="toggleCheck(this)">
     <input type="checkbox" value="stomach">
     <div class="checkbox-box"></div>
     <span>ü§¢ Mide Rahatsƒ±zlƒ±ƒüƒ±</span>
    </label>
    <label class="checkbox-item" onclick="toggleCheck(this)">
     <input type="checkbox" value="pregnancy">
     <div class="checkbox-box"></div>
     <span>ü§∞ Hamilelik</span>
    </label>
    <label class="checkbox-item" onclick="toggleCheck(this)">
     <input type="checkbox" value="glp1">
     <div class="checkbox-box"></div>
     <span>üíä GLP-1 ƒ∞la√ß Kullanƒ±mƒ±</span>
    </label>
    <label class="checkbox-item" onclick="toggleCheck(this)">
     <input type="checkbox" value="bariatric">
     <div class="checkbox-box"></div>
     <span>üè• Bariatrik/ESG Sonrasƒ±</span>
    </label>
   </div>
  </div>
 </div>

 <!-- Calculate Button -->
 <div class="btn-area" style="display:flex;flex-direction:column;align-items:center;gap:.75rem">
  <button class="btn btn-primary" onclick="generatePlan()" style="font-size:1.1rem;padding:1rem 3rem">
   ‚ò™Ô∏è Otomatik Plan Olu≈ütur
  </button>
  <span style="font-size:.8rem;color:var(--gray-400);font-weight:600">‚Äî veya ‚Äî</span>
  <button class="btn btn-accent" onclick="buildOwnPlan()" style="font-size:1rem;padding:.85rem 2.5rem">
   üçΩÔ∏è Kendi Men√ºn√º Se√ß
  </button>
  <p style="font-size:.75rem;color:var(--gray-400);max-width:400px;text-align:center">Otomatik plan size √∂nerilen yemekleri se√ßer. Kendi men√ºn√ºzde bowl sipari≈ü eder gibi istediƒüiniz yemekleri tek tek se√ßersiniz.</p>
 </div>
</div>

<!-- Results Section -->
<div id="resultsSection">

 <!-- Weekly Plan Tabs -->
 <div class="week-nav no-print" id="weekNav" style="display:none">
  <button class="week-nav-btn" onclick="prevWeekDay()">‚óÄ</button>
  <span class="week-label" id="weekLabel">Pazartesi, 24 ≈ûubat</span>
  <button class="week-nav-btn" onclick="nextWeekDay()">‚ñ∂</button>
 </div>
 <div class="week-tabs no-print" id="weekTabs" style="display:none"></div>

 <!-- Summary -->
 <div class="summary-banner slide-up" id="summaryBanner">
  <h3>‚ò™Ô∏è Ramazan G√ºnl√ºk Beslenme √ñzeti</h3>
  <div class="donut-wrap">
   <div class="donut-container">
    <svg class="donut-svg" viewBox="0 0 100 100">
     <circle class="donut-track" cx="50" cy="50" r="42"/>
     <circle class="donut-fill" id="donutFill" cx="50" cy="50" r="42" stroke="#2D9F4F" stroke-dasharray="263.9" stroke-dashoffset="263.9"/>
    </svg>
    <div class="donut-center">
     <div class="donut-cal" id="donutCal">0</div>
     <div class="donut-label">kcal</div>
     <div class="donut-target" id="donutTarget"></div>
    </div>
   </div>
  </div>
  <div class="summary-stats">
   <div class="stat-item">
    <div class="stat-value" id="totalCal">0</div>
    <div class="stat-label">Kalori</div>
   </div>
   <div class="stat-item">
    <div class="stat-value" id="totalProtein">0g</div>
    <div class="stat-label">Protein</div>
   </div>
   <div class="stat-item">
    <div class="stat-value" id="totalCarb">0g</div>
    <div class="stat-label">Karbonhidrat</div>
   </div>
   <div class="stat-item">
    <div class="stat-value" id="totalFat">0g</div>
    <div class="stat-label">Yaƒü</div>
   </div>
  </div>
  <div class="macro-bars" style="margin-top:1rem">
   <div class="macro-bar-row">
    <div class="macro-bar-label" style="color:#fbbf24">üü† Protein</div>
    <div class="macro-bar-track"><div class="macro-bar-fill protein" id="barProtein" style="width:0%"></div></div>
    <div class="macro-bar-value" id="barProteinVal" style="color:var(--protein)">0%</div>
   </div>
   <div class="macro-bar-row">
    <div class="macro-bar-label" style="color:#f87171">üî¥ Yaƒü</div>
    <div class="macro-bar-track"><div class="macro-bar-fill fat" id="barFat" style="width:0%"></div></div>
    <div class="macro-bar-value" id="barFatVal" style="color:var(--fat)">0%</div>
   </div>
   <div class="macro-bar-row">
    <div class="macro-bar-label" style="color:#6ee7b7">üü¢ Karb.</div>
    <div class="macro-bar-track"><div class="macro-bar-fill carb" id="barCarb" style="width:0%"></div></div>
    <div class="macro-bar-value" id="barCarbVal" style="color:var(--carb)">0%</div>
   </div>
  </div>
 </div>

 <!-- Warning Card -->
 <div class="warning-card" id="warningCard">
  <h3>‚ö†Ô∏è Saƒülƒ±k Uyarƒ±larƒ±</h3>
  <ul class="warning-list" id="warningList"></ul>
 </div>

 <!-- ‚ïê‚ïê BOWL BUILDER / MEN√ú ‚ïê‚ïê -->
 <div class="menu-builder no-print open" id="menuBuilder">
  <div class="menu-builder-header" onclick="toggleMenuBuilder()">
   <span style="font-size:1.5rem">üçΩÔ∏è</span>
   <h2>Men√ºden Se√ß ‚Äî Kendi √ñƒü√ºn√ºn√º Olu≈ütur</h2>
   <span class="expand-icon">‚ñº</span>
  </div>
  <div class="menu-builder-body">
   <div class="menu-builder-content">

    <p class="builder-intro">A≈üaƒüƒ±daki men√ºden istediƒüin yemekleri se√ßerek √∂ƒü√ºnlerini olu≈ütur ‚Äî tƒ±pkƒ± bowl sipari≈ü eder gibi! ü•ó</p>

    <!-- Search -->
    <div class="menu-search">
     <span class="search-icon">üîç</span>
     <input type="text" id="menuSearchInput" placeholder="Yemek ara... (√∂rn: mercimek, tavuk, yulaf)" oninput="onMenuSearch()" autocomplete="off">
     <button class="search-clear" id="searchClearBtn" onclick="clearMenuSearch()" style="display:none">‚úï</button>
    </div>

    <!-- Meal tabs -->
    <div class="meal-tabs" id="menuMealTabs">
     <button class="meal-tab active" onclick="setMenuMeal('sahur')">üåô Sahur <span class="tab-cal" id="menuSahurCal"></span></button>
     <button class="meal-tab" onclick="setMenuMeal('iftar')">üåÖ ƒ∞ftar <span class="tab-cal" id="menuIftarCal"></span></button>
     <button class="meal-tab" onclick="setMenuMeal('snack')">ü´ñ Ara √ñƒü√ºn <span class="tab-cal" id="menuSnackCal"></span></button>
    </div>

    <!-- Calorie target progress -->
    <div class="target-progress" id="targetProgress">
     <div class="target-progress-header">
      <span class="target-label" id="targetLabel">üéØ Hedef: <b id="targetCalLabel">‚Äî</b> kcal</span>
      <span class="target-current" id="targetCurrent">0 / ‚Äî kcal</span>
     </div>
     <div class="target-bar">
      <div class="target-bar-fill" id="targetBarFill" style="width:0%"></div>
     </div>
    </div>

    <!-- Selected foods basket -->
    <div class="basket" id="menuBasket">
     <div class="basket-title">
      <span>üìã Se√ßilen Yemekler</span>
      <span id="basketCount">0 yemek</span>
     </div>
     <div class="basket-items" id="basketItems">
      <span class="basket-empty">A≈üaƒüƒ±dan yemek ekleyin...</span>
     </div>
    </div>

    <!-- Running total -->
    <div class="running-total" id="runningTotal">
     <div><span class="rt-cal" id="rtCal">0</span> kcal</div>
     <div class="rt-macros">
      <span>üü† P: <b id="rtP">0</b>g</span>
      <span>üü¢ K: <b id="rtC">0</b>g</span>
      <span>üî¥ Y: <b id="rtF">0</b>g</span>
     </div>
    </div>

    <!-- Category pills -->
    <div class="cat-pills" id="catPills"></div>

    <!-- Food grid -->
    <div class="menu-grid" id="menuGrid"></div>

    <div style="text-align:center;margin-top:1rem;display:flex;gap:.5rem;justify-content:center;flex-wrap:wrap">
     <button class="btn btn-accent btn-sm" onclick="applyMenuSelections()">‚úÖ Planƒ±ma Uygula</button>
     <button class="btn btn-outline btn-sm" onclick="clearMenuSelections()">üóëÔ∏è Temizle</button>
     <button class="btn btn-outline btn-sm" onclick="clearAllMenuSelections()">üóëÔ∏è T√ºm√ºn√º Sƒ±fƒ±rla</button>
    </div>

   </div>
  </div>
 </div>

 <!-- Sahur Meal Card -->
 <div class="meal-card expanded" id="sahurCard">
  <div class="meal-card-header" onclick="toggleMeal('sahurCard')">
   <div class="meal-icon">üåô</div>
   <div class="meal-info">
    <div class="meal-title">Sahur √ñƒü√ºn√º</div>
    <div class="meal-subtitle">ƒ∞msak √∂ncesi ¬∑ Aƒüƒ±r, tok tutucu</div>
   </div>
   <div class="meal-cal">
    <div class="meal-cal-value" id="sahurCal">0</div>
    <div class="meal-cal-unit">kcal</div>
    <span class="meal-remaining" id="sahurRemaining"></span>
   </div>
   <span class="expand-icon">‚ñº</span>
  </div>
  <div class="meal-card-body">
   <div class="meal-card-content">
    <ul class="food-list" id="sahurFoods"></ul>
    <div class="meal-macro-summary">
     <h4>Sahur Makro Daƒüƒ±lƒ±mƒ±</h4>
     <div class="mini-macro-bars">
      <div class="mini-macro">
       <div class="bar"><div class="bar-fill" id="sahurProteinBar" style="width:0%;background:var(--protein)"></div></div>
       <div class="val" id="sahurProteinVal" style="color:var(--protein)">0g</div>
       <div class="lbl">Protein</div>
      </div>
      <div class="mini-macro">
       <div class="bar"><div class="bar-fill" id="sahurCarbBar" style="width:0%;background:var(--carb)"></div></div>
       <div class="val" id="sahurCarbVal" style="color:var(--carb)">0g</div>
       <div class="lbl">Karbonhidrat</div>
      </div>
      <div class="mini-macro">
       <div class="bar"><div class="bar-fill" id="sahurFatBar" style="width:0%;background:var(--fat)"></div></div>
       <div class="val" id="sahurFatVal" style="color:var(--fat)">0g</div>
       <div class="lbl">Yaƒü</div>
      </div>
     </div>
    </div>
   </div>
  </div>
 </div>

 <!-- Iftar Meal Card -->
 <div class="meal-card expanded" id="iftarCard">
  <div class="meal-card-header" onclick="toggleMeal('iftarCard')">
   <div class="meal-icon">üåÖ</div>
   <div class="meal-info">
    <div class="meal-title">ƒ∞ftar √ñƒü√ºn√º</div>
    <div class="meal-subtitle">Ak≈üam ¬∑ Dengeli ve besleyici</div>
   </div>
   <div class="meal-cal">
    <div class="meal-cal-value" id="iftarCal">0</div>
    <div class="meal-cal-unit">kcal</div>
    <span class="meal-remaining" id="iftarRemaining"></span>
   </div>
   <span class="expand-icon">‚ñº</span>
  </div>
  <div class="meal-card-body">
   <div class="meal-card-content">
    <ul class="food-list" id="iftarFoods"></ul>
    <div class="meal-macro-summary">
     <h4>ƒ∞ftar Makro Daƒüƒ±lƒ±mƒ±</h4>
     <div class="mini-macro-bars">
      <div class="mini-macro">
       <div class="bar"><div class="bar-fill" id="iftarProteinBar" style="width:0%;background:var(--protein)"></div></div>
       <div class="val" id="iftarProteinVal" style="color:var(--protein)">0g</div>
       <div class="lbl">Protein</div>
      </div>
      <div class="mini-macro">
       <div class="bar"><div class="bar-fill" id="iftarCarbBar" style="width:0%;background:var(--carb)"></div></div>
       <div class="val" id="iftarCarbVal" style="color:var(--carb)">0g</div>
       <div class="lbl">Karbonhidrat</div>
      </div>
      <div class="mini-macro">
       <div class="bar"><div class="bar-fill" id="iftarFatBar" style="width:0%;background:var(--fat)"></div></div>
       <div class="val" id="iftarFatVal" style="color:var(--fat)">0g</div>
       <div class="lbl">Yaƒü</div>
      </div>
     </div>
    </div>
   </div>
  </div>
 </div>

 <!-- Snack Card (ara √∂ƒü√ºn between iftar and sahur) -->
 <div class="meal-card" id="snackCard">
  <div class="meal-card-header" onclick="toggleMeal('snackCard')">
   <div class="meal-icon">ü´ñ</div>
   <div class="meal-info">
    <div class="meal-title">Ara √ñƒü√ºn / Gece Atƒ±≈ütƒ±rmasƒ±</div>
    <div class="meal-subtitle">ƒ∞ftar sonrasƒ± ¬∑ Hafif ve besleyici</div>
   </div>
   <div class="meal-cal">
    <div class="meal-cal-value" id="snackCal">0</div>
    <div class="meal-cal-unit">kcal</div>
    <span class="meal-remaining" id="snackRemaining"></span>
   </div>
   <span class="expand-icon">‚ñº</span>
  </div>
  <div class="meal-card-body">
   <div class="meal-card-content">
    <ul class="food-list" id="snackFoods"></ul>
    <div class="meal-macro-summary">
     <h4>Ara √ñƒü√ºn Makro Daƒüƒ±lƒ±mƒ±</h4>
     <div class="mini-macro-bars">
      <div class="mini-macro">
       <div class="bar"><div class="bar-fill" id="snackProteinBar" style="width:0%;background:var(--protein)"></div></div>
       <div class="val" id="snackProteinVal" style="color:var(--protein)">0g</div>
       <div class="lbl">Protein</div>
      </div>
      <div class="mini-macro">
       <div class="bar"><div class="bar-fill" id="snackCarbBar" style="width:0%;background:var(--carb)"></div></div>
       <div class="val" id="snackCarbVal" style="color:var(--carb)">0g</div>
       <div class="lbl">Karbonhidrat</div>
      </div>
      <div class="mini-macro">
       <div class="bar"><div class="bar-fill" id="snackFatBar" style="width:0%;background:var(--fat)"></div></div>
       <div class="val" id="snackFatVal" style="color:var(--fat)">0g</div>
       <div class="lbl">Yaƒü</div>
      </div>
     </div>
    </div>
   </div>
  </div>
 </div>

 <!-- Hydration + Interactive Water Tracker -->
 <div class="hydration-card slide-up" id="hydrationCard">
  <h3>üíß Su ve Sƒ±vƒ± T√ºketimi</h3>
  <div class="hydration-grid">
   <div class="hydration-item">
    <div class="h-value" id="waterTotal">0</div>
    <div class="h-label">Litre / g√ºn hedef</div>
   </div>
   <div class="hydration-item">
    <div class="h-value" id="waterGlasses">0</div>
    <div class="h-label">Bardak (200ml)</div>
   </div>
  </div>
  <div class="water-tracker" id="waterTracker">
   <h4>ü•õ Bardak Takibi <span style="font-weight:400;opacity:.7">(tƒ±kla = i√ßildi)</span></h4>
   <div class="water-glasses" id="waterGlassesGrid"></div>
   <div class="water-progress"><div class="water-progress-fill" id="waterProgressFill" style="width:0%"></div></div>
   <div class="water-progress-text" id="waterProgressText">0 / 0 bardak</div>
  </div>
  <div class="hydration-schedule" style="margin-top:.75rem">
   <div class="hydration-time"><span class="ht-icon">üåÖ</span> <strong>ƒ∞ftar:</strong>&nbsp; 2 bardak su ile oru√ß a√ßƒ±n</div>
   <div class="hydration-time"><span class="ht-icon">üçΩÔ∏è</span> <strong>Yemek arasƒ±:</strong>&nbsp; Her saat 1 bardak su i√ßin</div>
   <div class="hydration-time"><span class="ht-icon">ü´ñ</span> <strong>Gece:</strong>&nbsp; Bitki √ßayƒ± veya ƒ±lƒ±k su tercih edin</div>
   <div class="hydration-time"><span class="ht-icon">üåô</span> <strong>Sahur:</strong>&nbsp; 2 bardak su ile sahuru kapatƒ±n</div>
   <div class="hydration-time"><span class="ht-icon">‚ö†Ô∏è</span> <strong>Dikkat:</strong>&nbsp; Kafeinli i√ßeceklerden ka√ßƒ±nƒ±n ‚Äî susuzluƒüu artƒ±rƒ±r</div>
  </div>
 </div>

 <!-- Timing Tips -->
 <div class="tips-card slide-up" id="tipsCard">
  <h3>‚è∞ Zamanlama ƒ∞pu√ßlarƒ±</h3>
  <ul class="tips-list">
   <li>ƒ∞ftarƒ± hurma ve su ile a√ßƒ±n ‚Äî kan ≈üekerinizi hƒ±zla dengeler.</li>
   <li>ƒ∞ftar yemeƒüini 2-3 a≈üamada yiyin: √∂nce √ßorba, 15 dk ara, sonra ana yemek.</li>
   <li>Sahurda aƒüƒ±r yaƒülƒ± yemeklerden ka√ßƒ±nƒ±n ‚Äî tok tutar ama susatƒ±r.</li>
   <li>Sahuru imsak vaktinden 30-45 dakika √∂nce bitirin.</li>
   <li>ƒ∞ftar sonrasƒ± 1.5 saat ge√ßmeden uyumayƒ±n ‚Äî refl√º riskini azaltƒ±r.</li>
   <li>Protein aƒüƒ±rlƒ±klƒ± sahur g√ºn boyunca tok hissetmenize yardƒ±mcƒ± olur.</li>
   <li>Lif a√ßƒ±sƒ±ndan zengin besinler (yulaf, tam tahƒ±l) uzun s√ºre enerji saƒülar.</li>
   <li>Sahurda tuzlu besinlerden ka√ßƒ±nƒ±n ‚Äî g√ºn boyunca susuzluƒüu artƒ±rƒ±r.</li>
  </ul>
 </div>

 <!-- Shopping List -->
 <div class="shopping-card" id="shoppingCard">
  <div class="shopping-card-header" onclick="toggleShopping()">
   <span style="font-size:1.5rem">üõí</span>
   <h2>Alƒ±≈üveri≈ü Listesi</h2>
   <span class="expand-icon">‚ñº</span>
  </div>
  <div class="shopping-card-body">
   <div class="shopping-card-content">

    <!-- Day selector -->
    <div class="shopping-day-tabs" id="shoppingDayTabs">
     <button class="shopping-day-tab active" onclick="setShoppingDays(1)">1 G√ºnl√ºk</button>
     <button class="shopping-day-tab" onclick="setShoppingDays(3)">3 G√ºnl√ºk</button>
     <button class="shopping-day-tab" onclick="setShoppingDays(7)">Haftalƒ±k</button>
    </div>

    <!-- Summary -->
    <div class="shopping-summary" id="shoppingSummary">
     <span class="ss-total" id="shoppingTotal">0 √ºr√ºn</span>
     <span class="ss-checked" id="shoppingChecked">0 alƒ±ndƒ±</span>
    </div>

    <!-- Items by category -->
    <div id="shoppingList"></div>

    <!-- Actions -->
    <div class="shopping-actions no-print">
     <button class="btn btn-outline btn-sm" onclick="copyShoppingList()">üìã Kopyala</button>
     <button class="btn btn-outline btn-sm" onclick="shareShoppingList()">üì§ Payla≈ü</button>
     <button class="btn btn-outline btn-sm" onclick="resetShoppingChecks()">‚Ü©Ô∏è ƒ∞≈üaretleri Sƒ±fƒ±rla</button>
    </div>

   </div>
  </div>
 </div>

 <!-- Share & Actions -->
 <div class="card no-print" style="border:2px solid var(--primary)">
  <div class="card-header">
   <span class="icon">üì§</span>
   <h2>Planƒ±nƒ± Payla≈ü</h2>
  </div>
  <div class="card-body">
   <div class="share-grid">
    <button class="share-btn whatsapp" onclick="shareWhatsApp()">üí¨ WhatsApp</button>
    <button class="share-btn telegram" onclick="shareTelegram()">‚úàÔ∏è Telegram</button>
    <button class="share-btn copy" onclick="sharePlan()">üìã Kopyala</button>
    <button class="share-btn" style="background:var(--gray-100);color:var(--gray-700);border:2px solid var(--gray-200)" onclick="window.print()">üñ®Ô∏è Yazdƒ±r</button>
   </div>
  </div>
 </div>

 <!-- Action buttons -->
 <div class="action-bar no-print">
  <button class="btn btn-accent" onclick="regeneratePlan()">üîÑ Yeni Plan Olu≈ütur</button>
  <button class="btn btn-outline btn-sm" onclick="generateWeeklyPlan()">üìÖ Haftalƒ±k Plan</button>
  <button class="btn btn-outline btn-sm" onclick="editInputs()">‚úèÔ∏è Bilgileri D√ºzenle</button>
 </div>

</div><!-- /resultsSection -->

</div><!-- /main-wrap -->

<footer class="site-footer">
 <p>¬© 2026 UzunYa≈üa ‚Äî Saƒülƒ±klƒ± ya≈üam rehberiniz</p>
 <p style="margin-top:.25rem;font-size:.7rem;opacity:.7">Bu ara√ß bilgilendirme ama√ßlƒ±dƒ±r. Saƒülƒ±k durumunuzla ilgili kararlarƒ± mutlaka doktorunuzla payla≈üƒ±n.</p>
 <p style="margin-top:.5rem"><a href="/pages/gizlilik-politikasi.html">Gizlilik</a> ¬∑ <a href="/pages/kullanim-sartlari.html">Kullanƒ±m ≈ûartlarƒ±</a> ¬∑ <a href="/pages/hakkimizda.html">Hakkƒ±mƒ±zda</a></p>
</footer>

<!-- Food Detail Modal -->
<div class="food-modal-overlay" id="foodModalOverlay" onclick="closeFoodModal(event)">
 <div class="food-modal" onclick="event.stopPropagation()">
  <div class="food-modal-header">
   <div class="fm-icon" id="fmIcon">üçΩÔ∏è</div>
   <div class="fm-info">
    <div class="fm-name" id="fmName">‚Äî</div>
    <div class="fm-cat" id="fmCat">‚Äî</div>
    <div class="fm-portion" id="fmPortion">‚Äî</div>
   </div>
   <button class="food-modal-close" onclick="closeFoodModal()">&times;</button>
  </div>
  <div class="food-modal-body">
   <div class="fm-macro-grid" id="fmMacroGrid"></div>
   <div class="fm-per100" id="fmPer100"></div>
   <div class="fm-meals" id="fmMeals"></div>
   <div class="fm-tip" id="fmTip" style="display:none"><span class="tip-icon">üí°</span><span id="fmTipText"></span></div>
  </div>
 </div>
</div>

<script>
// ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
// TURKISH FOOD DATABASE ‚Äî 50+ items with macros
// Format: { name, icon, category, cal, protein, carb, fat, portion, portionG, meal[] }
// All values per portionG grams
// meal: s=sahur, i=iftar, a=snack (ara √∂ƒü√ºn)
// ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
const FOODS = [
  // ‚ïê‚ïê PROTEƒ∞N / ET & YUMURTA (20) ‚ïê‚ïê
  {name:"Ha≈ülanmƒ±≈ü Yumurta",icon:"ü•ö",cat:"protein",cal:155,p:13,c:1.1,f:11,portion:"2 adet",pg:100,meal:["s","i"]},
  {name:"Menemen",icon:"üç≥",cat:"protein",cal:130,p:8,c:6,f:9,portion:"1 porsiyon (200g)",pg:200,meal:["s"]},
  {name:"Sahanda Yumurta",icon:"üç≥",cat:"protein",cal:196,p:14,c:1,f:15,portion:"2 adet",pg:100,meal:["s"]},
  {name:"Omlet (Sebzeli)",icon:"üç≥",cat:"protein",cal:154,p:11,c:3,f:11,portion:"2 yumurta",pg:120,meal:["s"]},
  {name:"√áƒ±lbƒ±r",icon:"ü•ö",cat:"protein",cal:180,p:12,c:4,f:13,portion:"2 yumurta",pg:150,meal:["s"]},
  {name:"Sucuklu Yumurta",icon:"üç≥",cat:"protein",cal:240,p:14,c:2,f:19,portion:"1 porsiyon",pg:120,meal:["s"]},
  {name:"Izgara Tavuk G√∂ƒüs√º",icon:"üçó",cat:"protein",cal:165,p:31,c:0,f:3.6,portion:"150g",pg:150,meal:["i","s"]},
  {name:"Izgara K√∂fte",icon:"ü•©",cat:"protein",cal:250,p:17,c:3,f:19,portion:"4 adet (120g)",pg:120,meal:["i"]},
  {name:"Fƒ±rƒ±nda Tavuk But",icon:"üçó",cat:"protein",cal:209,p:26,c:0,f:11,portion:"1 adet (150g)",pg:150,meal:["i"]},
  {name:"Ha≈ülanmƒ±≈ü Tavuk",icon:"üêî",cat:"protein",cal:165,p:31,c:0,f:3.6,portion:"150g",pg:150,meal:["s","i"]},
  {name:"Balƒ±k (Levrek Izgara)",icon:"üêü",cat:"protein",cal:124,p:24,c:0,f:2.6,portion:"150g",pg:150,meal:["i"]},
  {name:"Somon Izgara",icon:"üêü",cat:"protein",cal:208,p:20,c:0,f:13,portion:"150g",pg:150,meal:["i"]},
  {name:"Fƒ±rƒ±nda Balƒ±k",icon:"üêü",cat:"protein",cal:130,p:22,c:2,f:4,portion:"150g",pg:150,meal:["i"]},
  {name:"Kuru Fasulye",icon:"ü´ò",cat:"protein",cal:120,p:8,c:15,f:3,portion:"1 kase (200g)",pg:200,meal:["i"]},
  {name:"Nohut Yemeƒüi",icon:"üü°",cat:"protein",cal:135,p:7,c:18,f:4,portion:"1 kase (200g)",pg:200,meal:["i"]},
  {name:"Etli Bamya",icon:"ü•ò",cat:"protein",cal:95,p:6,c:8,f:5,portion:"1 kase (200g)",pg:200,meal:["i"]},
  {name:"Mercimek K√∂ftesi",icon:"üü§",cat:"protein",cal:165,p:7,c:25,f:4,portion:"4 adet (100g)",pg:100,meal:["i","a"]},
  {name:"Tavuklu Pilav",icon:"üçö",cat:"protein",cal:180,p:12,c:24,f:4,portion:"1 porsiyon (250g)",pg:250,meal:["i"]},
  {name:"Etli T√ºrl√º",icon:"ü•ò",cat:"protein",cal:110,p:7,c:10,f:5,portion:"1 kase (200g)",pg:200,meal:["i"]},
  {name:"Dana Kavurma",icon:"ü•©",cat:"protein",cal:215,p:20,c:1,f:14,portion:"1 porsiyon (120g)",pg:120,meal:["i"]},
  {name:"Tas Kebabƒ±",icon:"ü•ò",cat:"protein",cal:195,p:18,c:6,f:11,portion:"1 porsiyon (200g)",pg:200,meal:["i"]},
  {name:"Adana Kebap",icon:"ü•©",cat:"protein",cal:265,p:16,c:2,f:21,portion:"2 ≈üi≈ü (120g)",pg:120,meal:["i"]},
  {name:"Urfa Kebap",icon:"ü•©",cat:"protein",cal:245,p:15,c:2,f:19,portion:"2 ≈üi≈ü (120g)",pg:120,meal:["i"]},
  {name:"Tavuk ≈ûi≈ü",icon:"üçó",cat:"protein",cal:170,p:28,c:2,f:5,portion:"2 ≈üi≈ü (150g)",pg:150,meal:["i"]},
  {name:"H√ºnkar Beƒüendi",icon:"ü•ò",cat:"protein",cal:185,p:14,c:10,f:10,portion:"1 porsiyon (250g)",pg:250,meal:["i"]},
  {name:"Etli Bezelye",icon:"ü•ò",cat:"protein",cal:105,p:7,c:9,f:4,portion:"1 kase (200g)",pg:200,meal:["i"]},
  {name:"Etli Kereviz",icon:"ü•ò",cat:"protein",cal:100,p:6,c:8,f:5,portion:"1 kase (200g)",pg:200,meal:["i"]},
  {name:"√áerkez Tavuƒüu",icon:"üêî",cat:"protein",cal:190,p:16,c:5,f:12,portion:"1 porsiyon (150g)",pg:150,meal:["i","a"]},
  {name:"Ton Balƒ±klƒ± Salata",icon:"üêü",cat:"protein",cal:140,p:20,c:4,f:5,portion:"1 porsiyon (150g)",pg:150,meal:["s","i"]},

  // ‚ïê‚ïê TAHILlar / KARBONHIDRAT (15) ‚ïê‚ïê
  {name:"Tam Buƒüday Ekmeƒüi",icon:"üçû",cat:"carb",cal:247,p:13,c:41,f:3.4,portion:"2 dilim (80g)",pg:80,meal:["s","i"]},
  {name:"Yulaf Ezmesi",icon:"ü•£",cat:"carb",cal:389,p:17,c:66,f:7,portion:"50g (s√ºtle)",pg:50,meal:["s"]},
  {name:"Yulaf Pankek",icon:"ü•û",cat:"carb",cal:170,p:8,c:22,f:6,portion:"2 adet (100g)",pg:100,meal:["s"]},
  {name:"Bulgur Pilavƒ±",icon:"üåæ",cat:"carb",cal:110,p:4,c:19,f:2,portion:"1 porsiyon (150g)",pg:150,meal:["i","s"]},
  {name:"Pirin√ß Pilavƒ±",icon:"üçö",cat:"carb",cal:130,p:2.7,c:28,f:0.3,portion:"1 porsiyon (150g)",pg:150,meal:["i"]},
  {name:"Ramazan Pidesi",icon:"ü´ì",cat:"carb",cal:275,p:9,c:50,f:3,portion:"1/4 pide (80g)",pg:80,meal:["i"]},
  {name:"Simit",icon:"ü•Ø",cat:"carb",cal:310,p:10,c:57,f:5,portion:"1 adet (120g)",pg:120,meal:["s"]},
  {name:"G√∂zleme (Peynirli)",icon:"ü´ì",cat:"carb",cal:220,p:9,c:28,f:8,portion:"1 dilim (120g)",pg:120,meal:["s"]},
  {name:"G√∂zleme (Ispanaklƒ±)",icon:"ü´ì",cat:"carb",cal:195,p:7,c:26,f:7,portion:"1 dilim (120g)",pg:120,meal:["s"]},
  {name:"Makarna (Tam Buƒüday)",icon:"üçù",cat:"carb",cal:124,p:5,c:25,f:0.5,portion:"1 porsiyon (180g)",pg:180,meal:["i"]},
  {name:"Mantƒ±",icon:"ü•ü",cat:"carb",cal:180,p:8,c:22,f:7,portion:"1 porsiyon (200g)",pg:200,meal:["i"]},
  {name:"√áiƒü B√∂rek",icon:"ü•ü",cat:"carb",cal:260,p:10,c:28,f:12,portion:"2 adet (120g)",pg:120,meal:["i"]},
  {name:"Su B√∂reƒüi",icon:"ü´ì",cat:"carb",cal:230,p:8,c:25,f:11,portion:"1 dilim (120g)",pg:120,meal:["s","i"]},
  {name:"Patatesli B√∂rek",icon:"ü´ì",cat:"carb",cal:245,p:6,c:30,f:11,portion:"1 dilim (120g)",pg:120,meal:["s"]},
  {name:"Bazlama",icon:"ü´ì",cat:"carb",cal:260,p:8,c:48,f:3,portion:"1/2 adet (80g)",pg:80,meal:["s","i"]},
  {name:"Lahmacun",icon:"ü´ì",cat:"carb",cal:210,p:8,c:28,f:8,portion:"1 adet (100g)",pg:100,meal:["i"]},
  {name:"Pide (Kƒ±ymalƒ±)",icon:"ü´ì",cat:"carb",cal:240,p:10,c:30,f:9,portion:"1 dilim (120g)",pg:120,meal:["i"]},
  {name:"√áiƒü K√∂fteli D√ºr√ºm",icon:"üåØ",cat:"carb",cal:200,p:6,c:28,f:7,portion:"1 adet (120g)",pg:120,meal:["i"]},
  {name:"Lava≈ü",icon:"ü´ì",cat:"carb",cal:240,p:8,c:47,f:2,portion:"1 adet (80g)",pg:80,meal:["s","i"]},
  {name:"Tam Tahƒ±llƒ± Kraker",icon:"üçò",cat:"carb",cal:440,p:10,c:65,f:16,portion:"6 adet (40g)",pg:40,meal:["s","a"]},
  {name:"Nohutlu Pirin√ß Pilavƒ±",icon:"üçö",cat:"carb",cal:145,p:5,c:24,f:3,portion:"1 porsiyon (150g)",pg:150,meal:["i"]},
  {name:"Karabuƒüday Pilavƒ±",icon:"üåæ",cat:"carb",cal:92,p:3.4,c:20,f:0.6,portion:"1 porsiyon (150g)",pg:150,meal:["i","s"]},
  {name:"Patates P√ºresi",icon:"ü•î",cat:"carb",cal:83,p:2,c:15,f:1.5,portion:"1 porsiyon (150g)",pg:150,meal:["i"]},
  {name:"Fƒ±rƒ±nda Patates",icon:"ü•î",cat:"carb",cal:93,p:2.5,c:21,f:0.1,portion:"1 orta boy (200g)",pg:200,meal:["i","s"]},

  // ‚ïê‚ïê √áORBALAR (12) ‚ïê‚ïê
  {name:"Mercimek √áorbasƒ±",icon:"üç≤",cat:"soup",cal:85,p:5,c:12,f:2,portion:"1 kase (250ml)",pg:250,meal:["i","s"]},
  {name:"Ezogelin √áorbasƒ±",icon:"üç≤",cat:"soup",cal:80,p:4,c:13,f:1.5,portion:"1 kase (250ml)",pg:250,meal:["i","s"]},
  {name:"Tarhana √áorbasƒ±",icon:"üç≤",cat:"soup",cal:75,p:3,c:12,f:2,portion:"1 kase (250ml)",pg:250,meal:["i","s"]},
  {name:"Yayla √áorbasƒ±",icon:"üç≤",cat:"soup",cal:65,p:3,c:7,f:3,portion:"1 kase (250ml)",pg:250,meal:["i","s"]},
  {name:"Kemik Suyu",icon:"ü•£",cat:"soup",cal:40,p:5,c:2,f:1.5,portion:"1 kase (250ml)",pg:250,meal:["s","i"]},
  {name:"ƒ∞≈ükembe √áorbasƒ±",icon:"üç≤",cat:"soup",cal:52,p:7,c:3,f:2,portion:"1 kase (250ml)",pg:250,meal:["s"]},
  {name:"Tavuk Suyu √áorbasƒ±",icon:"üç≤",cat:"soup",cal:55,p:4,c:5,f:2,portion:"1 kase (250ml)",pg:250,meal:["i","s"]},
  {name:"Domates √áorbasƒ±",icon:"üç≤",cat:"soup",cal:60,p:2,c:10,f:1.5,portion:"1 kase (250ml)",pg:250,meal:["i","s"]},
  {name:"Sebze √áorbasƒ±",icon:"üç≤",cat:"soup",cal:55,p:2,c:8,f:1.5,portion:"1 kase (250ml)",pg:250,meal:["i","s"]},
  {name:"D√ºƒü√ºn √áorbasƒ±",icon:"üç≤",cat:"soup",cal:90,p:5,c:8,f:4,portion:"1 kase (250ml)",pg:250,meal:["i"]},
  {name:"≈ûehriyeli Tavuk √áorbasƒ±",icon:"üç≤",cat:"soup",cal:70,p:5,c:9,f:2,portion:"1 kase (250ml)",pg:250,meal:["i","s"]},
  {name:"Mantar √áorbasƒ±",icon:"üç≤",cat:"soup",cal:75,p:3,c:7,f:4,portion:"1 kase (250ml)",pg:250,meal:["i"]},
  {name:"Toyga √áorbasƒ±",icon:"üç≤",cat:"soup",cal:70,p:3.5,c:8,f:3,portion:"1 kase (250ml)",pg:250,meal:["i","s"]},
  {name:"S√ºleymaniye √áorbasƒ±",icon:"üç≤",cat:"soup",cal:85,p:4,c:10,f:3.5,portion:"1 kase (250ml)",pg:250,meal:["i"]},
  {name:"Kelle Pa√ßa √áorbasƒ±",icon:"üç≤",cat:"soup",cal:60,p:8,c:2,f:2.5,portion:"1 kase (250ml)",pg:250,meal:["s"]},
  {name:"Yoƒüurtlu Buƒüday √áorbasƒ±",icon:"üç≤",cat:"soup",cal:80,p:3,c:13,f:2,portion:"1 kase (250ml)",pg:250,meal:["i","s"]},
  {name:"Havu√ß √áorbasƒ±",icon:"üç≤",cat:"soup",cal:50,p:1.5,c:9,f:1,portion:"1 kase (250ml)",pg:250,meal:["i"]},
  {name:"Brokoli √áorbasƒ±",icon:"üç≤",cat:"soup",cal:55,p:3,c:6,f:2,portion:"1 kase (250ml)",pg:250,meal:["i"]},
  {name:"Balkabaƒüƒ± √áorbasƒ±",icon:"üç≤",cat:"soup",cal:60,p:1.5,c:10,f:1.5,portion:"1 kase (250ml)",pg:250,meal:["i"]},
  {name:"Pa√ßa √áorbasƒ±",icon:"üç≤",cat:"soup",cal:55,p:6,c:2,f:2.5,portion:"1 kase (250ml)",pg:250,meal:["s"]},
  {name:"Araba≈üƒ± √áorbasƒ±",icon:"üç≤",cat:"soup",cal:75,p:4,c:9,f:3,portion:"1 kase (250ml)",pg:250,meal:["i","s"]},

  // ‚ïê‚ïê S√úT √úR√úNLERƒ∞ (12) ‚ïê‚ïê
  {name:"S√ºzme Yoƒüurt",icon:"ü•õ",cat:"dairy",cal:66,p:10,c:3.6,f:0.7,portion:"1 kase (150g)",pg:150,meal:["s","i"]},
  {name:"Beyaz Peynir",icon:"üßÄ",cat:"dairy",cal:264,p:17,c:1,f:21,portion:"50g",pg:50,meal:["s"]},
  {name:"Ka≈üar Peyniri",icon:"üßÄ",cat:"dairy",cal:350,p:25,c:1,f:28,portion:"40g",pg:40,meal:["s"]},
  {name:"Lor Peyniri",icon:"üßÄ",cat:"dairy",cal:98,p:11,c:3,f:4,portion:"80g",pg:80,meal:["s"]},
  {name:"Tulum Peyniri",icon:"üßÄ",cat:"dairy",cal:300,p:19,c:1,f:24,portion:"40g",pg:40,meal:["s"]},
  {name:"√á√∂kelek",icon:"üßÄ",cat:"dairy",cal:72,p:12,c:2,f:1.5,portion:"80g",pg:80,meal:["s"]},
  {name:"Hellim Peyniri (Izgara)",icon:"üßÄ",cat:"dairy",cal:321,p:21,c:2,f:25,portion:"60g",pg:60,meal:["s","i"]},
  {name:"Ayran",icon:"ü•õ",cat:"dairy",cal:40,p:2,c:3,f:2,portion:"1 bardak (200ml)",pg:200,meal:["i","s"]},
  {name:"Kefir",icon:"ü•õ",cat:"dairy",cal:60,p:3.3,c:4,f:3.5,portion:"1 bardak (200ml)",pg:200,meal:["s","a"]},
  {name:"Cacƒ±k",icon:"ü•í",cat:"dairy",cal:55,p:2.5,c:3,f:3.5,portion:"1 kase (200g)",pg:200,meal:["i","s"]},
  {name:"Labne",icon:"üßÄ",cat:"dairy",cal:130,p:6,c:4,f:10,portion:"60g",pg:60,meal:["s","a"]},
  {name:"S√ºt (Yarƒ±m Yaƒülƒ±)",icon:"ü•õ",cat:"dairy",cal:50,p:3.3,c:5,f:1.5,portion:"1 bardak (200ml)",pg:200,meal:["s","a"]},
  {name:"√áe√ßil Peyniri",icon:"üßÄ",cat:"dairy",cal:315,p:28,c:1,f:22,portion:"40g",pg:40,meal:["s"]},
  {name:"Otlu Peynir",icon:"üßÄ",cat:"dairy",cal:250,p:16,c:1.5,f:20,portion:"50g",pg:50,meal:["s"]},
  {name:"√ñrg√º Peyniri",icon:"üßÄ",cat:"dairy",cal:310,p:23,c:2,f:23,portion:"40g",pg:40,meal:["s","a"]},
  {name:"Mozzarella",icon:"üßÄ",cat:"dairy",cal:280,p:22,c:2.2,f:17,portion:"60g",pg:60,meal:["s","i"]},
  {name:"Yoƒüurt (Ev Yapƒ±mƒ±)",icon:"ü•õ",cat:"dairy",cal:63,p:5,c:4.7,f:3.3,portion:"1 kase (200g)",pg:200,meal:["s","i"]},
  {name:"Quark Peynir",icon:"üßÄ",cat:"dairy",cal:67,p:12,c:4,f:0.2,portion:"100g",pg:100,meal:["s","a"]},
  {name:"Protein Yoƒüurt",icon:"ü•õ",cat:"dairy",cal:75,p:12,c:6,f:0.5,portion:"1 kase (150g)",pg:150,meal:["s","a"]},
  {name:"Peynirli Sandvi√ß",icon:"ü•™",cat:"dairy",cal:210,p:10,c:22,f:9,portion:"1 adet (100g)",pg:100,meal:["s"]},
  {name:"Peynirli Poƒüa√ßa",icon:"ü•ê",cat:"dairy",cal:280,p:7,c:30,f:15,portion:"1 adet (80g)",pg:80,meal:["s"]},

  // ‚ïê‚ïê SEBZE & SALATA (15) ‚ïê‚ïê
  {name:"√áoban Salatasƒ±",icon:"ü•ó",cat:"veg",cal:45,p:1,c:4,f:3,portion:"1 porsiyon (200g)",pg:200,meal:["i","s"]},
  {name:"Ye≈üil Salata",icon:"ü•ó",cat:"veg",cal:25,p:1.5,c:3,f:0.5,portion:"1 porsiyon (150g)",pg:150,meal:["i","s"]},
  {name:"Roka-Parmezan Salatasƒ±",icon:"ü•ó",cat:"veg",cal:85,p:4,c:3,f:6,portion:"1 porsiyon (150g)",pg:150,meal:["i"]},
  {name:"Zeytinyaƒülƒ± Fasulye",icon:"ü•¨",cat:"veg",cal:75,p:2,c:8,f:4,portion:"1 kase (200g)",pg:200,meal:["i"]},
  {name:"Zeytinyaƒülƒ± Enginar",icon:"ü•¨",cat:"veg",cal:65,p:2,c:8,f:3,portion:"1 kase (200g)",pg:200,meal:["i"]},
  {name:"Zeytinyaƒülƒ± Yaprak Sarma",icon:"ü•¨",cat:"veg",cal:95,p:2,c:12,f:5,portion:"5 adet (100g)",pg:100,meal:["i","a"]},
  {name:"Ispanak Yemeƒüi",icon:"ü•¨",cat:"veg",cal:70,p:3,c:4,f:5,portion:"1 kase (200g)",pg:200,meal:["i"]},
  {name:"Patlƒ±can Musakka",icon:"üçÜ",cat:"veg",cal:155,p:5,c:10,f:11,portion:"1 porsiyon (200g)",pg:200,meal:["i"]},
  {name:"ƒ∞mam Bayƒ±ldƒ±",icon:"üçÜ",cat:"veg",cal:90,p:2,c:8,f:6,portion:"1 porsiyon (200g)",pg:200,meal:["i"]},
  {name:"Kabak M√ºcver",icon:"ü•í",cat:"veg",cal:140,p:5,c:12,f:8,portion:"3 adet (120g)",pg:120,meal:["s","a","i"]},
  {name:"Humus",icon:"üü§",cat:"veg",cal:175,p:8,c:14,f:10,portion:"4 yemek ka≈üƒ±ƒüƒ± (100g)",pg:100,meal:["i","a","s"]},
  {name:"Kƒ±sƒ±r",icon:"ü•ó",cat:"veg",cal:140,p:4,c:20,f:5,portion:"1 porsiyon (150g)",pg:150,meal:["i","a"]},
  {name:"Piyaz",icon:"ü•ó",cat:"veg",cal:110,p:5,c:14,f:4,portion:"1 porsiyon (200g)",pg:200,meal:["i"]},
  {name:"Karƒ±≈üƒ±k Tur≈üu",icon:"ü•í",cat:"veg",cal:15,p:0.5,c:3,f:0.1,portion:"5-6 par√ßa (80g)",pg:80,meal:["i","s"]},
  {name:"Zeytin (Ye≈üil/Siyah)",icon:"ü´í",cat:"veg",cal:145,p:1,c:4,f:15,portion:"10 adet (40g)",pg:40,meal:["s"]},
  {name:"Karnabahar Graten",icon:"ü•¶",cat:"veg",cal:95,p:5,c:6,f:6,portion:"1 porsiyon (200g)",pg:200,meal:["i"]},
  {name:"Brokoli Sote",icon:"ü•¶",cat:"veg",cal:55,p:3.7,c:5,f:2.5,portion:"1 porsiyon (200g)",pg:200,meal:["i","s"]},
  {name:"Semizotu Yemeƒüi",icon:"ü•¨",cat:"veg",cal:45,p:2,c:3,f:3,portion:"1 kase (200g)",pg:200,meal:["i"]},
  {name:"Biber Dolmasƒ±",icon:"ü´ë",cat:"veg",cal:130,p:4,c:16,f:6,portion:"2 adet (200g)",pg:200,meal:["i"]},
  {name:"Domates Dolmasƒ±",icon:"üçÖ",cat:"veg",cal:120,p:3,c:15,f:5,portion:"2 adet (200g)",pg:200,meal:["i"]},
  {name:"Zeytinyaƒülƒ± Barbunya",icon:"ü´ò",cat:"veg",cal:85,p:4,c:11,f:3,portion:"1 kase (200g)",pg:200,meal:["i"]},
  {name:"K√∂zlenmi≈ü Biber Salatasƒ±",icon:"ü´ë",cat:"veg",cal:35,p:1,c:5,f:1.5,portion:"1 porsiyon (150g)",pg:150,meal:["i","s"]},
  {name:"Gavurdaƒüƒ± Salatasƒ±",icon:"ü•ó",cat:"veg",cal:90,p:2,c:8,f:6,portion:"1 porsiyon (200g)",pg:200,meal:["i"]},
  {name:"Atom Salatasƒ±",icon:"ü•ó",cat:"veg",cal:65,p:2,c:5,f:4,portion:"1 porsiyon (200g)",pg:200,meal:["i","s"]},

  // ‚ïê‚ïê MEYVELER (12) ‚ïê‚ïê
  {name:"Hurma",icon:"üå¥",cat:"fruit",cal:282,p:2.5,c:75,f:0.4,portion:"3 adet (30g)",pg:30,meal:["i"]},
  {name:"Muz",icon:"üçå",cat:"fruit",cal:89,p:1.1,c:23,f:0.3,portion:"1 adet (120g)",pg:120,meal:["s","a","i"]},
  {name:"Elma",icon:"üçé",cat:"fruit",cal:52,p:0.3,c:14,f:0.2,portion:"1 adet (180g)",pg:180,meal:["a","s"]},
  {name:"Portakal",icon:"üçä",cat:"fruit",cal:47,p:0.9,c:12,f:0.1,portion:"1 adet (180g)",pg:180,meal:["a","i"]},
  {name:"ƒ∞ncir (Taze)",icon:"ü´ê",cat:"fruit",cal:74,p:0.8,c:19,f:0.3,portion:"3 adet (120g)",pg:120,meal:["a","i"]},
  {name:"√úz√ºm",icon:"üçá",cat:"fruit",cal:69,p:0.7,c:18,f:0.2,portion:"1 salkƒ±m (150g)",pg:150,meal:["a","i"]},
  {name:"Karpuz",icon:"üçâ",cat:"fruit",cal:30,p:0.6,c:8,f:0.2,portion:"2 dilim (250g)",pg:250,meal:["i","a"]},
  {name:"√áilek",icon:"üçì",cat:"fruit",cal:32,p:0.7,c:8,f:0.3,portion:"10 adet (150g)",pg:150,meal:["a","s"]},
  {name:"Nar",icon:"ü´ê",cat:"fruit",cal:83,p:1.7,c:19,f:1.2,portion:"1/2 adet (100g)",pg:100,meal:["a","i"]},
  {name:"Armut",icon:"üçê",cat:"fruit",cal:57,p:0.4,c:15,f:0.1,portion:"1 adet (180g)",pg:180,meal:["a","s"]},
  {name:"Kayƒ±sƒ±",icon:"üü†",cat:"fruit",cal:48,p:1.4,c:11,f:0.4,portion:"3 adet (120g)",pg:120,meal:["a","i"]},
  {name:"Avokado",icon:"ü•ë",cat:"fruit",cal:160,p:2,c:9,f:15,portion:"1/2 adet (80g)",pg:80,meal:["s","a"]},
  {name:"≈ûeftali",icon:"üçë",cat:"fruit",cal:39,p:0.9,c:10,f:0.3,portion:"1 adet (150g)",pg:150,meal:["a","i"]},
  {name:"Erik",icon:"ü´ê",cat:"fruit",cal:46,p:0.7,c:11,f:0.3,portion:"3 adet (120g)",pg:120,meal:["a"]},
  {name:"Kiraz",icon:"üçí",cat:"fruit",cal:50,p:1,c:12,f:0.3,portion:"15 adet (100g)",pg:100,meal:["a","i"]},
  {name:"Mandalina",icon:"üçä",cat:"fruit",cal:53,p:0.8,c:13,f:0.3,portion:"2 adet (150g)",pg:150,meal:["a","s"]},
  {name:"Greyfurt",icon:"üçä",cat:"fruit",cal:42,p:0.8,c:11,f:0.1,portion:"1/2 adet (150g)",pg:150,meal:["a","s"]},
  {name:"Kavun",icon:"üçà",cat:"fruit",cal:34,p:0.8,c:8,f:0.2,portion:"2 dilim (200g)",pg:200,meal:["i","a"]},
  {name:"Meyve Salatasƒ±",icon:"üçá",cat:"fruit",cal:50,p:0.5,c:13,f:0.2,portion:"1 kase (200g)",pg:200,meal:["a","i"]},
  {name:"Smoothie (Muzlu)",icon:"ü•§",cat:"fruit",cal:90,p:2,c:19,f:1,portion:"1 bardak (250ml)",pg:250,meal:["s","a"]},
  {name:"Kuru Erik",icon:"üü§",cat:"fruit",cal:240,p:2.2,c:64,f:0.4,portion:"5 adet (40g)",pg:40,meal:["s","a"]},

  // ‚ïê‚ïê KURUYEMƒ∞≈û & ATISTIRMALIK (10) ‚ïê‚ïê
  {name:"Badem",icon:"üå∞",cat:"nut",cal:579,p:21,c:22,f:50,portion:"1 avu√ß (30g)",pg:30,meal:["s","a"]},
  {name:"Ceviz",icon:"ü•ú",cat:"nut",cal:654,p:15,c:14,f:65,portion:"1 avu√ß (30g)",pg:30,meal:["s","a"]},
  {name:"Fƒ±ndƒ±k",icon:"üå∞",cat:"nut",cal:628,p:15,c:17,f:61,portion:"1 avu√ß (30g)",pg:30,meal:["s","a"]},
  {name:"Antep Fƒ±stƒ±ƒüƒ±",icon:"üå∞",cat:"nut",cal:560,p:20,c:28,f:45,portion:"1 avu√ß (30g)",pg:30,meal:["s","a"]},
  {name:"Kaju",icon:"üå∞",cat:"nut",cal:553,p:18,c:30,f:44,portion:"1 avu√ß (30g)",pg:30,meal:["a"]},
  {name:"Kuru Kayƒ±sƒ±",icon:"üü†",cat:"nut",cal:241,p:3.4,c:63,f:0.5,portion:"5 adet (40g)",pg:40,meal:["s","a"]},
  {name:"Kuru ƒ∞ncir",icon:"üü§",cat:"nut",cal:249,p:3.3,c:64,f:0.9,portion:"3 adet (40g)",pg:40,meal:["s","a"]},
  {name:"Kuru √úz√ºm",icon:"üü§",cat:"nut",cal:299,p:3.1,c:79,f:0.5,portion:"1 avu√ß (30g)",pg:30,meal:["s","a"]},
  {name:"Tahin-Pekmez",icon:"üçØ",cat:"nut",cal:290,p:5,c:40,f:13,portion:"2 yemek ka≈üƒ±ƒüƒ± (40g)",pg:40,meal:["s","a"]},
  {name:"Hurma-Fƒ±stƒ±k Ezmesi",icon:"üå¥",cat:"nut",cal:310,p:6,c:45,f:12,portion:"2 yemek ka≈üƒ±ƒüƒ± (40g)",pg:40,meal:["s","a"]},
  {name:"Ay √áekirdeƒüi",icon:"üåª",cat:"nut",cal:584,p:21,c:20,f:51,portion:"1 avu√ß (30g)",pg:30,meal:["a"]},
  {name:"Chia Tohumu",icon:"üå±",cat:"nut",cal:486,p:17,c:42,f:31,portion:"2 yemek ka≈üƒ±ƒüƒ± (20g)",pg:20,meal:["s","a"]},
  {name:"Keten Tohumu",icon:"üå±",cat:"nut",cal:534,p:18,c:29,f:42,portion:"1 yemek ka≈üƒ±ƒüƒ± (15g)",pg:15,meal:["s","a"]},
  {name:"Fƒ±stƒ±k Ezmesi",icon:"ü•ú",cat:"nut",cal:588,p:25,c:20,f:50,portion:"1 yemek ka≈üƒ±ƒüƒ± (20g)",pg:20,meal:["s","a"]},
  {name:"Karƒ±≈üƒ±k Kuruyemi≈ü",icon:"ü•ú",cat:"nut",cal:600,p:18,c:20,f:52,portion:"1 avu√ß (30g)",pg:30,meal:["s","a"]},
  {name:"Pekmez",icon:"üçØ",cat:"nut",cal:293,p:0.5,c:72,f:0.2,portion:"1 yemek ka≈üƒ±ƒüƒ± (20g)",pg:20,meal:["s"]},
  {name:"Bal",icon:"üçØ",cat:"nut",cal:304,p:0.3,c:82,f:0,portion:"1 yemek ka≈üƒ±ƒüƒ± (20g)",pg:20,meal:["s"]},
  {name:"Granola",icon:"ü•£",cat:"nut",cal:471,p:10,c:60,f:22,portion:"1/2 kase (50g)",pg:50,meal:["s","a"]},
  {name:"Enerji Bar",icon:"üü§",cat:"nut",cal:400,p:10,c:50,f:18,portion:"1 adet (40g)",pg:40,meal:["a"]},

  // ‚ïê‚ïê TATLILAR (10) ‚ïê‚ïê
  {name:"G√ºlla√ß",icon:"üåπ",cat:"dessert",cal:125,p:4,c:20,f:3,portion:"1 porsiyon (150g)",pg:150,meal:["i","a"]},
  {name:"S√ºtla√ß",icon:"üçÆ",cat:"dessert",cal:130,p:4,c:22,f:3,portion:"1 kase (150g)",pg:150,meal:["i","a"]},
  {name:"Muhallebi",icon:"üçÆ",cat:"dessert",cal:120,p:3,c:20,f:3,portion:"1 kase (150g)",pg:150,meal:["i","a"]},
  {name:"Ke≈ük√ºl",icon:"üçÆ",cat:"dessert",cal:145,p:3,c:23,f:5,portion:"1 kase (150g)",pg:150,meal:["i","a"]},
  {name:"Kabak Tatlƒ±sƒ±",icon:"üéÉ",cat:"dessert",cal:120,p:1,c:28,f:0.5,portion:"1 porsiyon (150g)",pg:150,meal:["i","a"]},
  {name:"A≈üure",icon:"ü•£",cat:"dessert",cal:160,p:3,c:30,f:3,portion:"1 kase (200g)",pg:200,meal:["i","a"]},
  {name:"Kazandibi",icon:"üçÆ",cat:"dessert",cal:155,p:3.5,c:25,f:5,portion:"1 porsiyon (150g)",pg:150,meal:["i","a"]},
  {name:"Tavuk G√∂ƒüs√º",icon:"üçÆ",cat:"dessert",cal:140,p:4,c:24,f:3,portion:"1 porsiyon (150g)",pg:150,meal:["i","a"]},
  {name:"Fƒ±rƒ±n S√ºtla√ß",icon:"üçÆ",cat:"dessert",cal:140,p:4,c:23,f:4,portion:"1 kase (150g)",pg:150,meal:["i","a"]},
  {name:"Trile√ße",icon:"üçÆ",cat:"dessert",cal:165,p:4,c:26,f:5,portion:"1 dilim (120g)",pg:120,meal:["i","a"]},
  {name:"Baklava (1 Dilim)",icon:"üçØ",cat:"dessert",cal:230,p:3,c:28,f:12,portion:"1 dilim (60g)",pg:60,meal:["i","a"]},
  {name:"K√ºnefe",icon:"üßÄ",cat:"dessert",cal:350,p:7,c:38,f:19,portion:"1 porsiyon (120g)",pg:120,meal:["i"]},
  {name:"Lokma",icon:"üç©",cat:"dessert",cal:260,p:3,c:35,f:12,portion:"5 adet (80g)",pg:80,meal:["i"]},
  {name:"Revani",icon:"üç∞",cat:"dessert",cal:220,p:3,c:35,f:8,portion:"1 dilim (80g)",pg:80,meal:["i","a"]},
  {name:"Tulumba",icon:"üç©",cat:"dessert",cal:280,p:3,c:38,f:13,portion:"4 adet (80g)",pg:80,meal:["i"]},
  {name:"ƒ∞rmik Helvasƒ±",icon:"üçØ",cat:"dessert",cal:240,p:3,c:32,f:11,portion:"1 porsiyon (80g)",pg:80,meal:["i","a"]},
  {name:"Un Helvasƒ±",icon:"üçØ",cat:"dessert",cal:280,p:2,c:35,f:15,portion:"1 porsiyon (80g)",pg:80,meal:["i","a"]},
  {name:"Profiterol",icon:"üç´",cat:"dessert",cal:310,p:5,c:32,f:18,portion:"3 adet (100g)",pg:100,meal:["i","a"]},
  {name:"Dondurma (Mara≈ü)",icon:"üç¶",cat:"dessert",cal:200,p:4,c:24,f:10,portion:"2 top (100g)",pg:100,meal:["i","a"]},

  // ‚ïê‚ïê ƒ∞√áECEKLER (10) ‚ïê‚ïê
  {name:"Composto",icon:"üçπ",cat:"drink",cal:50,p:0.2,c:13,f:0,portion:"1 bardak (200ml)",pg:200,meal:["i"]},
  {name:"Ihlamur",icon:"üçµ",cat:"drink",cal:5,p:0,c:1,f:0,portion:"1 fincan (200ml)",pg:200,meal:["a","s"]},
  {name:"Ada√ßayƒ±",icon:"üçµ",cat:"drink",cal:2,p:0,c:0.5,f:0,portion:"1 fincan (200ml)",pg:200,meal:["a","s"]},
  {name:"Papatya √áayƒ±",icon:"üçµ",cat:"drink",cal:2,p:0,c:0.5,f:0,portion:"1 fincan (200ml)",pg:200,meal:["a","s"]},
  {name:"Nane-Limon",icon:"üçµ",cat:"drink",cal:5,p:0,c:1,f:0,portion:"1 fincan (200ml)",pg:200,meal:["a","s","i"]},
  {name:"Zencefil √áayƒ±",icon:"üçµ",cat:"drink",cal:5,p:0,c:1.2,f:0,portion:"1 fincan (200ml)",pg:200,meal:["a","s"]},
  {name:"Limonata (Az ≈ûekerli)",icon:"üçã",cat:"drink",cal:35,p:0.1,c:9,f:0,portion:"1 bardak (250ml)",pg:250,meal:["i"]},
  {name:"Ramazan ≈ûerbeti",icon:"üçπ",cat:"drink",cal:55,p:0,c:14,f:0,portion:"1 bardak (200ml)",pg:200,meal:["i"]},
  {name:"Taze Sƒ±kƒ±lmƒ±≈ü Portakal Suyu",icon:"üçä",cat:"drink",cal:45,p:0.7,c:10,f:0.2,portion:"1 bardak (200ml)",pg:200,meal:["i","s"]},
  {name:"Boza",icon:"ü•õ",cat:"drink",cal:80,p:1,c:17,f:0.5,portion:"1 bardak (200ml)",pg:200,meal:["a"]},
  {name:"Ku≈üburnu √áayƒ±",icon:"üçµ",cat:"drink",cal:3,p:0,c:0.7,f:0,portion:"1 fincan (200ml)",pg:200,meal:["a","s"]},
  {name:"Ye≈üil √áay",icon:"üçµ",cat:"drink",cal:2,p:0,c:0.5,f:0,portion:"1 fincan (200ml)",pg:200,meal:["a"]},
  {name:"S√ºt (Sƒ±cak Baharatlƒ±)",icon:"ü•õ",cat:"drink",cal:70,p:3.3,c:6,f:3,portion:"1 bardak (200ml)",pg:200,meal:["s","a"]},
  {name:"Taze Havu√ß Suyu",icon:"ü•ï",cat:"drink",cal:40,p:0.9,c:9,f:0.2,portion:"1 bardak (200ml)",pg:200,meal:["i","a"]},
  {name:"Karpuz Suyu",icon:"üçâ",cat:"drink",cal:30,p:0.6,c:7,f:0.2,portion:"1 bardak (250ml)",pg:250,meal:["i"]},
  {name:"Nar Suyu",icon:"ü´ê",cat:"drink",cal:60,p:0.2,c:14,f:0.1,portion:"1 bardak (200ml)",pg:200,meal:["i"]},
  {name:"Kayƒ±sƒ± Nektarƒ±",icon:"üü†",cat:"drink",cal:55,p:0.3,c:14,f:0,portion:"1 bardak (200ml)",pg:200,meal:["i"]},
  {name:"Smoothie (Ye≈üil)",icon:"ü•§",cat:"drink",cal:65,p:1.5,c:14,f:0.5,portion:"1 bardak (250ml)",pg:250,meal:["s","a"]},
  {name:"Sƒ±cak √áikolata (Az ≈ûekerli)",icon:"‚òï",cat:"drink",cal:90,p:3,c:14,f:2.5,portion:"1 fincan (200ml)",pg:200,meal:["a"]},

  // ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
  // EXPANDED FOODS ‚Äî v2 (100+ new items)
  // ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê

  // ‚îÄ‚îÄ YENƒ∞ PROTEƒ∞N / ET (25) ‚îÄ‚îÄ
  {name:"Karnƒ±yarƒ±k",icon:"üçÜ",cat:"protein",cal:180,p:10,c:12,f:10,portion:"1 porsiyon (250g)",pg:250,meal:["i"]},
  {name:"Ali Nazik",icon:"ü•ò",cat:"protein",cal:210,p:16,c:8,f:13,portion:"1 porsiyon (250g)",pg:250,meal:["i"]},
  {name:"ƒ∞skender Kebap",icon:"ü•©",cat:"protein",cal:320,p:22,c:18,f:18,portion:"1 porsiyon (300g)",pg:300,meal:["i"]},
  {name:"Beyti Sarma",icon:"ü•©",cat:"protein",cal:290,p:20,c:15,f:17,portion:"1 porsiyon (250g)",pg:250,meal:["i"]},
  {name:"√á√∂p ≈ûi≈ü",icon:"ü•©",cat:"protein",cal:200,p:22,c:1,f:12,portion:"6 adet (120g)",pg:120,meal:["i"]},
  {name:"Arnavut Ciƒüeri",icon:"ü´Ä",cat:"protein",cal:220,p:20,c:10,f:11,portion:"1 porsiyon (150g)",pg:150,meal:["i"]},
  {name:"Tantuni",icon:"üåØ",cat:"protein",cal:250,p:18,c:20,f:11,portion:"1 d√ºr√ºm (200g)",pg:200,meal:["i"]},
  {name:"Tavuk D√∂ner",icon:"ü•ô",cat:"protein",cal:190,p:22,c:8,f:8,portion:"1 porsiyon (150g)",pg:150,meal:["i"]},
  {name:"Et D√∂ner",icon:"ü•ô",cat:"protein",cal:260,p:18,c:8,f:17,portion:"1 porsiyon (150g)",pg:150,meal:["i"]},
  {name:"Kuzu ƒ∞ncik",icon:"üçñ",cat:"protein",cal:230,p:25,c:2,f:14,portion:"1 adet (200g)",pg:200,meal:["i"]},
  {name:"Kuzu Pirzola",icon:"ü•©",cat:"protein",cal:250,p:22,c:0,f:18,portion:"3 adet (150g)",pg:150,meal:["i"]},
  {name:"Etli Lahana Sarmasƒ±",icon:"ü•¨",cat:"protein",cal:140,p:8,c:12,f:7,portion:"3 adet (200g)",pg:200,meal:["i"]},
  {name:"Tepsi K√∂fte",icon:"ü•ò",cat:"protein",cal:200,p:12,c:14,f:11,portion:"1 porsiyon (200g)",pg:200,meal:["i"]},
  {name:"Kadƒ±nbudu K√∂fte",icon:"ü•ò",cat:"protein",cal:220,p:14,c:10,f:14,portion:"3 adet (150g)",pg:150,meal:["i"]},
  {name:"ƒ∞√ßli K√∂fte",icon:"ü•ü",cat:"protein",cal:240,p:10,c:22,f:12,portion:"3 adet (150g)",pg:150,meal:["i"]},
  {name:"√áiƒü K√∂fte",icon:"üü§",cat:"protein",cal:160,p:5,c:28,f:3,portion:"1 porsiyon (150g)",pg:150,meal:["i","a"]},
  {name:"Hamsi Tava",icon:"üêü",cat:"protein",cal:190,p:18,c:8,f:10,portion:"1 porsiyon (150g)",pg:150,meal:["i"]},
  {name:"Palamut Izgara",icon:"üêü",cat:"protein",cal:170,p:25,c:0,f:8,portion:"1 dilim (150g)",pg:150,meal:["i"]},
  {name:"√áipura Izgara",icon:"üêü",cat:"protein",cal:130,p:24,c:0,f:3.5,portion:"1 adet (200g)",pg:200,meal:["i"]},
  {name:"Midye Tava",icon:"ü¶™",cat:"protein",cal:200,p:12,c:15,f:10,portion:"8 adet (120g)",pg:120,meal:["i","a"]},
  {name:"Karides Sote",icon:"ü¶ê",cat:"protein",cal:140,p:20,c:4,f:5,portion:"1 porsiyon (150g)",pg:150,meal:["i"]},
  {name:"Sucuk Izgara",icon:"üå≠",cat:"protein",cal:350,p:15,c:2,f:31,portion:"4 dilim (60g)",pg:60,meal:["s","i"]},
  {name:"Pastƒ±rma",icon:"ü•©",cat:"protein",cal:170,p:33,c:1,f:4,portion:"6 dilim (40g)",pg:40,meal:["s"]},
  {name:"Etli Yaprak Sarma",icon:"ü•¨",cat:"protein",cal:160,p:8,c:14,f:8,portion:"5 adet (150g)",pg:150,meal:["i"]},
  {name:"Biftek",icon:"ü•©",cat:"protein",cal:270,p:26,c:0,f:18,portion:"1 adet (200g)",pg:200,meal:["i"]},

  // ‚îÄ‚îÄ YENƒ∞ TAHILlar (15) ‚îÄ‚îÄ
  {name:"A√ßma",icon:"ü•ê",cat:"carb",cal:300,p:7,c:35,f:15,portion:"1 adet (80g)",pg:80,meal:["s"]},
  {name:"Zeytinli Poƒüa√ßa",icon:"ü•ê",cat:"carb",cal:270,p:6,c:30,f:14,portion:"1 adet (80g)",pg:80,meal:["s"]},
  {name:"Susamlƒ± √á√∂rek",icon:"ü•Ø",cat:"carb",cal:290,p:8,c:38,f:12,portion:"1 adet (80g)",pg:80,meal:["s"]},
  {name:"Pi≈üi",icon:"üç©",cat:"carb",cal:260,p:5,c:30,f:13,portion:"2 adet (100g)",pg:100,meal:["s"]},
  {name:"Yumurtalƒ± Ekmek",icon:"üçû",cat:"carb",cal:200,p:8,c:20,f:10,portion:"2 dilim (100g)",pg:100,meal:["s"]},
  {name:"Kumpir",icon:"ü•î",cat:"carb",cal:280,p:8,c:35,f:12,portion:"1 adet (350g)",pg:350,meal:["i"]},
  {name:"Fƒ±rƒ±nda Makarna",icon:"üçù",cat:"carb",cal:180,p:8,c:22,f:7,portion:"1 porsiyon (200g)",pg:200,meal:["i"]},
  {name:"Eri≈üte",icon:"üçú",cat:"carb",cal:160,p:6,c:28,f:3,portion:"1 porsiyon (180g)",pg:180,meal:["i","s"]},
  {name:"≈ûehriye Pilavƒ±",icon:"üçö",cat:"carb",cal:140,p:3,c:26,f:3,portion:"1 porsiyon (150g)",pg:150,meal:["i"]},
  {name:"Patates Kƒ±zartmasƒ±",icon:"üçü",cat:"carb",cal:310,p:3.5,c:40,f:15,portion:"1 porsiyon (150g)",pg:150,meal:["i"]},
  {name:"Krep",icon:"ü•û",cat:"carb",cal:190,p:6,c:25,f:7,portion:"2 adet (120g)",pg:120,meal:["s","a"]},
  {name:"Waffle",icon:"üßá",cat:"carb",cal:220,p:6,c:28,f:10,portion:"1 adet (100g)",pg:100,meal:["s","a"]},
  {name:"Firik Pilavƒ±",icon:"üåæ",cat:"carb",cal:115,p:4,c:20,f:2,portion:"1 porsiyon (150g)",pg:150,meal:["i"]},
  {name:"B√∂rek (Sigara)",icon:"ü•ü",cat:"carb",cal:250,p:7,c:24,f:14,portion:"4 adet (100g)",pg:100,meal:["s","i"]},
  {name:"Katmer",icon:"ü´ì",cat:"carb",cal:350,p:6,c:35,f:20,portion:"1 adet (120g)",pg:120,meal:["s"]},

  // ‚îÄ‚îÄ YENƒ∞ √áORBALAR (10) ‚îÄ‚îÄ
  {name:"Lebeniye √áorbasƒ±",icon:"üç≤",cat:"soup",cal:80,p:4,c:10,f:3,portion:"1 kase (250ml)",pg:250,meal:["i","s"]},
  {name:"Analƒ± Kƒ±zlƒ± √áorbasƒ±",icon:"üç≤",cat:"soup",cal:95,p:5,c:12,f:3,portion:"1 kase (250ml)",pg:250,meal:["i"]},
  {name:"Ek≈üili K√∂fte √áorbasƒ±",icon:"üç≤",cat:"soup",cal:90,p:6,c:10,f:3.5,portion:"1 kase (250ml)",pg:250,meal:["i"]},
  {name:"Soƒüan √áorbasƒ±",icon:"üç≤",cat:"soup",cal:65,p:2,c:9,f:2.5,portion:"1 kase (250ml)",pg:250,meal:["i"]},
  {name:"Karnabahar √áorbasƒ±",icon:"üç≤",cat:"soup",cal:60,p:2.5,c:7,f:2.5,portion:"1 kase (250ml)",pg:250,meal:["i"]},
  {name:"Kereviz √áorbasƒ±",icon:"üç≤",cat:"soup",cal:55,p:1.5,c:8,f:2,portion:"1 kase (250ml)",pg:250,meal:["i"]},
  {name:"Pƒ±rasa √áorbasƒ±",icon:"üç≤",cat:"soup",cal:60,p:2,c:8,f:2,portion:"1 kase (250ml)",pg:250,meal:["i"]},
  {name:"Y√ºks√ºk √áorbasƒ±",icon:"üç≤",cat:"soup",cal:85,p:4,c:11,f:3,portion:"1 kase (250ml)",pg:250,meal:["i","s"]},
  {name:"Tutma√ß √áorbasƒ±",icon:"üç≤",cat:"soup",cal:80,p:4,c:12,f:2,portion:"1 kase (250ml)",pg:250,meal:["i"]},
  {name:"Bamya √áorbasƒ±",icon:"üç≤",cat:"soup",cal:50,p:2,c:7,f:1.5,portion:"1 kase (250ml)",pg:250,meal:["i"]},

  // ‚îÄ‚îÄ YENƒ∞ S√úT √úR√úNLERƒ∞ (5) ‚îÄ‚îÄ
  {name:"Haydari",icon:"ü•í",cat:"dairy",cal:90,p:4,c:3,f:7,portion:"4 yk (100g)",pg:100,meal:["i","a"]},
  {name:"Yoƒüurtlu Makarna",icon:"üçù",cat:"dairy",cal:160,p:6,c:22,f:5,portion:"1 porsiyon (200g)",pg:200,meal:["i"]},
  {name:"Mihali√ß Peyniri",icon:"üßÄ",cat:"dairy",cal:330,p:22,c:1,f:26,portion:"40g",pg:40,meal:["s"]},
  {name:"√áerkez Peyniri",icon:"üßÄ",cat:"dairy",cal:280,p:20,c:2,f:22,portion:"40g",pg:40,meal:["s"]},
  {name:"K√ºnefe Peyniri",icon:"üßÄ",cat:"dairy",cal:290,p:18,c:3,f:23,portion:"60g",pg:60,meal:["i"]},

  // ‚îÄ‚îÄ YENƒ∞ SEBZE & SALATA (15) ‚îÄ‚îÄ
  {name:"≈ûak≈üuka",icon:"üç≥",cat:"veg",cal:110,p:3,c:8,f:7,portion:"1 porsiyon (200g)",pg:200,meal:["s","i"]},
  {name:"Acƒ±lƒ± Ezme",icon:"üå∂Ô∏è",cat:"veg",cal:80,p:1.5,c:6,f:5.5,portion:"3 yk (80g)",pg:80,meal:["i"]},
  {name:"Babaganu≈ü",icon:"üçÜ",cat:"veg",cal:100,p:2,c:6,f:8,portion:"4 yk (100g)",pg:100,meal:["i","a"]},
  {name:"Muhammara",icon:"üå∂Ô∏è",cat:"veg",cal:160,p:3,c:10,f:12,portion:"4 yk (80g)",pg:80,meal:["i","a"]},
  {name:"Patlƒ±can Salatasƒ±",icon:"üçÜ",cat:"veg",cal:85,p:1.5,c:5,f:6.5,portion:"4 yk (120g)",pg:120,meal:["i","s"]},
  {name:"Fasulye Pilaki",icon:"ü´ò",cat:"veg",cal:90,p:4,c:12,f:3,portion:"1 kase (200g)",pg:200,meal:["i"]},
  {name:"Pƒ±rasa Yemeƒüi",icon:"ü•¨",cat:"veg",cal:70,p:2,c:8,f:3.5,portion:"1 kase (200g)",pg:200,meal:["i"]},
  {name:"Havu√ß Tarator",icon:"ü•ï",cat:"veg",cal:100,p:3,c:7,f:7,portion:"4 yk (100g)",pg:100,meal:["i","a"]},
  {name:"Zeytinyaƒülƒ± Lahana Sarma",icon:"ü•¨",cat:"veg",cal:85,p:2,c:12,f:4,portion:"3 adet (150g)",pg:150,meal:["i"]},
  {name:"Karƒ±≈üƒ±k Kƒ±zartma",icon:"üçÜ",cat:"veg",cal:180,p:3,c:15,f:12,portion:"1 porsiyon (200g)",pg:200,meal:["i"]},
  {name:"Kabak Dolmasƒ±",icon:"ü•í",cat:"veg",cal:120,p:3,c:16,f:5,portion:"2 adet (200g)",pg:200,meal:["i"]},
  {name:"Kƒ±ymalƒ± Ispanak",icon:"ü•¨",cat:"veg",cal:110,p:7,c:4,f:7,portion:"1 kase (200g)",pg:200,meal:["i"]},
  {name:"T√ºrl√º (Zeytinyaƒülƒ±)",icon:"ü•ò",cat:"veg",cal:80,p:2,c:10,f:4,portion:"1 kase (200g)",pg:200,meal:["i"]},
  {name:"M√ºcver (Havu√ßlu)",icon:"ü•ï",cat:"veg",cal:150,p:5,c:14,f:8,portion:"3 adet (120g)",pg:120,meal:["s","a","i"]},
  {name:"√ái√ßek Bamya (Zeytinyaƒülƒ±)",icon:"üü¢",cat:"veg",cal:60,p:2,c:7,f:3,portion:"1 kase (200g)",pg:200,meal:["i"]},

  // ‚îÄ‚îÄ YENƒ∞ MEYVELER (8) ‚îÄ‚îÄ
  {name:"B√∂ƒü√ºrtlen",icon:"ü´ê",cat:"fruit",cal:43,p:1.4,c:10,f:0.5,portion:"1 kase (150g)",pg:150,meal:["a"]},
  {name:"Ahududu",icon:"üçá",cat:"fruit",cal:52,p:1.2,c:12,f:0.7,portion:"1 kase (150g)",pg:150,meal:["a"]},
  {name:"Ananas",icon:"üçç",cat:"fruit",cal:50,p:0.5,c:13,f:0.1,portion:"2 dilim (150g)",pg:150,meal:["a","i"]},
  {name:"Dut",icon:"ü´ê",cat:"fruit",cal:43,p:1.4,c:10,f:0.4,portion:"1 kase (150g)",pg:150,meal:["a"]},
  {name:"Yaban Mersini",icon:"ü´ê",cat:"fruit",cal:57,p:0.7,c:14,f:0.3,portion:"1 kase (100g)",pg:100,meal:["a","s"]},
  {name:"ƒ∞ncir (Kuru)",icon:"üü§",cat:"fruit",cal:249,p:3.3,c:64,f:0.9,portion:"3 adet (60g)",pg:60,meal:["s","a"]},
  {name:"Nar Tanesi",icon:"ü´ê",cat:"fruit",cal:83,p:1.7,c:19,f:1.2,portion:"1 kase (100g)",pg:100,meal:["a","i"]},
  {name:"Limon (Taze)",icon:"üçã",cat:"fruit",cal:29,p:1.1,c:9,f:0.3,portion:"1 adet (60g)",pg:60,meal:["i","a"]},

  // ‚îÄ‚îÄ YENƒ∞ KURUYEMƒ∞≈û & ATISTIRMALIK (8) ‚îÄ‚îÄ
  {name:"Leblebi",icon:"üü°",cat:"nut",cal:360,p:20,c:55,f:6,portion:"1 avu√ß (40g)",pg:40,meal:["a"]},
  {name:"Kabak √áekirdeƒüi",icon:"üå±",cat:"nut",cal:559,p:30,c:11,f:49,portion:"1 avu√ß (30g)",pg:30,meal:["a","s"]},
  {name:"Tahin Helvasƒ±",icon:"üçØ",cat:"nut",cal:470,p:13,c:50,f:25,portion:"1 dilim (40g)",pg:40,meal:["a","s"]},
  {name:"Pestil",icon:"üü§",cat:"nut",cal:290,p:3,c:70,f:0.5,portion:"1 yaprak (30g)",pg:30,meal:["a"]},
  {name:"Cevizli Sucuk",icon:"üü§",cat:"nut",cal:380,p:5,c:55,f:16,portion:"3 dilim (50g)",pg:50,meal:["a"]},
  {name:"Sam Fƒ±stƒ±ƒüƒ±",icon:"üå∞",cat:"nut",cal:560,p:20,c:28,f:45,portion:"1 avu√ß (30g)",pg:30,meal:["a"]},
  {name:"Kurutulmu≈ü Dut",icon:"üü§",cat:"nut",cal:340,p:4,c:80,f:1.5,portion:"1 avu√ß (30g)",pg:30,meal:["a","s"]},
  {name:"Macadamia",icon:"üå∞",cat:"nut",cal:718,p:8,c:14,f:76,portion:"1 avu√ß (20g)",pg:20,meal:["a"]},

  // ‚îÄ‚îÄ YENƒ∞ TATLILAR (15) ‚îÄ‚îÄ
  {name:"≈ûekerpare",icon:"üçØ",cat:"dessert",cal:280,p:3,c:35,f:14,portion:"2 adet (80g)",pg:80,meal:["i","a"]},
  {name:"Kemalpa≈üa",icon:"üçÆ",cat:"dessert",cal:260,p:5,c:30,f:13,portion:"3 adet (90g)",pg:90,meal:["i","a"]},
  {name:"Tel Kadayƒ±f",icon:"üçØ",cat:"dessert",cal:340,p:4,c:40,f:18,portion:"1 porsiyon (100g)",pg:100,meal:["i","a"]},
  {name:"Ekmek Kadayƒ±fƒ±",icon:"üçû",cat:"dessert",cal:290,p:4,c:38,f:14,portion:"1 porsiyon (120g)",pg:120,meal:["i","a"]},
  {name:"H√∂≈ümerim",icon:"üßÄ",cat:"dessert",cal:250,p:6,c:25,f:14,portion:"1 porsiyon (100g)",pg:100,meal:["i","a"]},
  {name:"Cennet √áamuru",icon:"üç´",cat:"dessert",cal:180,p:3,c:28,f:7,portion:"1 porsiyon (150g)",pg:150,meal:["i","a"]},
  {name:"Hanƒ±m G√∂beƒüi",icon:"üç©",cat:"dessert",cal:300,p:3,c:38,f:15,portion:"2 adet (80g)",pg:80,meal:["i","a"]},
  {name:"≈û√∂biyet",icon:"üçØ",cat:"dessert",cal:350,p:4,c:35,f:22,portion:"1 adet (80g)",pg:80,meal:["i","a"]},
  {name:"Dilber Dudaƒüƒ±",icon:"üç©",cat:"dessert",cal:310,p:3,c:38,f:16,portion:"2 adet (80g)",pg:80,meal:["i","a"]},
  {name:"Supangle",icon:"üç´",cat:"dessert",cal:200,p:4,c:28,f:8,portion:"1 kase (150g)",pg:150,meal:["i","a"]},
  {name:"Mozaik Pasta",icon:"üç´",cat:"dessert",cal:320,p:5,c:35,f:18,portion:"1 dilim (80g)",pg:80,meal:["a"]},
  {name:"Magnolia",icon:"üçÆ",cat:"dessert",cal:170,p:3,c:22,f:8,portion:"1 kase (150g)",pg:150,meal:["i","a"]},
  {name:"Sakƒ±zlƒ± Muhallebi",icon:"üçÆ",cat:"dessert",cal:130,p:3,c:21,f:3.5,portion:"1 kase (150g)",pg:150,meal:["i","a"]},
  {name:"Lor Tatlƒ±sƒ±",icon:"üßÄ",cat:"dessert",cal:160,p:6,c:22,f:5,portion:"1 porsiyon (120g)",pg:120,meal:["i","a"]},
  {name:"Panna Cotta",icon:"üçÆ",cat:"dessert",cal:200,p:3,c:18,f:13,portion:"1 kase (120g)",pg:120,meal:["i","a"]},

  // ‚îÄ‚îÄ YENƒ∞ ƒ∞√áECEKLER (10) ‚îÄ‚îÄ
  {name:"≈ûalgam Suyu",icon:"ü•§",cat:"drink",cal:20,p:0.5,c:4,f:0.1,portion:"1 bardak (200ml)",pg:200,meal:["i"]},
  {name:"Salep",icon:"‚òï",cat:"drink",cal:95,p:3,c:15,f:2.5,portion:"1 fincan (200ml)",pg:200,meal:["a","s"]},
  {name:"T√ºrk Kahvesi",icon:"‚òï",cat:"drink",cal:5,p:0.3,c:0.7,f:0,portion:"1 fincan (70ml)",pg:70,meal:["a"]},
  {name:"Acƒ±lƒ± ≈ûalgam",icon:"ü•§",cat:"drink",cal:25,p:0.5,c:5,f:0.1,portion:"1 bardak (200ml)",pg:200,meal:["i"]},
  {name:"Hibiskus √áayƒ±",icon:"üå∫",cat:"drink",cal:5,p:0,c:1,f:0,portion:"1 fincan (200ml)",pg:200,meal:["a"]},
  {name:"Tar√ßƒ±nlƒ± S√ºt",icon:"ü•õ",cat:"drink",cal:75,p:3.3,c:7,f:3,portion:"1 bardak (200ml)",pg:200,meal:["s","a"]},
  {name:"Ballƒ± S√ºt",icon:"ü•õ",cat:"drink",cal:85,p:3.3,c:10,f:3,portion:"1 bardak (200ml)",pg:200,meal:["s"]},
  {name:"Rezene √áayƒ±",icon:"üçµ",cat:"drink",cal:3,p:0,c:0.5,f:0,portion:"1 fincan (200ml)",pg:200,meal:["a","s"]},
  {name:"Hatmi √ái√ßeƒüi √áayƒ±",icon:"üå∏",cat:"drink",cal:3,p:0,c:0.5,f:0,portion:"1 fincan (200ml)",pg:200,meal:["a"]},
  {name:"Naneli Ayran",icon:"ü•õ",cat:"drink",cal:45,p:2,c:3.5,f:2,portion:"1 bardak (200ml)",pg:200,meal:["i","s"]},
];

// ‚ïê‚ïê‚ïê Health condition warnings ‚ïê‚ïê‚ïê
const HEALTH_WARNINGS = {
  diabetes: [
    {icon:"ü©∏",text:"Basit ≈üekerler ve beyaz ekmek yerine tam tahƒ±llƒ± alternatifler tercih edin."},
    {icon:"üìâ",text:"Sahurda d√º≈ü√ºk glisemik indeksli besinler (yulaf, bulgur) se√ßin."},
    {icon:"üçØ",text:"Hurma t√ºketimini 1-2 adet ile sƒ±nƒ±rlandƒ±rƒ±n."},
    {icon:"‚è∞",text:"Kan ≈üekerinizi d√ºzenli √∂l√ß√ºn; hipoglisemi belirtilerinde orucu bozun."},
    {icon:"ü•§",text:"≈ûekerli i√ßeceklerden (komposto, ≈üerbet) ka√ßƒ±nƒ±n."}
  ],
  hypertension: [
    {icon:"üßÇ",text:"Tuz t√ºketiminizi g√ºnde 5g altƒ±nda tutun."},
    {icon:"ü•í",text:"Tur≈üu, salamura ve tuzlu peynirlerden ka√ßƒ±nƒ±n."},
    {icon:"üçå",text:"Potasyum a√ßƒ±sƒ±ndan zengin besinler (muz, avokado) tercih edin."},
    {icon:"üíä",text:"ƒ∞la√ßlarƒ±nƒ±zƒ± doktor √∂nerisine g√∂re sahur veya iftarda alƒ±n."}
  ],
  kidney: [
    {icon:"ü´ò",text:"Protein alƒ±mƒ±nƒ± doktorunuzun √∂nerdiƒüi miktarda tutun."},
    {icon:"üçå",text:"Potasyum ve fosfor alƒ±mƒ±na dikkat edin."},
    {icon:"üíß",text:"Sƒ±vƒ± alƒ±mƒ±nƒ±zƒ± doktorunuzla belirleyin."},
    {icon:"ü•ú",text:"Kuruyemi≈ü ve kuru baklagil t√ºketimini sƒ±nƒ±rlayƒ±n."}
  ],
  heart: [
    {icon:"ü´í",text:"Doymu≈ü yaƒü yerine zeytinyaƒüƒ± ve saƒülƒ±klƒ± yaƒülar tercih edin."},
    {icon:"üçü",text:"Kƒ±zartma yemeklerinden ka√ßƒ±nƒ±n; fƒ±rƒ±n veya ƒ±zgara tercih edin."},
    {icon:"üêü",text:"Haftada 2-3 kez balƒ±k t√ºketmeye √ßalƒ±≈üƒ±n."},
    {icon:"ü•¨",text:"Lif a√ßƒ±sƒ±ndan zengin besinleri artƒ±rƒ±n."}
  ],
  stomach: [
    {icon:"üå∂Ô∏è",text:"Acƒ±, ek≈üi ve baharatlƒ± yemeklerden ka√ßƒ±nƒ±n."},
    {icon:"üçΩÔ∏è",text:"ƒ∞ftarda k√º√ß√ºk porsiyonlarla ba≈ülayƒ±n; a≈üƒ±rƒ± yemeyin."},
    {icon:"‚òï",text:"Kahve, asitli i√ßecekler ve gazlƒ± i√ßeceklerden uzak durun."},
    {icon:"ü´ñ",text:"Zencefil veya papatya √ßayƒ± mide rahatsƒ±zlƒ±ƒüƒ±na iyi gelebilir."},
    {icon:"‚è≥",text:"Yemekler arasƒ±nda en az 2 saat bekleyin."}
  ],
  pregnancy: [
    {icon:"‚ö†Ô∏è",text:"Hamilelikte oru√ß tutmadan √∂nce mutlaka doktorunuza danƒ±≈üƒ±n."},
    {icon:"ü•õ",text:"Kalsiyum alƒ±mƒ±na dikkat edin: s√ºt √ºr√ºnlerini artƒ±rƒ±n."},
    {icon:"üíä",text:"Folik asit ve demir takviyelerinizi aksatmayƒ±n."},
    {icon:"ü•©",text:"Protein ihtiyacƒ±nƒ±z artmƒ±≈ütƒ±r ‚Äî her √∂ƒü√ºnde protein kaynaƒüƒ± bulundurun."},
    {icon:"üíß",text:"Dehidratasyon riski y√ºksektir; bol sƒ±vƒ± t√ºketin."}
  ]
};

// ‚ïê‚ïê‚ïê STATE ‚ïê‚ïê‚ïê
let selectedGoal = 'maintain';
let currentPlan = null;
let menuSearchQuery = '';

// ‚ïê‚ïê‚ïê LOCAL STORAGE ‚ïê‚ïê‚ïê
const LS_KEY = 'uzunyasa_sahur_iftar_v1';

function savePlanToStorage() {
  if (!currentPlan) return;
  try {
    const data = {
      inputs: {
        weight: +document.getElementById('weight').value,
        height: +document.getElementById('height').value,
        age: +document.getElementById('age').value,
        gender: document.getElementById('gender').value,
        activity: document.getElementById('activity').value,
        goal: selectedGoal,
        conditions: Array.from(document.querySelectorAll('.checkbox-item input:checked')).map(cb => cb.value)
      },
      plan: {
        targetCal: currentPlan.targetCal,
        macros: currentPlan.macros,
        sahurItems: currentPlan.sahur.items.map(serializeFood),
        iftarItems: currentPlan.iftar.items.map(serializeFood),
        snackItems: currentPlan.snack.items.map(serializeFood),
        waterLiters: currentPlan.waterLiters,
        waterGlasses: currentPlan.waterGlasses,
      },
      savedAt: Date.now()
    };
    localStorage.setItem(LS_KEY, JSON.stringify(data));
    showSavedIndicator();
  } catch(e) { /* quota exceeded or private browsing */ }
}

function serializeFood(item) {
  return { name: item.name, actualCal: item.actualCal, actualP: item.actualP, actualC: item.actualC, actualF: item.actualF, actualPortion: item.actualPortion, portionMult: item.portionMult || 1 };
}

function loadPlanFromStorage() {
  try {
    const raw = localStorage.getItem(LS_KEY);
    if (!raw) return false;
    const data = JSON.parse(raw);
    // Check freshness (max 7 days)
    if (Date.now() - data.savedAt > 7 * 24 * 60 * 60 * 1000) {
      localStorage.removeItem(LS_KEY);
      return false;
    }
    // Restore inputs
    const inp = data.inputs;
    document.getElementById('weight').value = inp.weight;
    document.getElementById('height').value = inp.height;
    document.getElementById('age').value = inp.age;
    document.getElementById('gender').value = inp.gender;
    document.getElementById('activity').value = inp.activity;
    selectedGoal = inp.goal || 'maintain';
    document.querySelectorAll('.goal-btn').forEach(b => {
      b.classList.toggle('active', b.dataset.goal === selectedGoal);
    });
    // Restore conditions
    if (inp.conditions) {
      document.querySelectorAll('.checkbox-item input').forEach(cb => {
        const checked = inp.conditions.includes(cb.value);
        cb.checked = checked;
        cb.closest('.checkbox-item').classList.toggle('checked', checked);
      });
    }
    // Restore plan
    const p = data.plan;
    const restoreItems = (serialized) => serialized.map(s => {
      const orig = FOODS.find(f => f.name === s.name);
      if (!orig) return s;
      return { ...orig, actualCal: s.actualCal, actualP: s.actualP, actualC: s.actualC, actualF: s.actualF, actualPortion: s.actualPortion, portionMult: s.portionMult || 1 };
    });
    currentPlan = {
      targetCal: p.targetCal,
      macros: p.macros,
      sahur: { items: restoreItems(p.sahurItems), totalCal: 0, totalP: 0, totalC: 0, totalF: 0 },
      iftar: { items: restoreItems(p.iftarItems), totalCal: 0, totalP: 0, totalC: 0, totalF: 0 },
      snack: { items: restoreItems(p.snackItems), totalCal: 0, totalP: 0, totalC: 0, totalF: 0 },
      waterLiters: p.waterLiters,
      waterGlasses: p.waterGlasses,
      conditions: inp.conditions || [],
      weight: inp.weight, height: inp.height, age: inp.age, gender: inp.gender, activity: inp.activity
    };
    renderResults(currentPlan);
    showSavedIndicator('üíæ Kaydedilmi≈ü planƒ±nƒ±z y√ºklendi');
    return true;
  } catch(e) { return false; }
}

function showSavedIndicator(text) {
  const el = document.getElementById('savedIndicator');
  if (el) {
    if (text) el.textContent = text;
    else el.textContent = 'üíæ Plan kaydedildi';
    el.classList.add('show');
    setTimeout(() => el.classList.remove('show'), 3000);
  }
}

function clearSavedPlan() {
  localStorage.removeItem(LS_KEY);
}

// ‚ïê‚ïê‚ïê UI HELPERS ‚ïê‚ïê‚ïê
function selectGoal(btn) {
  document.querySelectorAll('.goal-btn').forEach(b => b.classList.remove('active'));
  btn.classList.add('active');
  selectedGoal = btn.dataset.goal;
}

function toggleCheck(el) {
  setTimeout(() => {
    const input = el.querySelector('input');
    el.classList.toggle('checked', input.checked);
  }, 0);
}

function toggleMeal(id) {
  document.getElementById(id).classList.toggle('expanded');
}

function editInputs() {
  document.getElementById('resultsSection').classList.remove('show');
  document.getElementById('inputSection').style.display = '';
  window.scrollTo({top: 0, behavior: 'smooth'});
}

// ‚ïê‚ïê‚ïê CALORIE CALCULATION ‚ïê‚ïê‚ïê
function calcBMR(weight, height, age, gender) {
  // Mifflin-St Jeor
  if (gender === 'male') {
    return 10 * weight + 6.25 * height - 5 * age + 5;
  } else {
    return 10 * weight + 6.25 * height - 5 * age - 161;
  }
}

function calcTDEE(bmr, activity) {
  const factors = {
    sedentary: 1.2,
    light: 1.375,
    moderate: 1.55,
    active: 1.725,
    very_active: 1.9
  };
  return bmr * (factors[activity] || 1.2);
}

function adjustForGoal(tdee, goal) {
  switch (goal) {
    case 'lose': return tdee * 0.80;   // 20% deficit
    case 'gain': return tdee * 1.15;   // 15% surplus
    default: return tdee;
  }
}

function calcMacros(calories, goal, weight) {
  // Protein: 1.2-1.6g/kg (ESPEN 2021) depending on goal
  // GLP-1/bariatric: 1.2-1.5g/kg to preserve muscle
  let proteinPerKg = goal === 'gain' ? 1.6 : goal === 'lose' ? 1.5 : 1.2;
  let proteinG = Math.round(proteinPerKg * weight);
  let proteinCal = proteinG * 4;

  // Cap protein at 35% of calories max
  if (proteinCal > calories * 0.35) {
    proteinCal = Math.round(calories * 0.35);
    proteinG = Math.round(proteinCal / 4);
  }

  // Fat: 25-30% of calories
  let fatPct = goal === 'lose' ? 0.25 : 0.28;
  let fatCal = calories * fatPct;
  let fatG = Math.round(fatCal / 9);

  // Carbs: remainder
  let carbCal = calories - proteinCal - fatCal;
  let carbG = Math.round(carbCal / 4);

  // Clamp
  if (carbG < 50) {
    carbG = 50;
    carbCal = carbG * 4;
    fatCal = calories - proteinCal - carbCal;
    fatG = Math.round(fatCal / 9);
  }

  return { proteinG, carbG, fatG };
}

// ‚ïê‚ïê‚ïê MEAL PLAN GENERATION ‚ïê‚ïê‚ïê
function shuffle(arr) {
  const a = [...arr];
  for (let i = a.length - 1; i > 0; i--) {
    const j = Math.floor(Math.random() * (i + 1));
    [a[i], a[j]] = [a[j], a[i]];
  }
  return a;
}

function pickFoods(mealType, targetCal, targetP, targetC, targetF, conditions) {
  // Filter foods for this meal type
  let pool = FOODS.filter(f => f.meal.includes(mealType));

  // Filter out condition-inappropriate foods
  if (conditions.includes('diabetes')) {
    pool = pool.filter(f => f.cat !== 'dessert' || f.name === 'G√ºlla√ß');
  }
  if (conditions.includes('kidney')) {
    pool = pool.filter(f => f.cat !== 'nut');
  }
  if (conditions.includes('stomach')) {
    pool = pool.filter(f => !['ƒ∞≈ükembe √áorbasƒ±'].includes(f.name));
  }

  pool = shuffle(pool);

  const selected = [];
  let totalCal = 0, totalP = 0, totalC = 0, totalF = 0;

  // Category priorities per meal type
  let priorities;
  if (mealType === 's') {
    priorities = ['protein','dairy','carb','nut','veg','soup','fruit'];
  } else if (mealType === 'i') {
    priorities = ['soup','protein','carb','veg','fruit','dairy','dessert','drink'];
  } else {
    priorities = ['fruit','nut','dairy','dessert','drink'];
  }

  // Pick one from each priority category if available
  const usedNames = new Set();
  for (const cat of priorities) {
    if (totalCal >= targetCal * 0.95) break;
    const candidates = pool.filter(f => {
      if (usedNames.has(f.name)) return false;
      // Map categories
      if (cat === 'protein') return f.cat === 'protein';
      if (cat === 'dairy') return f.cat === 'dairy';
      if (cat === 'carb') return f.cat === 'carb';
      if (cat === 'nut') return f.cat === 'nut';
      if (cat === 'veg') return f.cat === 'veg';
      if (cat === 'soup') return f.cat === 'soup';
      if (cat === 'fruit') return f.cat === 'fruit';
      if (cat === 'dessert') return f.cat === 'dessert';
      if (cat === 'drink') return f.cat === 'drink';
      return false;
    });
    if (candidates.length === 0) continue;
    const pick = candidates[0];
    const portionMult = Math.max(0.5, Math.min(1.5, targetCal / 1500));
    const cal = Math.round(pick.cal * (pick.pg / 100) * portionMult);
    const p = +(pick.p * (pick.pg / 100) * portionMult).toFixed(1);
    const c = +(pick.c * (pick.pg / 100) * portionMult).toFixed(1);
    const f = +(pick.f * (pick.pg / 100) * portionMult).toFixed(1);

    selected.push({
      ...pick,
      actualCal: cal,
      actualP: p,
      actualC: c,
      actualF: f,
      actualPortion: pick.portion
    });
    totalCal += cal;
    totalP += p;
    totalC += c;
    totalF += f;
    usedNames.add(pick.name);
  }

  // If still under target, add more foods
  const extras = pool.filter(f => !usedNames.has(f.name));
  for (const pick of extras) {
    if (totalCal >= targetCal * 0.9) break;
    if (selected.length >= 8) break;
    const portionMult = Math.max(0.5, Math.min(1.5, targetCal / 1500));
    const cal = Math.round(pick.cal * (pick.pg / 100) * portionMult);
    const p = +(pick.p * (pick.pg / 100) * portionMult).toFixed(1);
    const c = +(pick.c * (pick.pg / 100) * portionMult).toFixed(1);
    const f = +(pick.f * (pick.pg / 100) * portionMult).toFixed(1);
    selected.push({
      ...pick,
      actualCal: cal,
      actualP: p,
      actualC: c,
      actualF: f,
      actualPortion: pick.portion
    });
    totalCal += cal;
    totalP += p;
    totalC += c;
    totalF += f;
    usedNames.add(pick.name);
  }

  return { items: selected, totalCal: Math.round(totalCal), totalP: Math.round(totalP), totalC: Math.round(totalC), totalF: Math.round(totalF) };
}

// ‚ïê‚ïê‚ïê MAIN GENERATE ‚ïê‚ïê‚ïê
function generatePlan() {
  const weight = +document.getElementById('weight').value;
  const height = +document.getElementById('height').value;
  const age = +document.getElementById('age').value;
  const gender = document.getElementById('gender').value;
  const activity = document.getElementById('activity').value;

  // Validation
  if (!weight || !height || !age || !gender || !activity) {
    alert('L√ºtfen t√ºm ki≈üisel bilgileri doldurun.');
    return;
  }
  if (weight < 30 || weight > 300 || height < 100 || height > 250 || age < 12 || age > 100) {
    alert('L√ºtfen ge√ßerli deƒüerler girin.');
    return;
  }

  const conditions = [];
  document.querySelectorAll('.checkbox-item input:checked').forEach(cb => conditions.push(cb.value));

  // Calculate
  const bmr = calcBMR(weight, height, age, gender);
  const tdee = calcTDEE(bmr, activity);
  const targetCal = Math.round(adjustForGoal(tdee, selectedGoal));
  const macros = calcMacros(targetCal, selectedGoal, weight);

  // Ramazan adjustment: compress into 2 meals + snack window
  // Sahur: ~35%, Iftar: ~45%, Snack: ~20%
  const sahurCal = Math.round(targetCal * 0.35);
  const iftarCal = Math.round(targetCal * 0.45);
  const snackCal = Math.round(targetCal * 0.20);

  const sahurP = Math.round(macros.proteinG * 0.35);
  const sahurC = Math.round(macros.carbG * 0.35);
  const sahurF = Math.round(macros.fatG * 0.35);
  const iftarP = Math.round(macros.proteinG * 0.45);
  const iftarC = Math.round(macros.carbG * 0.45);
  const iftarF = Math.round(macros.fatG * 0.45);
  const snackP = Math.round(macros.proteinG * 0.20);
  const snackC = Math.round(macros.carbG * 0.20);
  const snackF = Math.round(macros.fatG * 0.20);

  const sahur = pickFoods('s', sahurCal, sahurP, sahurC, sahurF, conditions);
  const iftar = pickFoods('i', iftarCal, iftarP, iftarC, iftarF, conditions);
  const snack = pickFoods('a', snackCal, snackP, snackC, snackF, conditions);

  // Water calculation: ~30-35ml per kg
  const waterLiters = +(weight * 0.033).toFixed(1);
  const waterGlasses = Math.round(waterLiters * 5); // 200ml glasses

  currentPlan = { targetCal, macros, sahur, iftar, snack, waterLiters, waterGlasses, conditions, weight, height, age, gender, activity };

  renderResults(currentPlan);
  savePlanToStorage();
}

function regeneratePlan() {
  if (!currentPlan) return;
  // Re-generate with same parameters
  const { targetCal, macros, conditions, weight } = currentPlan;
  const sahurCal = Math.round(targetCal * 0.35);
  const iftarCal = Math.round(targetCal * 0.45);
  const snackCal = Math.round(targetCal * 0.20);

  const sahur = pickFoods('s', sahurCal, 0, 0, 0, conditions);
  const iftar = pickFoods('i', iftarCal, 0, 0, 0, conditions);
  const snack = pickFoods('a', snackCal, 0, 0, 0, conditions);

  const waterLiters = +(weight * 0.033).toFixed(1);
  const waterGlasses = Math.round(waterLiters * 5);

  currentPlan.sahur = sahur;
  currentPlan.iftar = iftar;
  currentPlan.snack = snack;

  renderResults(currentPlan);
  savePlanToStorage();

  // Scroll to top of results
  document.getElementById('summaryBanner').scrollIntoView({ behavior: 'smooth' });
}

// ‚ïê‚ïê‚ïê BUILD OWN PLAN (Bowl Builder Mode) ‚ïê‚ïê‚ïê
function buildOwnPlan() {
  const weight = +document.getElementById('weight').value;
  const height = +document.getElementById('height').value;
  const age = +document.getElementById('age').value;
  const gender = document.getElementById('gender').value;
  const activity = document.getElementById('activity').value;

  if (!weight || !height || !age || !gender || !activity) {
    alert('L√ºtfen t√ºm ki≈üisel bilgileri doldurun.');
    return;
  }
  if (weight < 30 || weight > 300 || height < 100 || height > 250 || age < 12 || age > 100) {
    alert('L√ºtfen ge√ßerli deƒüerler girin.');
    return;
  }

  const conditions = [];
  document.querySelectorAll('.checkbox-item input:checked').forEach(cb => conditions.push(cb.value));

  const bmr = calcBMR(weight, height, age, gender);
  const tdee = calcTDEE(bmr, activity);
  const targetCal = Math.round(adjustForGoal(tdee, selectedGoal));
  const macros = calcMacros(targetCal, selectedGoal, weight);

  // Create empty plan with targets
  const sahur = { items: [], totalCal: 0, totalP: 0, totalC: 0, totalF: 0 };
  const iftar = { items: [], totalCal: 0, totalP: 0, totalC: 0, totalF: 0 };
  const snack = { items: [], totalCal: 0, totalP: 0, totalC: 0, totalF: 0 };

  const waterLiters = +(weight * 0.033).toFixed(1);
  const waterGlasses = Math.round(waterLiters * 5);

  currentPlan = { targetCal, macros, sahur, iftar, snack, waterLiters, waterGlasses, conditions, weight, height, age, gender, activity };

  // Reset menu selections
  menuSelections = { sahur: [], iftar: [], snack: [] };

  renderResults(currentPlan);

  // Auto-open builder and scroll to it
  setTimeout(() => {
    const builder = document.getElementById('menuBuilder');
    if (!builder.classList.contains('open')) builder.classList.add('open');
    initMenuBuilder();
    renderBasket();
    builder.scrollIntoView({ behavior: 'smooth', block: 'start' });
  }, 300);
}

// ‚ïê‚ïê‚ïê RENDER ‚ïê‚ïê‚ïê
function renderResults(plan) {
  const { targetCal, macros, sahur, iftar, snack, waterLiters, waterGlasses, conditions } = plan;

  // Hide input, show results
  document.getElementById('inputSection').style.display = 'none';
  const rs = document.getElementById('resultsSection');
  rs.classList.add('show');

  // Summary
  document.getElementById('totalCal').textContent = targetCal;
  document.getElementById('totalProtein').textContent = macros.proteinG + 'g';
  document.getElementById('totalCarb').textContent = macros.carbG + 'g';
  document.getElementById('totalFat').textContent = macros.fatG + 'g';

  // Macro % bars
  const totalMacroCal = macros.proteinG * 4 + macros.carbG * 4 + macros.fatG * 9;
  const pPct = Math.round((macros.proteinG * 4 / totalMacroCal) * 100);
  const fPct = Math.round((macros.fatG * 9 / totalMacroCal) * 100);
  const cPct = 100 - pPct - fPct;

  setTimeout(() => {
    document.getElementById('barProtein').style.width = pPct + '%';
    document.getElementById('barProteinVal').textContent = pPct + '%';
    document.getElementById('barFat').style.width = fPct + '%';
    document.getElementById('barFatVal').textContent = fPct + '%';
    document.getElementById('barCarb').style.width = cPct + '%';
    document.getElementById('barCarbVal').textContent = cPct + '%';
  }, 100);

  // Render meals
  renderMeal('sahur', sahur);
  renderMeal('iftar', iftar);
  renderMeal('snack', snack);

  // Hydration
  document.getElementById('waterTotal').textContent = waterLiters;
  document.getElementById('waterGlasses').textContent = waterGlasses;
  initWaterTracker(waterGlasses);
  
  // Donut chart (initial)
  const initCal = Math.round(sahur.totalCal + iftar.totalCal + snack.totalCal);
  updateDonutChart(initCal, targetCal);

  // Warnings
  const warningCard = document.getElementById('warningCard');
  const warningList = document.getElementById('warningList');
  warningList.innerHTML = '';
  let hasWarnings = false;
  for (const cond of conditions) {
    if (HEALTH_WARNINGS[cond]) {
      hasWarnings = true;
      for (const w of HEALTH_WARNINGS[cond]) {
        warningList.innerHTML += `<li><span class="w-icon">${w.icon}</span>${w.text}</li>`;
      }
    }
  }
  warningCard.classList.toggle('show', hasWarnings);

  // Expand sahur and iftar by default, collapse snack
  document.getElementById('sahurCard').classList.add('expanded');
  document.getElementById('iftarCard').classList.add('expanded');
  document.getElementById('snackCard').classList.remove('expanded');

  // Auto-open bowl builder and sync with plan
  setTimeout(() => {
    const builder = document.getElementById('menuBuilder');
    if (!builder.classList.contains('open')) builder.classList.add('open');
    syncMenuWithPlan();
    initMenuBuilder();
    renderBasket();
    // Render shopping list if open
    if (document.getElementById('shoppingCard').classList.contains('expanded')) {
      renderShoppingList();
    }
  }, 200);

  // Update remaining indicators
  setTimeout(() => updateMealRemaining(), 300);

  window.scrollTo({ top: 0, behavior: 'smooth' });
}

function renderMeal(prefix, meal) {
  const listEl = document.getElementById(prefix + 'Foods');
  const calEl = document.getElementById(prefix + 'Cal');

  listEl.innerHTML = '';
  let totalCal = 0, totalP = 0, totalC = 0, totalF = 0;
  let idx = -1;

  for (const item of meal.items) {
    idx++;
    totalCal += item.actualCal;
    totalP += item.actualP;
    totalC += item.actualC;
    totalF += item.actualF;

    const pm = item.portionMult || 1;
    const portionLabel = pm === 0.5 ? '¬Ω' : pm === 1 ? '1' : pm === 1.5 ? '1¬Ω' : '2';
    listEl.innerHTML += `
      <li class="food-item adding" id="${prefix}-food-${idx}" onclick="openFoodModal('${item.name.replace(/'/g,"\\'")}')">
        <div class="food-item-icon">${item.icon}</div>
        <div class="food-item-info">
          <div class="food-item-name">${item.name}</div>
          <div class="food-item-portion">${item.actualPortion}</div>
          <div class="food-item-macros">
            <span class="m-p">P: ${item.actualP.toFixed(0)}g</span>
            <span class="m-c">K: ${item.actualC.toFixed(0)}g</span>
            <span class="m-f">Y: ${item.actualF.toFixed(0)}g</span>
          </div>
          <div class="portion-selector no-print" style="margin-top:.3rem">
            <button class="portion-btn ${pm===0.5?'active':''}" onclick="event.stopPropagation();changePortion('${prefix}',${idx},0.5)" title="Yarƒ±m porsiyon">¬Ω</button>
            <button class="portion-btn ${pm===1?'active':''}" onclick="event.stopPropagation();changePortion('${prefix}',${idx},1)" title="Normal porsiyon">1</button>
            <button class="portion-btn ${pm===1.5?'active':''}" onclick="event.stopPropagation();changePortion('${prefix}',${idx},1.5)" title="1.5 porsiyon">1¬Ω</button>
            <button class="portion-btn ${pm===2?'active':''}" onclick="event.stopPropagation();changePortion('${prefix}',${idx},2)" title="√áift porsiyon">2</button>
          </div>
        </div>
        <div class="food-item-cal">${item.actualCal} kcal</div>
        <button class="food-swap-btn no-print" onclick="swapFood('${prefix}',${idx})" title="Deƒüi≈ütir">üîÑ</button>
      </li>`;
  }

  calEl.textContent = Math.round(totalCal);

  // Mini macro bars (scale to max value)
  const maxMacro = Math.max(totalP, totalC, totalF, 1);
  const setBar = (id, val) => {
    setTimeout(() => {
      document.getElementById(id).style.width = Math.round((val / maxMacro) * 100) + '%';
    }, 200);
  };

  setBar(prefix + 'ProteinBar', totalP);
  setBar(prefix + 'CarbBar', totalC);
  setBar(prefix + 'FatBar', totalF);
  document.getElementById(prefix + 'ProteinVal').textContent = Math.round(totalP) + 'g';
  document.getElementById(prefix + 'CarbVal').textContent = Math.round(totalC) + 'g';
  document.getElementById(prefix + 'FatVal').textContent = Math.round(totalF) + 'g';
}

// ‚ïê‚ïê‚ïê BOWL BUILDER / MEN√ú ‚ïê‚ïê‚ïê
const CAT_LABELS = {
  protein:{label:'ü•© Protein',order:1},
  soup:{label:'üç≤ √áorba',order:2},
  carb:{label:'üçû Tahƒ±l',order:3},
  dairy:{label:'üßÄ S√ºt √úr√ºnleri',order:4},
  veg:{label:'ü•ó Sebze',order:5},
  fruit:{label:'üçé Meyve',order:6},
  nut:{label:'ü•ú Kuruyemi≈ü',order:7},
  dessert:{label:'üçÆ Tatlƒ±',order:8},
  drink:{label:'üçµ ƒ∞√ßecek',order:9}
};

let menuMeal = 'sahur'; // current meal tab
let menuCat = 'all';    // current category filter
let menuSelections = { sahur: [], iftar: [], snack: [] };

function toggleMenuBuilder() {
  document.getElementById('menuBuilder').classList.toggle('open');
  // Initialize on first open
  if (!document.getElementById('catPills').innerHTML) {
    initMenuBuilder();
  }
}

function initMenuBuilder() {
  // Build category pills
  const pillsEl = document.getElementById('catPills');
  let html = '<button class="cat-pill active" onclick="setMenuCat(\'all\')">T√ºm√º</button>';
  const mealCode = menuMeal === 'sahur' ? 's' : menuMeal === 'iftar' ? 'i' : 'a';
  for (const [cat, info] of Object.entries(CAT_LABELS)) {
    const count = FOODS.filter(f => f.cat === cat && f.meal.includes(mealCode)).length;
    if (count > 0) {
      html += `<button class="cat-pill" onclick="setMenuCat('${cat}')">${info.label} <span class="cat-count">(${count})</span></button>`;
    }
  }
  pillsEl.innerHTML = html;
  renderMenuGrid();
}

function setMenuMeal(meal) {
  menuMeal = meal;
  document.querySelectorAll('.meal-tab').forEach(t => t.classList.remove('active'));
  event.target.closest('.meal-tab').classList.add('active');
  menuCat = 'all';
  initMenuBuilder();
  renderBasket();
  updateTargetProgress();
}

function setMenuCat(cat) {
  menuCat = cat;
  document.querySelectorAll('.cat-pill').forEach(p => p.classList.remove('active'));
  event.target.closest('.cat-pill').classList.add('active');
  renderMenuGrid();
}

// ‚ïê‚ïê‚ïê SEARCH ‚ïê‚ïê‚ïê
function onMenuSearch() {
  const input = document.getElementById('menuSearchInput');
  menuSearchQuery = input.value.trim().toLowerCase();
  document.getElementById('searchClearBtn').style.display = menuSearchQuery ? '' : 'none';
  renderMenuGrid();
}
function clearMenuSearch() {
  document.getElementById('menuSearchInput').value = '';
  menuSearchQuery = '';
  document.getElementById('searchClearBtn').style.display = 'none';
  renderMenuGrid();
}

// Turkish char-insensitive search
function trNormalize(s) {
  return s.toLowerCase().replace(/ƒ±/g,'i').replace(/ƒü/g,'g').replace(/√º/g,'u').replace(/≈ü/g,'s').replace(/√∂/g,'o').replace(/√ß/g,'c').replace(/ƒ∞/g,'i');
}

function renderMenuGrid() {
  const gridEl = document.getElementById('menuGrid');
  const mealCode = menuMeal === 'sahur' ? 's' : menuMeal === 'iftar' ? 'i' : 'a';
  const selectedNames = new Set(menuSelections[menuMeal].map(f => f.name));

  let foods = FOODS.filter(f => f.meal.includes(mealCode));
  if (menuCat !== 'all') foods = foods.filter(f => f.cat === menuCat);

  // Apply search filter
  if (menuSearchQuery) {
    const q = trNormalize(menuSearchQuery);
    foods = foods.filter(f => trNormalize(f.name).includes(q) || trNormalize(f.cat).includes(q));
  }

  // Sort: selected items first, then by category
  foods.sort((a, b) => {
    const aIn = selectedNames.has(a.name) ? 0 : 1;
    const bIn = selectedNames.has(b.name) ? 0 : 1;
    if (aIn !== bIn) return aIn - bIn;
    return (CAT_LABELS[a.cat]?.order || 99) - (CAT_LABELS[b.cat]?.order || 99);
  });

  const portionMult = currentPlan ? Math.max(0.5, Math.min(1.5, currentPlan.targetCal / 1500)) : 1;

  if (foods.length === 0) {
    gridEl.innerHTML = '<div style="grid-column:1/-1;text-align:center;padding:2rem;color:var(--gray-400);font-size:.85rem">üîç Sonu√ß bulunamadƒ±</div>';
    return;
  }

  gridEl.innerHTML = foods.map((f, i) => {
    const cal = Math.round(f.cal * (f.pg / 100) * portionMult);
    const p = Math.round(f.p * (f.pg / 100) * portionMult);
    const c = Math.round(f.c * (f.pg / 100) * portionMult);
    const fat = Math.round(f.f * (f.pg / 100) * portionMult);
    const inMeal = selectedNames.has(f.name);
    return `<div class="menu-food ${inMeal ? 'in-meal' : ''}" onclick="toggleMenuFood('${f.name.replace(/'/g, "\\'")}')">
      <div class="mf-icon">${f.icon}</div>
      <div class="mf-info">
        <div class="mf-name">${f.name}</div>
        <div class="mf-meta">${f.portion}</div>
        <div class="mf-macros">P:${p}g ¬∑ K:${c}g ¬∑ Y:${fat}g</div>
      </div>
      <div class="mf-cal">${cal}<span style="font-size:.55rem;display:block;opacity:.6">kcal</span></div>
      <div class="mf-add">${inMeal ? '‚úì' : '+'}</div>
    </div>`;
  }).join('');
}

function toggleMenuFood(foodName) {
  const sel = menuSelections[menuMeal];
  const idx = sel.findIndex(f => f.name === foodName);

  if (idx !== -1) {
    // Remove
    sel.splice(idx, 1);
  } else {
    // Add
    const food = FOODS.find(f => f.name === foodName);
    if (!food) return;
    const portionMult = currentPlan ? Math.max(0.5, Math.min(1.5, currentPlan.targetCal / 1500)) : 1;
    sel.push({
      ...food,
      actualCal: Math.round(food.cal * (food.pg / 100) * portionMult),
      actualP: +(food.p * (food.pg / 100) * portionMult).toFixed(1),
      actualC: +(food.c * (food.pg / 100) * portionMult).toFixed(1),
      actualF: +(food.f * (food.pg / 100) * portionMult).toFixed(1),
      actualPortion: food.portion
    });
  }

  renderMenuGrid();
  renderBasket();
}

function renderBasket() {
  const sel = menuSelections[menuMeal];
  const itemsEl = document.getElementById('basketItems');
  const countEl = document.getElementById('basketCount');

  if (sel.length === 0) {
    itemsEl.innerHTML = '<span class="basket-empty">A≈üaƒüƒ±dan yemek ekleyin...</span>';
    countEl.textContent = '0 yemek';
  } else {
    itemsEl.innerHTML = sel.map(f =>
      `<span class="basket-chip" onclick="toggleMenuFood('${f.name.replace(/'/g, "\\'")}')">${f.icon} ${f.name} <span class="chip-x">‚úï</span></span>`
    ).join('');
    countEl.textContent = sel.length + ' yemek';
  }

  // Update running total for current meal
  const totalCal = sel.reduce((s, f) => s + f.actualCal, 0);
  const totalP = sel.reduce((s, f) => s + f.actualP, 0);
  const totalC = sel.reduce((s, f) => s + f.actualC, 0);
  const totalF = sel.reduce((s, f) => s + f.actualF, 0);

  document.getElementById('rtCal').textContent = Math.round(totalCal);
  document.getElementById('rtP').textContent = Math.round(totalP);
  document.getElementById('rtC').textContent = Math.round(totalC);
  document.getElementById('rtF').textContent = Math.round(totalF);

  // Update tab calorie counts
  for (const m of ['sahur','iftar','snack']) {
    const mCal = menuSelections[m].reduce((s, f) => s + f.actualCal, 0);
    const tabEl = document.getElementById(`menu${m.charAt(0).toUpperCase()+m.slice(1)}Cal`);
    if (tabEl) tabEl.textContent = mCal > 0 ? `(${Math.round(mCal)})` : '';
  }

  // Update calorie target progress
  updateTargetProgress();
}

function updateTargetProgress() {
  if (!currentPlan) return;
  const { targetCal } = currentPlan;

  // Calculate target per meal
  const mealTargets = {
    sahur: Math.round(targetCal * 0.35),
    iftar: Math.round(targetCal * 0.45),
    snack: Math.round(targetCal * 0.20)
  };

  const target = mealTargets[menuMeal] || 0;
  const sel = menuSelections[menuMeal];
  const current = sel.reduce((s, f) => s + f.actualCal, 0);
  const pct = target > 0 ? Math.min(Math.round((current / target) * 100), 150) : 0;

  // Update target labels
  const targetCalLabel = document.getElementById('targetCalLabel');
  const targetCurrentEl = document.getElementById('targetCurrent');
  const targetBarFill = document.getElementById('targetBarFill');
  const mealNames = { sahur: 'üåô Sahur', iftar: 'üåÖ ƒ∞ftar', snack: 'ü´ñ Ara √ñƒü√ºn' };

  if (targetCalLabel) targetCalLabel.textContent = target;
  const labelEl = document.getElementById('targetLabel');
  if (labelEl) labelEl.innerHTML = `üéØ ${mealNames[menuMeal] || ''} Hedef: <b>${target}</b> kcal`;

  if (targetCurrentEl) {
    targetCurrentEl.textContent = `${Math.round(current)} / ${target} kcal`;
    if (pct >= 85 && pct <= 110) {
      targetCurrentEl.style.color = '#16a34a'; // green = perfect
    } else if (pct > 110) {
      targetCurrentEl.style.color = '#dc2626'; // red = over
    } else {
      targetCurrentEl.style.color = 'var(--primary)';
    }
  }

  if (targetBarFill) {
    targetBarFill.style.width = Math.min(pct, 100) + '%';
    targetBarFill.classList.remove('over', 'perfect');
    if (pct > 110) targetBarFill.classList.add('over');
    else if (pct >= 85 && pct <= 110) targetBarFill.classList.add('perfect');
  }

  // Update meal tab targets
  for (const m of ['sahur', 'iftar', 'snack']) {
    const mCal = menuSelections[m].reduce((s, f) => s + f.actualCal, 0);
    const mTarget = mealTargets[m];
    const tabEl = document.getElementById(`menu${m.charAt(0).toUpperCase() + m.slice(1)}Cal`);
    if (tabEl) {
      if (mCal > 0) {
        tabEl.textContent = `(${Math.round(mCal)}/${mTarget})`;
      } else {
        tabEl.textContent = `(${mTarget})`;
      }
    }
  }
}

function applyMenuSelections() {
  if (!currentPlan) { alert('√ñnce ki≈üisel bilgileri girin ve plan olu≈üturun.'); return; }

  let applied = 0;
  // Apply selections to the plan for each meal that has selections
  for (const mealKey of ['sahur','iftar','snack']) {
    if (menuSelections[mealKey].length > 0) {
      currentPlan[mealKey].items = [...menuSelections[mealKey]];
      renderMeal(mealKey, currentPlan[mealKey]);
      applied += menuSelections[mealKey].length;
    }
  }
  updateTotals();

  // Expand meal cards so the user sees the result
  document.getElementById('sahurCard').classList.add('expanded');
  document.getElementById('iftarCard').classList.add('expanded');
  if (menuSelections.snack.length > 0) document.getElementById('snackCard').classList.add('expanded');

  // Scroll to first meal card
  document.getElementById('sahurCard').scrollIntoView({ behavior: 'smooth', block: 'start' });

  // Refresh shopping list
  if (document.getElementById('shoppingCard').classList.contains('expanded')) {
    shoppingChecked.clear();
    renderShoppingList();
  }

  updateMealRemaining();
  savePlanToStorage();

  // Visual feedback
  const btn = event.target.closest('.btn');
  const orig = btn.innerHTML;
  btn.innerHTML = `‚úÖ ${applied} yemek uygulandƒ±!`;
  setTimeout(() => btn.innerHTML = orig, 2500);
}

function clearMenuSelections() {
  menuSelections[menuMeal] = [];
  renderMenuGrid();
  renderBasket();
}

function clearAllMenuSelections() {
  menuSelections = { sahur: [], iftar: [], snack: [] };
  renderMenuGrid();
  renderBasket();
}

// Initialize menu with current plan foods when plan is generated
function syncMenuWithPlan() {
  if (!currentPlan) return;
  menuSelections.sahur = [...currentPlan.sahur.items];
  menuSelections.iftar = [...currentPlan.iftar.items];
  menuSelections.snack = [...currentPlan.snack.items];
}

// ‚ïê‚ïê‚ïê SWAP FOOD ‚ïê‚ïê‚ïê
function swapFood(mealType, foodIndex) {
  if (!currentPlan) return;

  // Get the meal data
  const mealKey = mealType; // 'sahur', 'iftar', or 'snack'
  const meal = currentPlan[mealKey];
  if (!meal || !meal.items[foodIndex]) return;

  const oldFood = meal.items[foodIndex];
  const mealCode = mealKey === 'sahur' ? 's' : mealKey === 'iftar' ? 'i' : 'a';

  // Get names of all foods currently in this meal (to avoid duplicates)
  const usedNames = new Set(meal.items.map(i => i.name));

  // Filter conditions
  const conditions = currentPlan.conditions || [];

  // Find alternatives: same category, suitable for this meal, not already used
  let candidates = FOODS.filter(f => {
    if (f.name === oldFood.name) return false;
    if (usedNames.has(f.name)) return false;
    if (!f.meal.includes(mealCode)) return false;
    // Same category preferred, but allow similar categories
    if (f.cat !== oldFood.cat) return false;
    // Condition filters
    if (conditions.includes('diabetes') && f.cat === 'dessert' && f.name !== 'G√ºlla√ß') return false;
    if (conditions.includes('kidney') && f.cat === 'nut') return false;
    return true;
  });

  // If no same-category alternative, try nearby categories
  if (candidates.length === 0) {
    const similarCats = {
      'protein': ['dairy','veg'],
      'dairy': ['protein'],
      'carb': ['veg'],
      'soup': ['veg','drink'],
      'veg': ['soup','carb'],
      'fruit': ['nut','drink'],
      'nut': ['fruit','dairy'],
      'dessert': ['fruit'],
      'drink': ['fruit']
    };
    const fallbackCats = similarCats[oldFood.cat] || [];
    candidates = FOODS.filter(f => {
      if (f.name === oldFood.name) return false;
      if (usedNames.has(f.name)) return false;
      if (!f.meal.includes(mealCode)) return false;
      if (!fallbackCats.includes(f.cat)) return false;
      if (conditions.includes('diabetes') && f.cat === 'dessert') return false;
      if (conditions.includes('kidney') && f.cat === 'nut') return false;
      return true;
    });
  }

  if (candidates.length === 0) {
    // No alternatives available ‚Äî brief visual feedback
    const el = document.getElementById(`${mealType}-food-${foodIndex}`);
    if (el) {
      const btn = el.querySelector('.food-swap-btn');
      if (btn) { btn.textContent = '‚ùå'; setTimeout(() => btn.textContent = 'üîÑ', 1000); }
    }
    return;
  }

  // Pick random alternative
  const newFood = candidates[Math.floor(Math.random() * candidates.length)];

  // Calculate macros with same portion multiplier as original plan
  const portionMult = Math.max(0.5, Math.min(1.5, currentPlan.targetCal / 1500));
  const newItem = {
    ...newFood,
    actualCal: Math.round(newFood.cal * (newFood.pg / 100) * portionMult),
    actualP: +(newFood.p * (newFood.pg / 100) * portionMult).toFixed(1),
    actualC: +(newFood.c * (newFood.pg / 100) * portionMult).toFixed(1),
    actualF: +(newFood.f * (newFood.pg / 100) * portionMult).toFixed(1),
    actualPortion: newFood.portion
  };

  // Animate swap
  const el = document.getElementById(`${mealType}-food-${foodIndex}`);
  if (el) el.classList.add('swapping');

  // Replace in data
  meal.items[foodIndex] = newItem;

  // Re-render this meal after animation
  setTimeout(() => {
    renderMeal(mealType, meal);
    updateTotals();
    updateMealRemaining();
    savePlanToStorage();
  }, 150);
}

function updateTotals() {
  if (!currentPlan) return;
  const { sahur, iftar, snack, macros } = currentPlan;

  // Recalculate actual totals from current items
  let totalCal = 0;
  [sahur, iftar, snack].forEach(meal => {
    meal.items.forEach(item => { totalCal += item.actualCal; });
    // Recalculate meal totals
    meal.totalCal = meal.items.reduce((s, i) => s + i.actualCal, 0);
    meal.totalP = meal.items.reduce((s, i) => s + i.actualP, 0);
    meal.totalC = meal.items.reduce((s, i) => s + i.actualC, 0);
    meal.totalF = meal.items.reduce((s, i) => s + i.actualF, 0);
  });

  // Update summary banner with actual totals
  const actualP = Math.round(sahur.totalP + iftar.totalP + snack.totalP);
  const actualC = Math.round(sahur.totalC + iftar.totalC + snack.totalC);
  const actualF = Math.round(sahur.totalF + iftar.totalF + snack.totalF);
  const actualCal = Math.round(sahur.totalCal + iftar.totalCal + snack.totalCal);

  document.getElementById('totalCal').textContent = actualCal;
  document.getElementById('totalProtein').textContent = actualP + 'g';
  document.getElementById('totalCarb').textContent = actualC + 'g';
  document.getElementById('totalFat').textContent = actualF + 'g';

  const totalMacroCal = actualP * 4 + actualC * 4 + actualF * 9;
  if (totalMacroCal > 0) {
    const pPct = Math.round((actualP * 4 / totalMacroCal) * 100);
    const fPct = Math.round((actualF * 9 / totalMacroCal) * 100);
    const cPct = 100 - pPct - fPct;
    document.getElementById('barProtein').style.width = pPct + '%';
    document.getElementById('barProteinVal').textContent = pPct + '%';
    document.getElementById('barFat').style.width = fPct + '%';
    document.getElementById('barFatVal').textContent = fPct + '%';
    document.getElementById('barCarb').style.width = cPct + '%';
    document.getElementById('barCarbVal').textContent = cPct + '%';
  }
  
  // Update donut chart
  updateDonutChart(actualCal, currentPlan.targetCal || actualCal);
}

// ‚ïê‚ïê‚ïê PORTION ADJUSTMENT ‚ïê‚ïê‚ïê
function changePortion(mealType, foodIndex, newMult) {
  if (!currentPlan) return;
  const meal = currentPlan[mealType];
  if (!meal || !meal.items[foodIndex]) return;

  const item = meal.items[foodIndex];
  const orig = FOODS.find(f => f.name === item.name);
  if (!orig) return;

  const baseMult = currentPlan ? Math.max(0.5, Math.min(1.5, currentPlan.targetCal / 1500)) : 1;

  item.portionMult = newMult;
  item.actualCal = Math.round(orig.cal * (orig.pg / 100) * baseMult * newMult);
  item.actualP = +(orig.p * (orig.pg / 100) * baseMult * newMult).toFixed(1);
  item.actualC = +(orig.c * (orig.pg / 100) * baseMult * newMult).toFixed(1);
  item.actualF = +(orig.f * (orig.pg / 100) * baseMult * newMult).toFixed(1);

  // Update portion text
  if (newMult === 0.5) item.actualPortion = '¬Ω ' + orig.portion;
  else if (newMult === 1) item.actualPortion = orig.portion;
  else if (newMult === 1.5) item.actualPortion = '1¬Ω √ó ' + orig.portion;
  else item.actualPortion = '2 √ó ' + orig.portion;

  renderMeal(mealType, meal);
  updateTotals();
  updateMealRemaining();
  savePlanToStorage();
}

function updateMealRemaining() {
  if (!currentPlan) return;
  const { targetCal } = currentPlan;
  const mealTargets = { sahur: 0.35, iftar: 0.45, snack: 0.20 };

  for (const [key, pct] of Object.entries(mealTargets)) {
    const target = Math.round(targetCal * pct);
    const actual = currentPlan[key].items.reduce((s, i) => s + i.actualCal, 0);
    const remaining = target - actual;
    const el = document.getElementById(key + 'Remaining');
    if (el) {
      if (remaining > 50) {
        el.textContent = `(${Math.round(remaining)} kcal kaldƒ±)`;
        el.className = 'meal-remaining';
      } else if (remaining < -50) {
        el.textContent = `(${Math.abs(Math.round(remaining))} kcal fazla)`;
        el.className = 'meal-remaining over';
      } else {
        el.textContent = '‚úì Hedefte';
        el.className = 'meal-remaining good';
      }
    }
  }
}

// ‚ïê‚ïê‚ïê SHARE ‚ïê‚ïê‚ïê
function sharePlan() {
  if (!currentPlan) return;
  const { targetCal, macros, sahur, iftar } = currentPlan;
  const sahurItems = sahur.items.map(i => `  ‚Ä¢ ${i.name}`).join('\n');
  const iftarItems = iftar.items.map(i => `  ‚Ä¢ ${i.name}`).join('\n');

  const text = `‚ò™Ô∏è Ramazan √ñƒü√ºn Planƒ±m

üìä G√ºnl√ºk: ${targetCal} kcal
üü† Protein: ${macros.proteinG}g | üü¢ Karb: ${macros.carbG}g | üî¥ Yaƒü: ${macros.fatG}g

üåô Sahur:
${sahurItems}

üåÖ ƒ∞ftar:
${iftarItems}

üîó Kendi planƒ±nƒ± olu≈ütur: uzunyasa.com/pages/araclar/sahur-iftar-planlayici.html`;

  if (navigator.share) {
    navigator.share({ text }).catch(() => {});
  } else if (navigator.clipboard) {
    navigator.clipboard.writeText(text).then(() => {
      const btn = event.target.closest('.btn');
      const orig = btn.innerHTML;
      btn.innerHTML = '‚úÖ Kopyalandƒ±!';
      setTimeout(() => btn.innerHTML = orig, 2000);
    });
  }
}

// ‚ïê‚ïê‚ïê SHOPPING LIST ‚Äî COMPREHENSIVE INGREDIENT DECOMPOSITION ‚ïê‚ïê‚ïê
let shoppingDays = 1;
let shoppingChecked = new Set();

// Store sections
const SHOP_CATS = {
  meat:{icon:'ü•©',name:'Kƒ±rmƒ±zƒ± Et',order:1},
  poultry:{icon:'üçó',name:'Tavuk & Beyaz Et',order:2},
  fish:{icon:'üêü',name:'Balƒ±k & Deniz √úr√ºnleri',order:3},
  egg:{icon:'ü•ö',name:'Yumurta',order:4},
  dairy:{icon:'üßÄ',name:'S√ºt √úr√ºnleri',order:5},
  veg:{icon:'ü•¨',name:'Sebze & Ye≈üillik',order:6},
  fruit:{icon:'üçé',name:'Meyve',order:7},
  bread:{icon:'üçû',name:'Ekmek & Fƒ±rƒ±n',order:8},
  legume:{icon:'ü´ò',name:'Baklagil',order:9},
  grain:{icon:'üåæ',name:'Tahƒ±l & Pirin√ß',order:10},
  nut:{icon:'ü•ú',name:'Kuruyemi≈ü & Kuru Meyve',order:11},
  canned:{icon:'ü•´',name:'Konserve & Sal√ßa',order:12},
  oil:{icon:'ü´í',name:'Yaƒü & Sos',order:13},
  tea:{icon:'üçµ',name:'√áay & ƒ∞√ßecek',order:14},
  sweet:{icon:'üçØ',name:'Tatlƒ± Malzemeleri',order:15},
  spice:{icon:'üßÇ',name:'Baharat & √áe≈üni (mutfakta kontrol edin)',order:16}
};

// Recipe ingredient DB ‚Äî [ingredient, qty, unit, shopCat]
// qty=0 ‚Üí pantry staple (spice section)
const RECIPE_DB = {
  // ‚ïê PROTEƒ∞N / ET & YUMURTA ‚ïê
  "Ha≈ülanmƒ±≈ü Yumurta":       [["Yumurta",2,"adet","egg"]],
  "Menemen":                  [["Yumurta",3,"adet","egg"],["Domates",2,"adet","veg"],["Sivri Biber",2,"adet","veg"],["Soƒüan",1,"adet","veg"],["Zeytinyaƒüƒ±",0,"","oil"],["Pul Biber",0,"","spice"]],
  "Sahanda Yumurta":          [["Yumurta",2,"adet","egg"],["Tereyaƒüƒ±",15,"g","dairy"]],
  "Omlet (Sebzeli)":          [["Yumurta",2,"adet","egg"],["Mantar",50,"g","veg"],["Ispanak",50,"g","veg"],["S√ºt",30,"ml","dairy"],["Tereyaƒüƒ±",10,"g","dairy"]],
  "√áƒ±lbƒ±r":                   [["Yumurta",2,"adet","egg"],["S√ºzme Yoƒüurt",150,"g","dairy"],["Sarƒ±msak",1,"di≈ü","veg"],["Tereyaƒüƒ±",15,"g","dairy"],["Pul Biber",0,"","spice"]],
  "Sucuklu Yumurta":          [["Yumurta",2,"adet","egg"],["Sucuk",60,"g","meat"]],
  "Izgara Tavuk G√∂ƒüs√º":      [["Tavuk G√∂ƒüs√º",150,"g","poultry"],["Zeytinyaƒüƒ±",0,"","oil"],["Kekik",0,"","spice"]],
  "Izgara K√∂fte":             [["Dana Kƒ±yma",150,"g","meat"],["Soƒüan",1,"adet","veg"],["Maydanoz",1,"demet","veg"],["Ekmek ƒ∞√ßi",1,"dilim","bread"],["Kimyon",0,"","spice"],["Karabiber",0,"","spice"]],
  "Fƒ±rƒ±nda Tavuk But":        [["Tavuk But",1,"adet","poultry"],["Patates",2,"adet","veg"],["Zeytinyaƒüƒ±",0,"","oil"],["Kekik",0,"","spice"]],
  "Ha≈ülanmƒ±≈ü Tavuk":          [["Tavuk G√∂ƒüs√º",150,"g","poultry"]],
  "Balƒ±k (Levrek Izgara)":    [["Levrek Fileto",150,"g","fish"],["Limon",1,"adet","fruit"],["Zeytinyaƒüƒ±",0,"","oil"]],
  "Somon Izgara":             [["Somon Fileto",150,"g","fish"],["Limon",1,"adet","fruit"],["Zeytinyaƒüƒ±",0,"","oil"]],
  "Fƒ±rƒ±nda Balƒ±k":            [["Balƒ±k Fileto",150,"g","fish"],["Domates",1,"adet","veg"],["Biber",1,"adet","veg"],["Soƒüan",1,"adet","veg"],["Zeytinyaƒüƒ±",0,"","oil"]],
  "Kuru Fasulye":             [["Kuru Fasulye",100,"g","legume"],["Soƒüan",1,"adet","veg"],["Domates Sal√ßasƒ±",1,"yk","canned"],["Biber Sal√ßasƒ±",1,"yk","canned"],["Sƒ±vƒ± Yaƒü",0,"","oil"]],
  "Nohut Yemeƒüi":             [["Nohut (Kuru)",100,"g","legume"],["Soƒüan",1,"adet","veg"],["Domates Sal√ßasƒ±",1,"yk","canned"],["Tereyaƒüƒ±",10,"g","dairy"]],
  "Etli Bamya":               [["Dana Ku≈üba≈üƒ±",80,"g","meat"],["Bamya",200,"g","veg"],["Domates",1,"adet","veg"],["Soƒüan",1,"adet","veg"],["Limon",1,"adet","fruit"],["Zeytinyaƒüƒ±",0,"","oil"]],
  "Mercimek K√∂ftesi":         [["Kƒ±rmƒ±zƒ± Mercimek",100,"g","legume"],["ƒ∞nce Bulgur",50,"g","grain"],["Soƒüan",2,"adet","veg"],["Maydanoz",1,"demet","veg"],["Ye≈üil Soƒüan",3,"adet","veg"],["Zeytinyaƒüƒ±",0,"","oil"],["Pul Biber",0,"","spice"],["Kimyon",0,"","spice"]],
  "Tavuklu Pilav":            [["Tavuk G√∂ƒüs√º",100,"g","poultry"],["Pirin√ß",100,"g","grain"],["Tereyaƒüƒ±",15,"g","dairy"],["Nohut (Konserve)",50,"g","canned"]],
  "Etli T√ºrl√º":               [["Dana Ku≈üba≈üƒ±",80,"g","meat"],["Patates",1,"adet","veg"],["Havu√ß",1,"adet","veg"],["Kabak",1,"adet","veg"],["Biber",1,"adet","veg"],["Domates",1,"adet","veg"],["Soƒüan",1,"adet","veg"],["Zeytinyaƒüƒ±",0,"","oil"]],
  "Dana Kavurma":             [["Dana Et (Kavurmalƒ±k)",150,"g","meat"],["Soƒüan",1,"adet","veg"],["Biber",2,"adet","veg"],["Domates",1,"adet","veg"],["Tereyaƒüƒ±",15,"g","dairy"]],
  "Tas Kebabƒ±":               [["Dana Ku≈üba≈üƒ±",150,"g","meat"],["Patates",1,"adet","veg"],["Havu√ß",1,"adet","veg"],["Soƒüan",1,"adet","veg"],["Domates Sal√ßasƒ±",1,"yk","canned"],["Tereyaƒüƒ±",15,"g","dairy"]],
  "Adana Kebap":              [["Dana Kƒ±yma",150,"g","meat"],["Kuyruk Yaƒüƒ±",20,"g","meat"],["Pul Biber",0,"","spice"]],
  "Urfa Kebap":               [["Dana Kƒ±yma",150,"g","meat"],["Kuyruk Yaƒüƒ±",20,"g","meat"]],
  "Tavuk ≈ûi≈ü":                [["Tavuk G√∂ƒüs√º",200,"g","poultry"],["Biber",2,"adet","veg"],["Soƒüan",1,"adet","veg"],["Zeytinyaƒüƒ±",0,"","oil"]],
  "H√ºnkar Beƒüendi":           [["Dana Ku≈üba≈üƒ±",100,"g","meat"],["Patlƒ±can",2,"adet","veg"],["S√ºt",100,"ml","dairy"],["Un",1,"yk","grain"],["Tereyaƒüƒ±",20,"g","dairy"],["Ka≈üar Rendesi",30,"g","dairy"]],
  "Etli Bezelye":             [["Dana Ku≈üba≈üƒ±",80,"g","meat"],["Bezelye (Dondurulmu≈ü)",200,"g","veg"],["Patates",1,"adet","veg"],["Soƒüan",1,"adet","veg"],["Domates Sal√ßasƒ±",1,"yk","canned"]],
  "Etli Kereviz":             [["Dana Ku≈üba≈üƒ±",80,"g","meat"],["Kereviz",2,"adet","veg"],["Havu√ß",1,"adet","veg"],["Patates",1,"adet","veg"],["Limon",1,"adet","fruit"]],
  "√áerkez Tavuƒüu":            [["Tavuk G√∂ƒüs√º",150,"g","poultry"],["Ceviz ƒ∞√ßi",50,"g","nut"],["Bayat Ekmek",2,"dilim","bread"],["Sarƒ±msak",2,"di≈ü","veg"],["Pul Biber",0,"","spice"]],
  "Ton Balƒ±klƒ± Salata":       [["Ton Balƒ±ƒüƒ± (Konserve)",1,"kutu","canned"],["Marul",1,"adet","veg"],["Domates",1,"adet","veg"],["Salatalƒ±k",1,"adet","veg"],["Mƒ±sƒ±r (Konserve)",2,"yk","canned"],["Zeytinyaƒüƒ±",0,"","oil"],["Limon",1,"adet","fruit"]],
  // ‚ïê TAHILlar / KARBONHIDRAT ‚ïê
  "Tam Buƒüday Ekmeƒüi":        [["Tam Buƒüday Ekmeƒüi",1,"adet","bread"]],
  "Yulaf Ezmesi":             [["Yulaf Ezmesi",50,"g","grain"],["S√ºt",200,"ml","dairy"]],
  "Yulaf Pankek":             [["Yulaf Ezmesi",50,"g","grain"],["Yumurta",1,"adet","egg"],["Muz",1,"adet","fruit"],["S√ºt",50,"ml","dairy"]],
  "Bulgur Pilavƒ±":            [["Bulgur",100,"g","grain"],["Soƒüan",1,"adet","veg"],["Domates Sal√ßasƒ±",1,"yk","canned"],["Tereyaƒüƒ±",10,"g","dairy"]],
  "Pirin√ß Pilavƒ±":            [["Pirin√ß",100,"g","grain"],["Tereyaƒüƒ±",15,"g","dairy"],["≈ûehriye",15,"g","grain"]],
  "Ramazan Pidesi":           [["Ramazan Pidesi",1,"adet","bread"]],
  "Simit":                    [["Simit",1,"adet","bread"]],
  "G√∂zleme (Peynirli)":       [["Yufka",2,"yaprak","bread"],["Beyaz Peynir",100,"g","dairy"]],
  "G√∂zleme (Ispanaklƒ±)":      [["Yufka",2,"yaprak","bread"],["Ispanak",200,"g","veg"],["Soƒüan",1,"adet","veg"]],
  "Makarna (Tam Buƒüday)":     [["Tam Buƒüday Makarna",180,"g","grain"],["Domates Sosu",100,"ml","canned"],["Zeytinyaƒüƒ±",0,"","oil"]],
  "Mantƒ±":                    [["Mantƒ± (Hazƒ±r/Ev Yapƒ±mƒ±)",200,"g","grain"],["S√ºzme Yoƒüurt",100,"g","dairy"],["Sarƒ±msak",1,"di≈ü","veg"],["Tereyaƒüƒ±",15,"g","dairy"],["Pul Biber",0,"","spice"],["Nane (Kuru)",0,"","spice"]],
  "√áiƒü B√∂rek":                [["Yufka",3,"yaprak","bread"],["Dana Kƒ±yma",100,"g","meat"],["Soƒüan",1,"adet","veg"],["Sƒ±vƒ± Yaƒü",0,"","oil"]],
  "Su B√∂reƒüi":                [["Yufka",4,"yaprak","bread"],["Beyaz Peynir",150,"g","dairy"],["Yumurta",2,"adet","egg"],["S√ºt",100,"ml","dairy"],["Maydanoz",1,"demet","veg"]],
  "Patatesli B√∂rek":          [["Yufka",3,"yaprak","bread"],["Patates",2,"adet","veg"],["Soƒüan",1,"adet","veg"],["Tereyaƒüƒ±",20,"g","dairy"]],
  "Bazlama":                  [["Bazlama",1,"adet","bread"]],
  "Lahmacun":                 [["Lahmacun",2,"adet","bread"],["Maydanoz",1,"demet","veg"],["Limon",1,"adet","fruit"]],
  "Pide (Kƒ±ymalƒ±)":           [["Kƒ±ymalƒ± Pide",1,"adet","bread"]],
  "√áiƒü K√∂fteli D√ºr√ºm":        [["ƒ∞nce Bulgur",100,"g","grain"],["Domates Sal√ßasƒ±",1,"yk","canned"],["Lava≈ü",1,"adet","bread"],["Marul",2,"yaprak","veg"],["Limon",1,"adet","fruit"],["ƒ∞sot",0,"","spice"]],
  "Lava≈ü":                    [["Lava≈ü",1,"paket","bread"]],
  "Tam Tahƒ±llƒ± Kraker":       [["Tam Tahƒ±llƒ± Kraker",1,"paket","grain"]],
  "Nohutlu Pirin√ß Pilavƒ±":    [["Pirin√ß",80,"g","grain"],["Nohut (Konserve)",100,"g","canned"],["Tereyaƒüƒ±",10,"g","dairy"]],
  "Karabuƒüday Pilavƒ±":        [["Karabuƒüday",100,"g","grain"],["Soƒüan",1,"adet","veg"],["Tereyaƒüƒ±",10,"g","dairy"]],
  "Patates P√ºresi":           [["Patates",2,"adet","veg"],["S√ºt",50,"ml","dairy"],["Tereyaƒüƒ±",15,"g","dairy"]],
  "Fƒ±rƒ±nda Patates":          [["Patates",1,"adet","veg"],["Zeytinyaƒüƒ±",0,"","oil"]],
  // ‚ïê √áORBALAR ‚ïê
  "Mercimek √áorbasƒ±":         [["Kƒ±rmƒ±zƒ± Mercimek",100,"g","legume"],["Soƒüan",1,"adet","veg"],["Havu√ß",1,"adet","veg"],["Patates",1,"adet","veg"],["Un",1,"yk","grain"],["Tereyaƒüƒ±",15,"g","dairy"],["Limon",1,"adet","fruit"]],
  "Ezogelin √áorbasƒ±":         [["Kƒ±rmƒ±zƒ± Mercimek",80,"g","legume"],["Bulgur",30,"g","grain"],["Pirin√ß",20,"g","grain"],["Soƒüan",1,"adet","veg"],["Domates Sal√ßasƒ±",1,"yk","canned"],["Nane (Kuru)",0,"","spice"],["Tereyaƒüƒ±",10,"g","dairy"]],
  "Tarhana √áorbasƒ±":          [["Tarhana",50,"g","grain"],["Domates",1,"adet","veg"],["Tereyaƒüƒ±",10,"g","dairy"],["Nane (Kuru)",0,"","spice"]],
  "Yayla √áorbasƒ±":            [["S√ºzme Yoƒüurt",200,"g","dairy"],["Pirin√ß",30,"g","grain"],["Un",1,"yk","grain"],["Yumurta",1,"adet","egg"],["Nane (Kuru)",0,"","spice"],["Tereyaƒüƒ±",10,"g","dairy"]],
  "Kemik Suyu":               [["Dana Kemik",500,"g","meat"],["Soƒüan",1,"adet","veg"],["Havu√ß",1,"adet","veg"],["Defne Yapraƒüƒ±",0,"","spice"]],
  "ƒ∞≈ükembe √áorbasƒ±":          [["ƒ∞≈ükembe",200,"g","meat"],["Un",2,"yk","grain"],["Yumurta",1,"adet","egg"],["Limon",1,"adet","fruit"],["Sarƒ±msak",2,"di≈ü","veg"],["Sirke",0,"","oil"]],
  "Tavuk Suyu √áorbasƒ±":       [["Tavuk (B√ºt√ºn/Par√ßa)",200,"g","poultry"],["Havu√ß",1,"adet","veg"],["Soƒüan",1,"adet","veg"],["≈ûehriye",30,"g","grain"]],
  "Domates √áorbasƒ±":          [["Domates",3,"adet","veg"],["Soƒüan",1,"adet","veg"],["Un",1,"yk","grain"],["Tereyaƒüƒ±",10,"g","dairy"],["S√ºt",50,"ml","dairy"]],
  "Sebze √áorbasƒ±":            [["Patates",1,"adet","veg"],["Havu√ß",1,"adet","veg"],["Kabak",1,"adet","veg"],["Bezelye (Dondurulmu≈ü)",50,"g","veg"],["Soƒüan",1,"adet","veg"],["Zeytinyaƒüƒ±",0,"","oil"]],
  "D√ºƒü√ºn √áorbasƒ±":            [["Dana Ku≈üba≈üƒ±",100,"g","meat"],["Un",2,"yk","grain"],["Yumurta",1,"adet","egg"],["Limon",1,"adet","fruit"],["Tereyaƒüƒ±",15,"g","dairy"]],
  "≈ûehriyeli Tavuk √áorbasƒ±":  [["Tavuk G√∂ƒüs√º",150,"g","poultry"],["≈ûehriye",30,"g","grain"],["Havu√ß",1,"adet","veg"],["Soƒüan",1,"adet","veg"],["Tereyaƒüƒ±",10,"g","dairy"]],
  "Mantar √áorbasƒ±":           [["Mantar",200,"g","veg"],["Soƒüan",1,"adet","veg"],["S√ºt",100,"ml","dairy"],["Un",1,"yk","grain"],["Tereyaƒüƒ±",15,"g","dairy"]],
  "Toyga √áorbasƒ±":            [["S√ºzme Yoƒüurt",150,"g","dairy"],["Nohut (Kuru)",30,"g","legume"],["Buƒüday (A≈üurelik)",30,"g","grain"],["Un",1,"yk","grain"],["Yumurta",1,"adet","egg"],["Nane (Kuru)",0,"","spice"]],
  "S√ºleymaniye √áorbasƒ±":      [["Dana Ku≈üba≈üƒ±",50,"g","meat"],["Nohut (Kuru)",30,"g","legume"],["Havu√ß",1,"adet","veg"],["Soƒüan",1,"adet","veg"],["Tereyaƒüƒ±",15,"g","dairy"],["Limon",1,"adet","fruit"]],
  "Kelle Pa√ßa √áorbasƒ±":       [["Kelle Pa√ßa",300,"g","meat"],["Un",2,"yk","grain"],["Yumurta",1,"adet","egg"],["Limon",1,"adet","fruit"],["Sarƒ±msak",2,"di≈ü","veg"],["Sirke",0,"","oil"]],
  "Yoƒüurtlu Buƒüday √áorbasƒ±":  [["S√ºzme Yoƒüurt",100,"g","dairy"],["Buƒüday (A≈üurelik)",50,"g","grain"],["Soƒüan",1,"adet","veg"],["Tereyaƒüƒ±",10,"g","dairy"],["Nane (Kuru)",0,"","spice"]],
  "Havu√ß √áorbasƒ±":            [["Havu√ß",3,"adet","veg"],["Soƒüan",1,"adet","veg"],["Patates",1,"adet","veg"],["S√ºt",50,"ml","dairy"],["Tereyaƒüƒ±",10,"g","dairy"]],
  "Brokoli √áorbasƒ±":          [["Brokoli",200,"g","veg"],["Soƒüan",1,"adet","veg"],["S√ºt",50,"ml","dairy"],["Un",1,"yk","grain"],["Tereyaƒüƒ±",10,"g","dairy"]],
  "Balkabaƒüƒ± √áorbasƒ±":        [["Balkabaƒüƒ±",200,"g","veg"],["Soƒüan",1,"adet","veg"],["S√ºt",50,"ml","dairy"],["Tereyaƒüƒ±",10,"g","dairy"],["Zencefil (Toz)",0,"","spice"]],
  "Pa√ßa √áorbasƒ±":             [["Pa√ßa",300,"g","meat"],["Un",2,"yk","grain"],["Yumurta",1,"adet","egg"],["Limon",1,"adet","fruit"],["Sarƒ±msak",2,"di≈ü","veg"]],
  "Araba≈üƒ± √áorbasƒ±":          [["Tavuk (B√ºt√ºn/Par√ßa)",200,"g","poultry"],["Un",3,"yk","grain"],["Soƒüan",1,"adet","veg"],["Tereyaƒüƒ±",15,"g","dairy"],["Nane (Kuru)",0,"","spice"]],
  // ‚ïê S√úT √úR√úNLERƒ∞ ‚ïê
  "S√ºzme Yoƒüurt":             [["S√ºzme Yoƒüurt",150,"g","dairy"]],
  "Beyaz Peynir":              [["Beyaz Peynir",50,"g","dairy"]],
  "Ka≈üar Peyniri":             [["Ka≈üar Peyniri",40,"g","dairy"]],
  "Lor Peyniri":               [["Lor Peyniri",80,"g","dairy"]],
  "Tulum Peyniri":             [["Tulum Peyniri",40,"g","dairy"]],
  "√á√∂kelek":                   [["√á√∂kelek",80,"g","dairy"]],
  "Hellim Peyniri (Izgara)":   [["Hellim Peyniri",60,"g","dairy"]],
  "Ayran":                     [["Ayran",200,"ml","dairy"]],
  "Kefir":                     [["Kefir",200,"ml","dairy"]],
  "Cacƒ±k":                     [["S√ºzme Yoƒüurt",200,"g","dairy"],["Salatalƒ±k",1,"adet","veg"],["Sarƒ±msak",1,"di≈ü","veg"],["Dereotu",1,"demet","veg"],["Zeytinyaƒüƒ±",0,"","oil"]],
  "Labne":                     [["Labne Peynir",60,"g","dairy"]],
  "S√ºt (Yarƒ±m Yaƒülƒ±)":        [["S√ºt",200,"ml","dairy"]],
  "√áe√ßil Peyniri":             [["√áe√ßil Peyniri",40,"g","dairy"]],
  "Otlu Peynir":               [["Otlu Peynir",50,"g","dairy"]],
  "√ñrg√º Peyniri":              [["√ñrg√º Peyniri",40,"g","dairy"]],
  "Mozzarella":                [["Mozzarella",60,"g","dairy"]],
  "Yoƒüurt (Ev Yapƒ±mƒ±)":       [["Yoƒüurt",200,"g","dairy"]],
  "Quark Peynir":              [["Quark Peynir",100,"g","dairy"]],
  "Protein Yoƒüurt":            [["Protein Yoƒüurt",150,"g","dairy"]],
  "Peynirli Sandvi√ß":          [["Tam Buƒüday Ekmeƒüi",2,"dilim","bread"],["Beyaz Peynir",50,"g","dairy"],["Domates",1,"adet","veg"],["Salatalƒ±k",1,"adet","veg"]],
  "Peynirli Poƒüa√ßa":           [["Peynirli Poƒüa√ßa",1,"adet","bread"]],
  // ‚ïê SEBZE & SALATA ‚ïê
  "√áoban Salatasƒ±":            [["Domates",2,"adet","veg"],["Salatalƒ±k",1,"adet","veg"],["Sivri Biber",2,"adet","veg"],["Soƒüan",1,"adet","veg"],["Maydanoz",1,"demet","veg"],["Zeytinyaƒüƒ±",0,"","oil"],["Limon",1,"adet","fruit"]],
  "Ye≈üil Salata":              [["Marul",1,"adet","veg"],["Salatalƒ±k",1,"adet","veg"],["Dereotu",1,"demet","veg"],["Zeytinyaƒüƒ±",0,"","oil"],["Limon",1,"adet","fruit"]],
  "Roka-Parmezan Salatasƒ±":    [["Roka",1,"demet","veg"],["Parmezan",30,"g","dairy"],["Ceviz ƒ∞√ßi",20,"g","nut"],["Zeytinyaƒüƒ±",0,"","oil"],["Balsamik Sirke",0,"","oil"]],
  "Zeytinyaƒülƒ± Fasulye":       [["Taze Fasulye",300,"g","veg"],["Soƒüan",1,"adet","veg"],["Domates",2,"adet","veg"],["Zeytinyaƒüƒ±",0,"","oil"]],
  "Zeytinyaƒülƒ± Enginar":       [["Enginar",3,"adet","veg"],["Havu√ß",1,"adet","veg"],["Patates",1,"adet","veg"],["Limon",1,"adet","fruit"],["Dereotu",1,"demet","veg"],["Zeytinyaƒüƒ±",0,"","oil"]],
  "Zeytinyaƒülƒ± Yaprak Sarma":  [["Asma Yapraƒüƒ±",20,"yaprak","canned"],["Pirin√ß",50,"g","grain"],["Soƒüan",2,"adet","veg"],["Maydanoz",1,"demet","veg"],["Limon",1,"adet","fruit"],["Zeytinyaƒüƒ±",0,"","oil"]],
  "Ispanak Yemeƒüi":            [["Ispanak",300,"g","veg"],["Soƒüan",1,"adet","veg"],["Pirin√ß",30,"g","grain"],["Zeytinyaƒüƒ±",0,"","oil"]],
  "Patlƒ±can Musakka":          [["Patlƒ±can",2,"adet","veg"],["Dana Kƒ±yma",100,"g","meat"],["Soƒüan",1,"adet","veg"],["Domates",2,"adet","veg"],["Biber",1,"adet","veg"],["Sƒ±vƒ± Yaƒü",0,"","oil"]],
  "ƒ∞mam Bayƒ±ldƒ±":              [["Patlƒ±can",2,"adet","veg"],["Soƒüan",2,"adet","veg"],["Domates",2,"adet","veg"],["Sarƒ±msak",3,"di≈ü","veg"],["Maydanoz",1,"demet","veg"],["Zeytinyaƒüƒ±",0,"","oil"]],
  "Kabak M√ºcver":              [["Kabak",2,"adet","veg"],["Yumurta",1,"adet","egg"],["Un",3,"yk","grain"],["Dereotu",1,"demet","veg"],["Beyaz Peynir",30,"g","dairy"],["Sƒ±vƒ± Yaƒü",0,"","oil"]],
  "Humus":                     [["Nohut (Konserve)",1,"kutu","canned"],["Tahin",2,"yk","nut"],["Limon",1,"adet","fruit"],["Sarƒ±msak",1,"di≈ü","veg"],["Zeytinyaƒüƒ±",0,"","oil"],["Kimyon",0,"","spice"]],
  "Kƒ±sƒ±r":                     [["ƒ∞nce Bulgur",100,"g","grain"],["Domates",1,"adet","veg"],["Salatalƒ±k",1,"adet","veg"],["Ye≈üil Soƒüan",3,"adet","veg"],["Maydanoz",1,"demet","veg"],["Nar Ek≈üisi",1,"yk","oil"],["Limon",1,"adet","fruit"],["Zeytinyaƒüƒ±",0,"","oil"]],
  "Piyaz":                     [["Kuru Fasulye",100,"g","legume"],["Soƒüan",1,"adet","veg"],["Domates",1,"adet","veg"],["Maydanoz",1,"demet","veg"],["Yumurta",1,"adet","egg"],["Zeytinyaƒüƒ±",0,"","oil"],["Sirke",0,"","oil"]],
  "Karƒ±≈üƒ±k Tur≈üu":             [["Karƒ±≈üƒ±k Tur≈üu",1,"kavanoz","canned"]],
  "Zeytin (Ye≈üil/Siyah)":     [["Zeytin",100,"g","canned"]],
  "Karnabahar Graten":         [["Karnabahar",300,"g","veg"],["S√ºt",100,"ml","dairy"],["Ka≈üar Rendesi",50,"g","dairy"],["Un",1,"yk","grain"],["Tereyaƒüƒ±",15,"g","dairy"]],
  "Brokoli Sote":              [["Brokoli",200,"g","veg"],["Sarƒ±msak",2,"di≈ü","veg"],["Zeytinyaƒüƒ±",0,"","oil"]],
  "Semizotu Yemeƒüi":           [["Semizotu",300,"g","veg"],["Soƒüan",1,"adet","veg"],["Domates",1,"adet","veg"],["Sarƒ±msak",1,"di≈ü","veg"],["Zeytinyaƒüƒ±",0,"","oil"]],
  "Biber Dolmasƒ±":             [["Dolmalƒ±k Biber",4,"adet","veg"],["Pirin√ß",50,"g","grain"],["Soƒüan",1,"adet","veg"],["Domates",1,"adet","veg"],["Maydanoz",1,"demet","veg"],["Zeytinyaƒüƒ±",0,"","oil"]],
  "Domates Dolmasƒ±":           [["Domates (B√ºy√ºk)",4,"adet","veg"],["Pirin√ß",50,"g","grain"],["Soƒüan",1,"adet","veg"],["Maydanoz",1,"demet","veg"],["Zeytinyaƒüƒ±",0,"","oil"]],
  "Zeytinyaƒülƒ± Barbunya":      [["Barbunya",200,"g","legume"],["Soƒüan",1,"adet","veg"],["Domates",1,"adet","veg"],["Havu√ß",1,"adet","veg"],["Zeytinyaƒüƒ±",0,"","oil"]],
  "K√∂zlenmi≈ü Biber Salatasƒ±":  [["Kƒ±rmƒ±zƒ± Biber",3,"adet","veg"],["Sarƒ±msak",2,"di≈ü","veg"],["Zeytinyaƒüƒ±",0,"","oil"]],
  "Gavurdaƒüƒ± Salatasƒ±":        [["Domates",2,"adet","veg"],["Salatalƒ±k",1,"adet","veg"],["Ceviz ƒ∞√ßi",30,"g","nut"],["Nar Ek≈üisi",1,"yk","oil"],["Zeytinyaƒüƒ±",0,"","oil"]],
  "Atom Salatasƒ±":             [["Marul",1,"adet","veg"],["Havu√ß",1,"adet","veg"],["Kƒ±rmƒ±zƒ± Lahana",100,"g","veg"],["Mƒ±sƒ±r (Konserve)",2,"yk","canned"],["Limon",1,"adet","fruit"],["Zeytinyaƒüƒ±",0,"","oil"]],
  // ‚ïê MEYVELER ‚ïê
  "Hurma":        [["Hurma",100,"g","fruit"]],
  "Muz":          [["Muz",1,"adet","fruit"]],
  "Elma":         [["Elma",1,"adet","fruit"]],
  "Portakal":     [["Portakal",1,"adet","fruit"]],
  "ƒ∞ncir (Taze)": [["Taze ƒ∞ncir",3,"adet","fruit"]],
  "√úz√ºm":         [["√úz√ºm",1,"salkƒ±m","fruit"]],
  "Karpuz":        [["Karpuz",1,"dilim","fruit"]],
  "√áilek":         [["√áilek",250,"g","fruit"]],
  "Nar":           [["Nar",1,"adet","fruit"]],
  "Armut":         [["Armut",1,"adet","fruit"]],
  "Kayƒ±sƒ±":        [["Kayƒ±sƒ±",3,"adet","fruit"]],
  "Avokado":       [["Avokado",1,"adet","fruit"]],
  "≈ûeftali":       [["≈ûeftali",1,"adet","fruit"]],
  "Erik":          [["Erik",3,"adet","fruit"]],
  "Kiraz":         [["Kiraz",200,"g","fruit"]],
  "Mandalina":     [["Mandalina",2,"adet","fruit"]],
  "Greyfurt":      [["Greyfurt",1,"adet","fruit"]],
  "Kavun":         [["Kavun",1,"dilim","fruit"]],
  "Meyve Salatasƒ±":[["√áilek",100,"g","fruit"],["Muz",1,"adet","fruit"],["Elma",1,"adet","fruit"],["Portakal",1,"adet","fruit"]],
  "Smoothie (Muzlu)":[["Muz",1,"adet","fruit"],["S√ºt",200,"ml","dairy"],["Bal",1,"yk","sweet"]],
  "Kuru Erik":     [["Kuru Erik",100,"g","nut"]],
  // ‚ïê KURUYEMƒ∞≈û ‚ïê
  "Badem":         [["Badem",100,"g","nut"]],
  "Ceviz":         [["Ceviz ƒ∞√ßi",100,"g","nut"]],
  "Fƒ±ndƒ±k":        [["Fƒ±ndƒ±k",100,"g","nut"]],
  "Antep Fƒ±stƒ±ƒüƒ±": [["Antep Fƒ±stƒ±ƒüƒ±",100,"g","nut"]],
  "Kaju":          [["Kaju",100,"g","nut"]],
  "Kuru Kayƒ±sƒ±":   [["Kuru Kayƒ±sƒ±",100,"g","nut"]],
  "Kuru ƒ∞ncir":    [["Kuru ƒ∞ncir",100,"g","nut"]],
  "Kuru √úz√ºm":    [["Kuru √úz√ºm",100,"g","nut"]],
  "Tahin-Pekmez":  [["Tahin",1,"kavanoz","nut"],["Pekmez",1,"kavanoz","sweet"]],
  "Hurma-Fƒ±stƒ±k Ezmesi":[["Hurma",100,"g","fruit"],["Fƒ±stƒ±k Ezmesi",1,"kavanoz","nut"]],
  "Ay √áekirdeƒüi":  [["Ay √áekirdeƒüi",100,"g","nut"]],
  "Chia Tohumu":   [["Chia Tohumu",100,"g","nut"]],
  "Keten Tohumu":  [["Keten Tohumu",100,"g","nut"]],
  "Fƒ±stƒ±k Ezmesi": [["Fƒ±stƒ±k Ezmesi",1,"kavanoz","nut"]],
  "Karƒ±≈üƒ±k Kuruyemi≈ü":[["Karƒ±≈üƒ±k Kuruyemi≈ü",200,"g","nut"]],
  "Pekmez":        [["Pekmez",1,"kavanoz","sweet"]],
  "Bal":           [["Bal",1,"kavanoz","sweet"]],
  "Granola":       [["Granola",1,"paket","grain"]],
  "Enerji Bar":    [["Enerji Bar",1,"paket","nut"]],
  // ‚ïê TATLILAR ‚ïê
  "G√ºlla√ß":        [["G√ºlla√ß Yapraƒüƒ±",1,"paket","sweet"],["S√ºt",500,"ml","dairy"],["≈ûeker",100,"g","sweet"],["G√ºl Suyu",1,"≈üi≈üe","sweet"],["Antep Fƒ±stƒ±ƒüƒ±",30,"g","nut"],["Nar",1,"adet","fruit"]],
  "S√ºtla√ß":        [["Pirin√ß",50,"g","grain"],["S√ºt",500,"ml","dairy"],["≈ûeker",80,"g","sweet"],["Ni≈üasta",1,"yk","sweet"],["Vanilya",0,"","spice"]],
  "Muhallebi":     [["S√ºt",500,"ml","dairy"],["Ni≈üasta",3,"yk","sweet"],["≈ûeker",60,"g","sweet"],["Vanilya",0,"","spice"]],
  "Ke≈ük√ºl":        [["S√ºt",500,"ml","dairy"],["Ni≈üasta",3,"yk","sweet"],["≈ûeker",60,"g","sweet"],["Hindistancevizi",30,"g","sweet"],["Badem",20,"g","nut"]],
  "Kabak Tatlƒ±sƒ±": [["Balkabaƒüƒ±",500,"g","veg"],["≈ûeker",200,"g","sweet"],["Ceviz ƒ∞√ßi",30,"g","nut"],["Tahin",1,"yk","nut"]],
  "A≈üure":         [["Buƒüday (A≈üurelik)",100,"g","grain"],["Nohut (Kuru)",30,"g","legume"],["Kuru Fasulye",30,"g","legume"],["Kuru Kayƒ±sƒ±",30,"g","nut"],["Kuru ƒ∞ncir",30,"g","nut"],["Kuru √úz√ºm",30,"g","nut"],["Nar",1,"adet","fruit"],["≈ûeker",100,"g","sweet"],["G√ºl Suyu",0,"","sweet"]],
  "Kazandibi":     [["S√ºt",500,"ml","dairy"],["Ni≈üasta",3,"yk","sweet"],["≈ûeker",80,"g","sweet"],["Tereyaƒüƒ±",10,"g","dairy"]],
  "Tavuk G√∂ƒüs√º":   [["Tavuk G√∂ƒüs√º",50,"g","poultry"],["S√ºt",500,"ml","dairy"],["Ni≈üasta",3,"yk","sweet"],["≈ûeker",80,"g","sweet"]],
  "Fƒ±rƒ±n S√ºtla√ß":  [["Pirin√ß",50,"g","grain"],["S√ºt",500,"ml","dairy"],["≈ûeker",80,"g","sweet"],["Yumurta",1,"adet","egg"],["Vanilya",0,"","spice"]],
  "Trile√ße":       [["Yumurta",4,"adet","egg"],["S√ºt",500,"ml","dairy"],["Krema",200,"ml","dairy"],["Yoƒüunla≈ütƒ±rƒ±lmƒ±≈ü S√ºt",1,"kutu","dairy"],["≈ûeker",100,"g","sweet"],["Un",100,"g","grain"]],
  "Baklava (1 Dilim)":[["Baklava",1,"dilim","sweet"]],
  "K√ºnefe":        [["K√ºnefe (Hazƒ±r)",1,"porsiyon","sweet"],["Antep Fƒ±stƒ±ƒüƒ±",10,"g","nut"]],
  "Lokma":         [["Lokma (Hazƒ±r)",5,"adet","sweet"]],
  "Revani":        [["ƒ∞rmik",100,"g","grain"],["Yumurta",2,"adet","egg"],["≈ûeker",150,"g","sweet"],["Yoƒüurt",100,"g","dairy"],["Limon",1,"adet","fruit"]],
  "Tulumba":       [["Tulumba (Hazƒ±r)",1,"paket","sweet"]],
  "ƒ∞rmik Helvasƒ±": [["ƒ∞rmik",100,"g","grain"],["Tereyaƒüƒ±",50,"g","dairy"],["≈ûeker",100,"g","sweet"],["S√ºt",200,"ml","dairy"],["√áam Fƒ±stƒ±ƒüƒ±",20,"g","nut"]],
  "Un Helvasƒ±":    [["Un",100,"g","grain"],["Tereyaƒüƒ±",60,"g","dairy"],["≈ûeker",100,"g","sweet"],["√áam Fƒ±stƒ±ƒüƒ±",20,"g","nut"]],
  "Profiterol":    [["Profiterol (Hazƒ±r)",1,"paket","sweet"]],
  "Dondurma (Mara≈ü)":[["Dondurma (Mara≈ü)",2,"top","sweet"]],
  // ‚ïê ƒ∞√áECEKLER ‚ïê
  "Composto":      [["Kuru Kayƒ±sƒ±",50,"g","nut"],["Kuru Erik",50,"g","nut"],["≈ûeker",30,"g","sweet"]],
  "Ihlamur":       [["Ihlamur",1,"paket","tea"]],
  "Ada√ßayƒ±":       [["Ada√ßayƒ±",1,"paket","tea"]],
  "Papatya √áayƒ±":  [["Papatya √áayƒ±",1,"paket","tea"]],
  "Nane-Limon":    [["Taze Nane",1,"demet","veg"],["Limon",1,"adet","fruit"]],
  "Zencefil √áayƒ±": [["Taze Zencefil",1,"par√ßa","veg"],["Limon",1,"adet","fruit"],["Bal",0,"","sweet"]],
  "Limonata (Az ≈ûekerli)":[["Limon",3,"adet","fruit"],["≈ûeker",30,"g","sweet"]],
  "Ramazan ≈ûerbeti":[["Ramazan ≈ûerbeti",1,"≈üi≈üe","tea"]],
  "Taze Sƒ±kƒ±lmƒ±≈ü Portakal Suyu":[["Portakal (Sƒ±kmalƒ±k)",3,"adet","fruit"]],
  "Boza":          [["Boza",1,"≈üi≈üe","tea"]],
  "Ku≈üburnu √áayƒ±": [["Ku≈üburnu √áayƒ±",1,"paket","tea"]],
  "Ye≈üil √áay":     [["Ye≈üil √áay",1,"paket","tea"]],
  "S√ºt (Sƒ±cak Baharatlƒ±)":[["S√ºt",200,"ml","dairy"],["Tar√ßƒ±n",0,"","spice"],["Zerde√ßal",0,"","spice"]],
  "Taze Havu√ß Suyu":[["Havu√ß",3,"adet","veg"]],
  "Karpuz Suyu":   [["Karpuz",500,"g","fruit"]],
  "Nar Suyu":      [["Nar (Sƒ±kmalƒ±k)",2,"adet","fruit"]],
  "Kayƒ±sƒ± Nektarƒ±":[["Kayƒ±sƒ± Nektarƒ±",1,"≈üi≈üe","tea"]],
  "Smoothie (Ye≈üil)":[["Ispanak",50,"g","veg"],["Muz",1,"adet","fruit"],["Elma",1,"adet","fruit"],["S√ºt",100,"ml","dairy"]],
  "Sƒ±cak √áikolata (Az ≈ûekerli)":[["Kakao",2,"yk","sweet"],["S√ºt",200,"ml","dairy"],["≈ûeker",1,"yk","sweet"]],

  // ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
  // EXPANDED RECIPES ‚Äî v2
  // ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê

  // ‚îÄ‚îÄ YENƒ∞ PROTEƒ∞N ‚îÄ‚îÄ
  "Karnƒ±yarƒ±k":              [["Patlƒ±can",2,"adet","veg"],["Dana Kƒ±yma",100,"g","meat"],["Soƒüan",1,"adet","veg"],["Domates",2,"adet","veg"],["Sivri Biber",2,"adet","veg"],["Maydanoz",1,"demet","veg"],["Sƒ±vƒ± Yaƒü",0,"","oil"]],
  "Ali Nazik":               [["Dana Ku≈üba≈üƒ±",120,"g","meat"],["Patlƒ±can",2,"adet","veg"],["S√ºzme Yoƒüurt",150,"g","dairy"],["Sarƒ±msak",2,"di≈ü","veg"],["Tereyaƒüƒ±",15,"g","dairy"],["Pul Biber",0,"","spice"]],
  "ƒ∞skender Kebap":          [["Dana Et (D√∂nerlik)",200,"g","meat"],["Ramazan Pidesi",1,"adet","bread"],["Domates Sosu",100,"ml","canned"],["S√ºzme Yoƒüurt",100,"g","dairy"],["Tereyaƒüƒ±",20,"g","dairy"],["Pul Biber",0,"","spice"]],
  "Beyti Sarma":             [["Dana Kƒ±yma",150,"g","meat"],["Lava≈ü",2,"adet","bread"],["Domates Sosu",80,"ml","canned"],["Ka≈üar Rendesi",30,"g","dairy"],["Tereyaƒüƒ±",15,"g","dairy"],["Sarƒ±msak",1,"di≈ü","veg"]],
  "√á√∂p ≈ûi≈ü":                [["Dana Ku≈üba≈üƒ±",150,"g","meat"],["Biber",2,"adet","veg"],["Soƒüan",1,"adet","veg"],["Zeytinyaƒüƒ±",0,"","oil"],["Kekik",0,"","spice"]],
  "Arnavut Ciƒüeri":          [["Dana Ciƒüer",150,"g","meat"],["Un",2,"yk","grain"],["Soƒüan",1,"adet","veg"],["Sivri Biber",3,"adet","veg"],["Sƒ±vƒ± Yaƒü",0,"","oil"],["Pul Biber",0,"","spice"]],
  "Tantuni":                 [["Dana Et (ƒ∞nce Doƒüranmƒ±≈ü)",150,"g","meat"],["Lava≈ü",1,"adet","bread"],["Domates",1,"adet","veg"],["Sivri Biber",2,"adet","veg"],["Maydanoz",1,"demet","veg"],["Sƒ±vƒ± Yaƒü",0,"","oil"]],
  "Tavuk D√∂ner":             [["Tavuk G√∂ƒüs√º",150,"g","poultry"],["Lava≈ü",1,"adet","bread"],["Domates",1,"adet","veg"],["Marul",2,"yaprak","veg"],["Soƒüan",1,"adet","veg"]],
  "Et D√∂ner":                [["Dana Et (D√∂nerlik)",150,"g","meat"],["Lava≈ü",1,"adet","bread"],["Domates",1,"adet","veg"],["Soƒüan",1,"adet","veg"],["Sivri Biber",1,"adet","veg"]],
  "Kuzu ƒ∞ncik":              [["Kuzu ƒ∞ncik",1,"adet","meat"],["Patates",2,"adet","veg"],["Havu√ß",1,"adet","veg"],["Soƒüan",1,"adet","veg"],["Domates Sal√ßasƒ±",1,"yk","canned"],["Zeytinyaƒüƒ±",0,"","oil"],["Defne Yapraƒüƒ±",0,"","spice"]],
  "Kuzu Pirzola":            [["Kuzu Pirzola",3,"adet","meat"],["Zeytinyaƒüƒ±",0,"","oil"],["Kekik",0,"","spice"],["Biberiye",0,"","spice"]],
  "Etli Lahana Sarmasƒ±":     [["Beyaz Lahana",1,"adet","veg"],["Dana Kƒ±yma",100,"g","meat"],["Pirin√ß",50,"g","grain"],["Soƒüan",1,"adet","veg"],["Domates Sal√ßasƒ±",1,"yk","canned"],["Biber Sal√ßasƒ±",1,"yk","canned"],["Tereyaƒüƒ±",10,"g","dairy"]],
  "Tepsi K√∂fte":             [["Dana Kƒ±yma",200,"g","meat"],["Patates",3,"adet","veg"],["Domates",2,"adet","veg"],["Biber",2,"adet","veg"],["Soƒüan",1,"adet","veg"],["Domates Sal√ßasƒ±",1,"yk","canned"]],
  "Kadƒ±nbudu K√∂fte":         [["Dana Kƒ±yma",150,"g","meat"],["Pirin√ß",50,"g","grain"],["Soƒüan",1,"adet","veg"],["Yumurta",2,"adet","egg"],["Un",3,"yk","grain"],["Sƒ±vƒ± Yaƒü",0,"","oil"]],
  "ƒ∞√ßli K√∂fte":              [["Dana Kƒ±yma",100,"g","meat"],["ƒ∞nce Bulgur",150,"g","grain"],["Soƒüan",2,"adet","veg"],["Ceviz ƒ∞√ßi",30,"g","nut"],["Tereyaƒüƒ±",10,"g","dairy"],["Pul Biber",0,"","spice"],["Kimyon",0,"","spice"]],
  "√áiƒü K√∂fte":               [["ƒ∞nce Bulgur",150,"g","grain"],["Domates Sal√ßasƒ±",2,"yk","canned"],["Biber Sal√ßasƒ±",1,"yk","canned"],["Soƒüan",2,"adet","veg"],["Ye≈üil Soƒüan",3,"adet","veg"],["Maydanoz",1,"demet","veg"],["Marul",4,"yaprak","veg"],["Limon",1,"adet","fruit"],["ƒ∞sot",0,"","spice"],["Kimyon",0,"","spice"]],
  "Hamsi Tava":              [["Hamsi",300,"g","fish"],["Mƒ±sƒ±r Unu",50,"g","grain"],["Sƒ±vƒ± Yaƒü",0,"","oil"],["Limon",1,"adet","fruit"]],
  "Palamut Izgara":          [["Palamut",1,"adet","fish"],["Limon",1,"adet","fruit"],["Zeytinyaƒüƒ±",0,"","oil"]],
  "√áipura Izgara":           [["√áipura",1,"adet","fish"],["Limon",1,"adet","fruit"],["Zeytinyaƒüƒ±",0,"","oil"]],
  "Midye Tava":              [["Midye (Temizlenmi≈ü)",200,"g","fish"],["Un",3,"yk","grain"],["Sƒ±vƒ± Yaƒü",0,"","oil"],["Limon",1,"adet","fruit"],["Tarator (Sos)",0,"","oil"]],
  "Karides Sote":            [["Karides",200,"g","fish"],["Sarƒ±msak",3,"di≈ü","veg"],["Domates",1,"adet","veg"],["Sivri Biber",1,"adet","veg"],["Zeytinyaƒüƒ±",0,"","oil"],["Limon",1,"adet","fruit"]],
  "Sucuk Izgara":            [["Sucuk",60,"g","meat"]],
  "Pastƒ±rma":                [["Pastƒ±rma",40,"g","meat"]],
  "Etli Yaprak Sarma":       [["Asma Yapraƒüƒ±",20,"yaprak","canned"],["Dana Kƒ±yma",80,"g","meat"],["Pirin√ß",50,"g","grain"],["Soƒüan",1,"adet","veg"],["Domates",1,"adet","veg"],["Domates Sal√ßasƒ±",1,"yk","canned"],["Nane (Kuru)",0,"","spice"]],
  "Biftek":                  [["Dana Bonfile",200,"g","meat"],["Tereyaƒüƒ±",15,"g","dairy"],["Sarƒ±msak",1,"di≈ü","veg"],["Biberiye",0,"","spice"],["Karabiber",0,"","spice"]],

  // ‚îÄ‚îÄ YENƒ∞ TAHILlar ‚îÄ‚îÄ
  "A√ßma":                    [["A√ßma",1,"adet","bread"]],
  "Zeytinli Poƒüa√ßa":         [["Zeytinli Poƒüa√ßa",1,"adet","bread"]],
  "Susamlƒ± √á√∂rek":           [["Susamlƒ± √á√∂rek",1,"adet","bread"]],
  "Pi≈üi":                    [["Un",200,"g","grain"],["Yumurta",1,"adet","egg"],["S√ºt",50,"ml","dairy"],["Maya",0,"","grain"],["Sƒ±vƒ± Yaƒü",0,"","oil"]],
  "Yumurtalƒ± Ekmek":         [["Ekmek (Bayat)",2,"dilim","bread"],["Yumurta",2,"adet","egg"],["S√ºt",50,"ml","dairy"],["Tereyaƒüƒ±",10,"g","dairy"]],
  "Kumpir":                  [["Patates (B√ºy√ºk)",1,"adet","veg"],["Tereyaƒüƒ±",20,"g","dairy"],["Ka≈üar Rendesi",30,"g","dairy"],["Mƒ±sƒ±r (Konserve)",2,"yk","canned"],["Zeytin",30,"g","canned"],["Tur≈üu",30,"g","canned"]],
  "Fƒ±rƒ±nda Makarna":         [["Makarna",180,"g","grain"],["Domates Sosu",100,"ml","canned"],["Ka≈üar Rendesi",50,"g","dairy"],["Beyaz Peynir",30,"g","dairy"]],
  "Eri≈üte":                  [["Eri≈üte",180,"g","grain"],["Tereyaƒüƒ±",15,"g","dairy"],["Yoƒüurt",100,"g","dairy"]],
  "≈ûehriye Pilavƒ±":          [["Pirin√ß",80,"g","grain"],["≈ûehriye",30,"g","grain"],["Tereyaƒüƒ±",15,"g","dairy"]],
  "Patates Kƒ±zartmasƒ±":      [["Patates",3,"adet","veg"],["Sƒ±vƒ± Yaƒü",0,"","oil"]],
  "Krep":                    [["Un",100,"g","grain"],["Yumurta",2,"adet","egg"],["S√ºt",200,"ml","dairy"],["Tereyaƒüƒ±",10,"g","dairy"]],
  "Waffle":                  [["Un",100,"g","grain"],["Yumurta",1,"adet","egg"],["S√ºt",150,"ml","dairy"],["Tereyaƒüƒ±",20,"g","dairy"],["≈ûeker",20,"g","sweet"]],
  "Firik Pilavƒ±":            [["Firik",100,"g","grain"],["Soƒüan",1,"adet","veg"],["Tereyaƒüƒ±",10,"g","dairy"]],
  "B√∂rek (Sigara)":          [["Yufka",4,"yaprak","bread"],["Beyaz Peynir",80,"g","dairy"],["Maydanoz",1,"demet","veg"],["Sƒ±vƒ± Yaƒü",0,"","oil"]],
  "Katmer":                  [["Un",150,"g","grain"],["Tereyaƒüƒ±",40,"g","dairy"],["Antep Fƒ±stƒ±ƒüƒ±",30,"g","nut"],["Kaymak",50,"g","dairy"]],

  // ‚îÄ‚îÄ YENƒ∞ √áORBALAR ‚îÄ‚îÄ
  "Lebeniye √áorbasƒ±":        [["Nohut (Kuru)",50,"g","legume"],["S√ºzme Yoƒüurt",100,"g","dairy"],["Un",2,"yk","grain"],["Soƒüan",1,"adet","veg"],["Nane (Kuru)",0,"","spice"],["Tereyaƒüƒ±",10,"g","dairy"]],
  "Analƒ± Kƒ±zlƒ± √áorbasƒ±":     [["Nohut (Kuru)",50,"g","legume"],["Dana Kƒ±yma",50,"g","meat"],["Un",100,"g","grain"],["Soƒüan",1,"adet","veg"],["Domates Sal√ßasƒ±",1,"yk","canned"],["Tereyaƒüƒ±",10,"g","dairy"]],
  "Ek≈üili K√∂fte √áorbasƒ±":    [["Dana Kƒ±yma",80,"g","meat"],["Pirin√ß",30,"g","grain"],["Nohut (Kuru)",30,"g","legume"],["Limon",1,"adet","fruit"],["Domates Sal√ßasƒ±",1,"yk","canned"],["Nane (Kuru)",0,"","spice"]],
  "Soƒüan √áorbasƒ±":           [["Soƒüan",3,"adet","veg"],["Un",2,"yk","grain"],["Tereyaƒüƒ±",15,"g","dairy"],["S√ºt",50,"ml","dairy"],["Ka≈üar Rendesi",20,"g","dairy"]],
  "Karnabahar √áorbasƒ±":      [["Karnabahar",200,"g","veg"],["Soƒüan",1,"adet","veg"],["S√ºt",50,"ml","dairy"],["Un",1,"yk","grain"],["Tereyaƒüƒ±",10,"g","dairy"]],
  "Kereviz √áorbasƒ±":         [["Kereviz",1,"adet","veg"],["Patates",1,"adet","veg"],["Soƒüan",1,"adet","veg"],["S√ºt",50,"ml","dairy"],["Tereyaƒüƒ±",10,"g","dairy"]],
  "Pƒ±rasa √áorbasƒ±":          [["Pƒ±rasa",2,"adet","veg"],["Patates",1,"adet","veg"],["Soƒüan",1,"adet","veg"],["Un",1,"yk","grain"],["Tereyaƒüƒ±",10,"g","dairy"]],
  "Y√ºks√ºk √áorbasƒ±":          [["Un",100,"g","grain"],["Yumurta",1,"adet","egg"],["S√ºzme Yoƒüurt",100,"g","dairy"],["Soƒüan",1,"adet","veg"],["Tereyaƒüƒ±",10,"g","dairy"],["Nane (Kuru)",0,"","spice"]],
  "Tutma√ß √áorbasƒ±":          [["Un",100,"g","grain"],["Yumurta",1,"adet","egg"],["Kƒ±rmƒ±zƒ± Mercimek",50,"g","legume"],["Soƒüan",1,"adet","veg"],["Domates Sal√ßasƒ±",1,"yk","canned"],["Nane (Kuru)",0,"","spice"],["Tereyaƒüƒ±",10,"g","dairy"]],
  "Bamya √áorbasƒ±":           [["Bamya",200,"g","veg"],["Soƒüan",1,"adet","veg"],["Domates",1,"adet","veg"],["Limon",1,"adet","fruit"],["Zeytinyaƒüƒ±",0,"","oil"]],

  // ‚îÄ‚îÄ YENƒ∞ S√úT √úR√úNLERƒ∞ ‚îÄ‚îÄ
  "Haydari":                 [["S√ºzme Yoƒüurt",200,"g","dairy"],["Sarƒ±msak",2,"di≈ü","veg"],["Dereotu",1,"demet","veg"],["Zeytinyaƒüƒ±",0,"","oil"],["Nane (Kuru)",0,"","spice"]],
  "Yoƒüurtlu Makarna":        [["Makarna",180,"g","grain"],["S√ºzme Yoƒüurt",150,"g","dairy"],["Sarƒ±msak",1,"di≈ü","veg"],["Tereyaƒüƒ±",15,"g","dairy"],["Pul Biber",0,"","spice"]],
  "Mihali√ß Peyniri":         [["Mihali√ß Peyniri",40,"g","dairy"]],
  "√áerkez Peyniri":          [["√áerkez Peyniri",40,"g","dairy"]],
  "K√ºnefe Peyniri":          [["K√ºnefe Peyniri",60,"g","dairy"]],

  // ‚îÄ‚îÄ YENƒ∞ SEBZE ‚îÄ‚îÄ
  "≈ûak≈üuka":                 [["Domates",2,"adet","veg"],["Biber",2,"adet","veg"],["Soƒüan",1,"adet","veg"],["Yumurta",1,"adet","egg"],["Zeytinyaƒüƒ±",0,"","oil"],["Pul Biber",0,"","spice"]],
  "Acƒ±lƒ± Ezme":              [["Domates",2,"adet","veg"],["Sivri Biber",3,"adet","veg"],["Soƒüan",1,"adet","veg"],["Maydanoz",1,"demet","veg"],["Nar Ek≈üisi",1,"yk","oil"],["Zeytinyaƒüƒ±",0,"","oil"],["ƒ∞sot",0,"","spice"]],
  "Babaganu≈ü":               [["Patlƒ±can",2,"adet","veg"],["Tahin",1,"yk","nut"],["Sarƒ±msak",1,"di≈ü","veg"],["Limon",1,"adet","fruit"],["Zeytinyaƒüƒ±",0,"","oil"]],
  "Muhammara":               [["Kƒ±rmƒ±zƒ± Biber (K√∂zlenmi≈ü)",3,"adet","veg"],["Ceviz ƒ∞√ßi",50,"g","nut"],["Nar Ek≈üisi",1,"yk","oil"],["Ekmek ƒ∞√ßi",1,"dilim","bread"],["Zeytinyaƒüƒ±",0,"","oil"],["Kimyon",0,"","spice"]],
  "Patlƒ±can Salatasƒ±":       [["Patlƒ±can",2,"adet","veg"],["Domates",1,"adet","veg"],["Sivri Biber",2,"adet","veg"],["Sarƒ±msak",1,"di≈ü","veg"],["Limon",1,"adet","fruit"],["Zeytinyaƒüƒ±",0,"","oil"]],
  "Fasulye Pilaki":          [["Kuru Fasulye",100,"g","legume"],["Soƒüan",1,"adet","veg"],["Havu√ß",1,"adet","veg"],["Patates",1,"adet","veg"],["Domates",1,"adet","veg"],["Zeytinyaƒüƒ±",0,"","oil"]],
  "Pƒ±rasa Yemeƒüi":           [["Pƒ±rasa",3,"adet","veg"],["Havu√ß",1,"adet","veg"],["Pirin√ß",30,"g","grain"],["Zeytinyaƒüƒ±",0,"","oil"],["Limon",1,"adet","fruit"]],
  "Havu√ß Tarator":           [["Havu√ß",3,"adet","veg"],["S√ºzme Yoƒüurt",100,"g","dairy"],["Sarƒ±msak",1,"di≈ü","veg"],["Zeytinyaƒüƒ±",0,"","oil"]],
  "Zeytinyaƒülƒ± Lahana Sarma":[["Beyaz Lahana",1,"adet","veg"],["Pirin√ß",50,"g","grain"],["Soƒüan",2,"adet","veg"],["Domates Sal√ßasƒ±",1,"yk","canned"],["Zeytinyaƒüƒ±",0,"","oil"]],
  "Karƒ±≈üƒ±k Kƒ±zartma":        [["Patlƒ±can",1,"adet","veg"],["Kabak",1,"adet","veg"],["Biber",2,"adet","veg"],["Patates",1,"adet","veg"],["Sƒ±vƒ± Yaƒü",0,"","oil"]],
  "Kabak Dolmasƒ±":           [["Kabak (Dolmalƒ±k)",4,"adet","veg"],["Pirin√ß",50,"g","grain"],["Soƒüan",1,"adet","veg"],["Domates",1,"adet","veg"],["Maydanoz",1,"demet","veg"],["Zeytinyaƒüƒ±",0,"","oil"]],
  "Kƒ±ymalƒ± Ispanak":         [["Ispanak",300,"g","veg"],["Dana Kƒ±yma",80,"g","meat"],["Soƒüan",1,"adet","veg"],["Domates Sal√ßasƒ±",1,"yk","canned"],["Tereyaƒüƒ±",10,"g","dairy"]],
  "T√ºrl√º (Zeytinyaƒülƒ±)":     [["Patlƒ±can",1,"adet","veg"],["Kabak",1,"adet","veg"],["Biber",2,"adet","veg"],["Patates",1,"adet","veg"],["Domates",2,"adet","veg"],["Soƒüan",1,"adet","veg"],["Zeytinyaƒüƒ±",0,"","oil"]],
  "M√ºcver (Havu√ßlu)":        [["Havu√ß",2,"adet","veg"],["Yumurta",1,"adet","egg"],["Un",3,"yk","grain"],["Dereotu",1,"demet","veg"],["Beyaz Peynir",30,"g","dairy"],["Sƒ±vƒ± Yaƒü",0,"","oil"]],
  "√ái√ßek Bamya (Zeytinyaƒülƒ±)":[["Bamya",200,"g","veg"],["Soƒüan",1,"adet","veg"],["Domates",1,"adet","veg"],["Limon",1,"adet","fruit"],["Zeytinyaƒüƒ±",0,"","oil"]],

  // ‚îÄ‚îÄ YENƒ∞ MEYVELER ‚îÄ‚îÄ
  "B√∂ƒü√ºrtlen":     [["B√∂ƒü√ºrtlen",150,"g","fruit"]],
  "Ahududu":       [["Ahududu",150,"g","fruit"]],
  "Ananas":        [["Ananas",1,"adet","fruit"]],
  "Dut":           [["Dut",150,"g","fruit"]],
  "Yaban Mersini": [["Yaban Mersini",100,"g","fruit"]],
  "ƒ∞ncir (Kuru)":  [["Kuru ƒ∞ncir",60,"g","nut"]],
  "Nar Tanesi":    [["Nar",1,"adet","fruit"]],
  "Limon (Taze)":  [["Limon",1,"adet","fruit"]],

  // ‚îÄ‚îÄ YENƒ∞ KURUYEMƒ∞≈û ‚îÄ‚îÄ
  "Leblebi":           [["Leblebi",100,"g","nut"]],
  "Kabak √áekirdeƒüi":   [["Kabak √áekirdeƒüi",100,"g","nut"]],
  "Tahin Helvasƒ±":     [["Tahin Helvasƒ±",1,"paket","sweet"]],
  "Pestil":            [["Pestil",100,"g","nut"]],
  "Cevizli Sucuk":     [["Cevizli Sucuk",100,"g","nut"]],
  "Sam Fƒ±stƒ±ƒüƒ±":       [["Sam Fƒ±stƒ±ƒüƒ±",100,"g","nut"]],
  "Kurutulmu≈ü Dut":    [["Kurutulmu≈ü Dut",100,"g","nut"]],
  "Macadamia":         [["Macadamia",50,"g","nut"]],

  // ‚îÄ‚îÄ YENƒ∞ TATLILAR ‚îÄ‚îÄ
  "≈ûekerpare":         [["Un",100,"g","grain"],["Tereyaƒüƒ±",50,"g","dairy"],["≈ûeker",150,"g","sweet"],["Limon",1,"adet","fruit"],["ƒ∞rmik",30,"g","grain"]],
  "Kemalpa≈üa":         [["Un",100,"g","grain"],["Yumurta",1,"adet","egg"],["S√ºt",50,"ml","dairy"],["≈ûeker",150,"g","sweet"],["Limon",1,"adet","fruit"]],
  "Tel Kadayƒ±f":       [["Tel Kadayƒ±f",100,"g","sweet"],["Antep Fƒ±stƒ±ƒüƒ±",30,"g","nut"],["Tereyaƒüƒ±",30,"g","dairy"],["≈ûeker",150,"g","sweet"]],
  "Ekmek Kadayƒ±fƒ±":    [["Ekmek (Bayat)",3,"dilim","bread"],["S√ºt",300,"ml","dairy"],["≈ûeker",100,"g","sweet"],["Kaymak",50,"g","dairy"]],
  "H√∂≈ümerim":          [["K√ºnefe Peyniri",100,"g","dairy"],["Un",2,"yk","grain"],["Tereyaƒüƒ±",20,"g","dairy"],["≈ûeker",80,"g","sweet"]],
  "Cennet √áamuru":     [["S√ºt",500,"ml","dairy"],["Ni≈üasta",3,"yk","sweet"],["Kakao",2,"yk","sweet"],["≈ûeker",80,"g","sweet"],["Hindistancevizi",20,"g","sweet"]],
  "Hanƒ±m G√∂beƒüi":      [["Un",100,"g","grain"],["Yumurta",1,"adet","egg"],["Tereyaƒüƒ±",20,"g","dairy"],["≈ûeker",150,"g","sweet"],["Limon",1,"adet","fruit"]],
  "≈û√∂biyet":           [["Baklava Yufkasƒ±",1,"paket","sweet"],["Krema",100,"ml","dairy"],["Antep Fƒ±stƒ±ƒüƒ±",20,"g","nut"],["Tereyaƒüƒ±",30,"g","dairy"],["≈ûeker",100,"g","sweet"]],
  "Dilber Dudaƒüƒ±":     [["Un",100,"g","grain"],["Yumurta",1,"adet","egg"],["Tereyaƒüƒ±",20,"g","dairy"],["≈ûeker",150,"g","sweet"],["Limon",1,"adet","fruit"],["Antep Fƒ±stƒ±ƒüƒ±",10,"g","nut"]],
  "Supangle":          [["S√ºt",400,"ml","dairy"],["Bitter √áikolata",50,"g","sweet"],["Ni≈üasta",2,"yk","sweet"],["≈ûeker",60,"g","sweet"],["Kakao",1,"yk","sweet"]],
  "Mozaik Pasta":      [["Bitter √áikolata",100,"g","sweet"],["Tereyaƒüƒ±",50,"g","dairy"],["Petib√∂r Bisk√ºvi",1,"paket","sweet"],["Ceviz ƒ∞√ßi",30,"g","nut"]],
  "Magnolia":          [["S√ºt",400,"ml","dairy"],["Krema",100,"ml","dairy"],["Ni≈üasta",2,"yk","sweet"],["≈ûeker",60,"g","sweet"],["Muz",1,"adet","fruit"],["Petib√∂r Bisk√ºvi",5,"adet","sweet"]],
  "Sakƒ±zlƒ± Muhallebi": [["S√ºt",500,"ml","dairy"],["Ni≈üasta",3,"yk","sweet"],["≈ûeker",60,"g","sweet"],["Damla Sakƒ±zƒ±",0,"","spice"]],
  "Lor Tatlƒ±sƒ±":       [["Lor Peyniri",200,"g","dairy"],["Yumurta",1,"adet","egg"],["≈ûeker",100,"g","sweet"],["Limon",1,"adet","fruit"],["Un",2,"yk","grain"]],
  "Panna Cotta":       [["Krema",200,"ml","dairy"],["S√ºt",100,"ml","dairy"],["≈ûeker",40,"g","sweet"],["Jelatin",1,"paket","sweet"],["Vanilya",0,"","spice"]],

  // ‚îÄ‚îÄ YENƒ∞ ƒ∞√áECEKLER ‚îÄ‚îÄ
  "≈ûalgam Suyu":       [["≈ûalgam Suyu",1,"≈üi≈üe","tea"]],
  "Salep":             [["Salep Tozu",1,"paket","tea"],["S√ºt",200,"ml","dairy"],["Tar√ßƒ±n",0,"","spice"]],
  "T√ºrk Kahvesi":      [["T√ºrk Kahvesi",1,"paket","tea"]],
  "Acƒ±lƒ± ≈ûalgam":      [["≈ûalgam Suyu (Acƒ±lƒ±)",1,"≈üi≈üe","tea"]],
  "Hibiskus √áayƒ±":     [["Hibiskus √áayƒ±",1,"paket","tea"]],
  "Tar√ßƒ±nlƒ± S√ºt":      [["S√ºt",200,"ml","dairy"],["Tar√ßƒ±n",0,"","spice"],["Bal",1,"yk","sweet"]],
  "Ballƒ± S√ºt":         [["S√ºt",200,"ml","dairy"],["Bal",1,"yk","sweet"]],
  "Rezene √áayƒ±":       [["Rezene √áayƒ±",1,"paket","tea"]],
  "Hatmi √ái√ßeƒüi √áayƒ±": [["Hatmi √ái√ßeƒüi √áayƒ±",1,"paket","tea"]],
  "Naneli Ayran":      [["Ayran",200,"ml","dairy"],["Taze Nane",3,"yaprak","veg"]]
};

function toggleShopping() {
  const card = document.getElementById('shoppingCard');
  card.classList.toggle('expanded');
  if (card.classList.contains('expanded')) renderShoppingList();
}

function setShoppingDays(days) {
  shoppingDays = days;
  document.querySelectorAll('.shopping-day-tab').forEach(t => t.classList.remove('active'));
  event.target.closest('.shopping-day-tab').classList.add('active');
  shoppingChecked.clear();
  renderShoppingList();
}

function getShoppingItems() {
  if (!currentPlan) return { items: [], pantry: [] };
  const { sahur, iftar, snack } = currentPlan;
  const allFoods = [...sahur.items, ...iftar.items, ...snack.items];

  // Aggregate ingredients
  // key = "name|unit|cat" ‚Üí { name, qty, unit, cat }
  const map = new Map();
  const pantrySet = new Set();

  for (const food of allFoods) {
    const recipe = RECIPE_DB[food.name];
    if (!recipe) continue; // skip if no mapping (shouldn't happen)

    for (const [iName, iQty, iUnit, iCat] of recipe) {
      if (iQty === 0) {
        // Pantry staple
        pantrySet.add(iName);
        continue;
      }
      const key = `${iName}|${iUnit}|${iCat}`;
      if (map.has(key)) {
        map.get(key).qty += iQty * shoppingDays;
      } else {
        map.set(key, { name: iName, qty: iQty * shoppingDays, unit: iUnit, cat: iCat });
      }
    }
  }

  // Add water
  if (currentPlan.waterLiters) {
    const w = +(currentPlan.waterLiters * shoppingDays).toFixed(1);
    map.set('Su|L|tea', { name: 'Su', qty: w, unit: 'L', cat: 'tea' });
  }

  // Convert units for readability
  const items = Array.from(map.values()).map(item => {
    let { name, qty, unit } = item;
    // g ‚Üí kg
    if (unit === 'g' && qty >= 1000) { qty = +(qty / 1000).toFixed(1); unit = 'kg'; }
    else if (unit === 'g' && qty > 0) { qty = Math.round(qty); }
    // ml ‚Üí L
    if (unit === 'ml' && qty >= 1000) { qty = +(qty / 1000).toFixed(1); unit = 'L'; }
    else if (unit === 'ml' && qty > 0) { qty = Math.round(qty); }
    // Round others
    if (typeof qty === 'number' && unit !== 'kg' && unit !== 'L') qty = Math.ceil(qty * 10) / 10;
    // Clean display
    if (Number.isInteger(qty)) qty = qty;
    return { ...item, qty, unit, display: qty > 0 ? `${qty} ${unit}` : '' };
  });

  return { items, pantry: Array.from(pantrySet).sort() };
}

function renderShoppingList() {
  const listEl = document.getElementById('shoppingList');
  const { items, pantry } = getShoppingItems();

  if (items.length === 0 && pantry.length === 0) {
    listEl.innerHTML = '<p style="text-align:center;color:var(--gray-400);font-size:.85rem;padding:1rem">√ñnce bir √∂ƒü√ºn planƒ± olu≈üturun.</p>';
    updateShoppingSummary(0);
    return;
  }

  // Group by shop category
  const groups = {};
  for (const item of items) {
    if (!groups[item.cat]) groups[item.cat] = [];
    groups[item.cat].push(item);
  }

  const catOrder = Object.entries(SHOP_CATS).sort((a,b) => a[1].order - b[1].order);

  let html = '';
  let totalCount = 0;

  for (const [catKey, catInfo] of catOrder) {
    if (!groups[catKey] || groups[catKey].length === 0) continue;
    if (catKey === 'spice') continue; // pantry staples handled separately
    const catItems = groups[catKey];
    totalCount += catItems.length;

    html += `<div class="shopping-category">
      <div class="shopping-cat-header">
        <span class="sc-icon">${catInfo.icon}</span>
        <span class="sc-name">${catInfo.name}</span>
        <span class="sc-count">${catItems.length} √ºr√ºn</span>
      </div>`;

    for (const item of catItems) {
      const key = item.name;
      const checked = shoppingChecked.has(key);
      html += `<div class="shopping-item ${checked ? 'checked' : ''}" onclick="toggleShoppingItem('${key.replace(/'/g, "\\'")}')">
        <div class="si-check"></div>
        <span class="si-name">${item.name}</span>
        <span class="si-portion">${item.display}</span>
      </div>`;
    }
    html += '</div>';
  }

  // Pantry staples section
  if (pantry.length > 0) {
    html += `<div class="shopping-category" style="opacity:.7">
      <div class="shopping-cat-header">
        <span class="sc-icon">üßÇ</span>
        <span class="sc-name">Mutfaƒüƒ±nƒ±zda Bulunmasƒ± Gerekenler</span>
        <span class="sc-count">${pantry.length} √ºr√ºn</span>
      </div>`;
    html += '<div style="display:flex;flex-wrap:wrap;gap:.3rem;padding:.25rem 0">';
    for (const p of pantry) {
      const checked = shoppingChecked.has('pantry:'+p);
      html += `<span class="basket-chip ${checked ? 'checked' : ''}" onclick="toggleShoppingItem('pantry:${p.replace(/'/g, "\\'")}')" style="${checked?'opacity:.4;text-decoration:line-through':''}">
        ${p} <span class="chip-x">${checked ? '‚úì' : '?'}</span>
      </span>`;
    }
    html += '</div></div>';
  }

  listEl.innerHTML = html;
  updateShoppingSummary(totalCount);
}

function toggleShoppingItem(name) {
  if (shoppingChecked.has(name)) shoppingChecked.delete(name);
  else shoppingChecked.add(name);
  renderShoppingList();
}

function updateShoppingSummary(total) {
  const checked = Array.from(shoppingChecked).filter(k => !k.startsWith('pantry:')).length;
  document.getElementById('shoppingTotal').textContent = `${total} √ºr√ºn`;
  document.getElementById('shoppingChecked').textContent = checked > 0
    ? `‚úì ${checked} / ${total} alƒ±ndƒ±`
    : '0 alƒ±ndƒ±';
}

function resetShoppingChecks() {
  shoppingChecked.clear();
  renderShoppingList();
}

function buildShoppingText() {
  const { items, pantry } = getShoppingItems();
  if (items.length === 0) return '';

  const groups = {};
  for (const item of items) {
    if (!groups[item.cat]) groups[item.cat] = [];
    groups[item.cat].push(item);
  }

  const dayLabel = shoppingDays === 1 ? '1 g√ºnl√ºk' : shoppingDays === 3 ? '3 g√ºnl√ºk' : 'haftalƒ±k';
  let text = `üõí Ramazan Alƒ±≈üveri≈ü Listesi (${dayLabel})\n\n`;

  const catOrder = Object.entries(SHOP_CATS).sort((a,b) => a[1].order - b[1].order);
  for (const [catKey, catInfo] of catOrder) {
    if (!groups[catKey] || groups[catKey].length === 0) continue;
    if (catKey === 'spice') continue;
    text += `${catInfo.icon} ${catInfo.name}\n`;
    for (const item of groups[catKey]) {
      text += `  ‚òê ${item.name}${item.display ? ' ‚Äî ' + item.display : ''}\n`;
    }
    text += '\n';
  }

  if (pantry.length > 0) {
    text += `üßÇ Mutfakta Kontrol Edin\n  ${pantry.join(', ')}\n\n`;
  }

  text += 'üîó uzunyasa.com/pages/araclar/sahur-iftar-planlayici.html';
  return text;
}

function copyShoppingList() {
  const text = buildShoppingText();
  if (!text) return;
  if (navigator.clipboard) {
    navigator.clipboard.writeText(text).then(() => {
      const btn = event.target.closest('.btn');
      const orig = btn.innerHTML;
      btn.innerHTML = '‚úÖ Kopyalandƒ±!';
      setTimeout(() => btn.innerHTML = orig, 2000);
    });
  }
}

function shareShoppingList() {
  const text = buildShoppingText();
  if (!text) return;
  if (navigator.share) {
    navigator.share({ title: 'Ramazan Alƒ±≈üveri≈ü Listesi', text }).catch(() => {});
  } else {
    copyShoppingList();
  }
}

// ‚ïê‚ïê‚ïê DARK MODE ‚ïê‚ïê‚ïê
function toggleDarkMode() {
  const isDark = document.body.classList.toggle('dark');
  localStorage.setItem('uzunyasa_dark', isDark ? '1' : '0');
  document.getElementById('darkModeLabel').textContent = isDark ? 'G√ºnd√ºz' : 'Gece';
}
function initDarkMode() {
  const saved = localStorage.getItem('uzunyasa_dark');
  // Auto dark between 22:00-06:00 if no preference
  if (saved === null) {
    const h = new Date().getHours();
    if (h >= 22 || h < 6) document.body.classList.add('dark');
  } else if (saved === '1') {
    document.body.classList.add('dark');
  }
  if (document.body.classList.contains('dark')) {
    document.getElementById('darkModeLabel').textContent = 'G√ºnd√ºz';
  }
}

// ‚ïê‚ïê‚ïê RAMAZAN COUNTER & PRAYER TIMES ‚ïê‚ïê‚ïê
const RAMADAN_START = new Date(2026, 1, 17); // Feb 17, 2026 (1 Ramazan 1447 ‚Äî evening of Feb 17)
const RAMADAN_DAYS = 30;

const CITIES = {
  istanbul:{name:'ƒ∞stanbul',lat:41.01,lon:28.98},ankara:{name:'Ankara',lat:39.92,lon:32.85},
  izmir:{name:'ƒ∞zmir',lat:38.42,lon:27.14},bursa:{name:'Bursa',lat:40.19,lon:29.06},
  antalya:{name:'Antalya',lat:36.90,lon:30.70},adana:{name:'Adana',lat:37.00,lon:35.32},
  konya:{name:'Konya',lat:37.87,lon:32.48},gaziantep:{name:'Gaziantep',lat:37.06,lon:37.38},
  diyarbakir:{name:'Diyarbakƒ±r',lat:37.91,lon:40.22},kayseri:{name:'Kayseri',lat:38.73,lon:35.48},
  eskisehir:{name:'Eski≈üehir',lat:39.77,lon:30.52},trabzon:{name:'Trabzon',lat:41.00,lon:39.72},
  samsun:{name:'Samsun',lat:41.29,lon:36.33},erzurum:{name:'Erzurum',lat:39.90,lon:41.27},
  malatya:{name:'Malatya',lat:38.35,lon:38.31},denizli:{name:'Denizli',lat:37.77,lon:29.09},
  mersin:{name:'Mersin',lat:36.80,lon:34.63},sanliurfa:{name:'≈ûanlƒ±urfa',lat:37.16,lon:38.79},
  van:{name:'Van',lat:38.49,lon:43.38},hatay:{name:'Hatay',lat:36.40,lon:36.35},
  manisa:{name:'Manisa',lat:38.61,lon:27.43},balikesir:{name:'Balƒ±kesir',lat:39.65,lon:27.88},
  kahramanmaras:{name:'K.Mara≈ü',lat:37.58,lon:36.93},elazig:{name:'Elazƒ±ƒü',lat:38.67,lon:39.22},
  sivas:{name:'Sivas',lat:39.75,lon:37.01},mugla:{name:'Muƒüla',lat:37.21,lon:28.36},
  tekirdag:{name:'Tekirdaƒü',lat:41.00,lon:27.52},ordu:{name:'Ordu',lat:40.98,lon:37.88},
  afyon:{name:'Afyon',lat:38.74,lon:30.54},sakarya:{name:'Sakarya',lat:40.69,lon:30.40}
};

function calcSunAngle(lat, lon, date, angle) {
  // Simplified solar calculation for prayer times
  const rad = Math.PI / 180;
  const dayOfYear = Math.floor((date - new Date(date.getFullYear(), 0, 0)) / 86400000);
  
  // Solar declination (simplified)
  const declination = -23.44 * Math.cos(rad * (360 / 365) * (dayOfYear + 10));
  
  // Equation of time (simplified, minutes)
  const B = rad * (360 / 365) * (dayOfYear - 81);
  const EoT = 9.87 * Math.sin(2 * B) - 7.53 * Math.cos(B) - 1.5 * Math.sin(B);
  
  // Solar noon in UTC hours
  const solarNoon = 12 - (lon / 15) - (EoT / 60);
  
  // Hour angle for given sun altitude
  const latRad = lat * rad;
  const declRad = declination * rad;
  const cosH = (Math.sin(angle * rad) - Math.sin(latRad) * Math.sin(declRad)) / (Math.cos(latRad) * Math.cos(declRad));
  
  if (cosH > 1 || cosH < -1) return null; // sun never reaches this angle
  const H = Math.acos(cosH) / rad / 15; // hours
  
  return { rise: solarNoon - H, set: solarNoon + H };
}

function getPrayerTimes(cityKey, date) {
  const city = CITIES[cityKey];
  if (!city) return null;
  
  // Turkey timezone offset (+3)
  const tzOffset = 3;
  
  // Fajr (ƒ∞msak): sun at -18¬∞ (Diyanet method), subtract 5 min for safety
  const fajr = calcSunAngle(city.lat, city.lon, date, -18);
  // Sunrise: sun at -0.833¬∞ (with refraction)
  const sunrise = calcSunAngle(city.lat, city.lon, date, -0.833);
  // Maghrib (ƒ∞ftar): sunset at -0.833¬∞
  const maghrib = calcSunAngle(city.lat, city.lon, date, -0.833);
  
  if (!fajr || !maghrib) return null;
  
  const imsakH = fajr.rise + tzOffset;
  const iftarH = maghrib.set + tzOffset;
  
  const formatTime = (h) => {
    const hours = Math.floor(h);
    const mins = Math.round((h - hours) * 60);
    return `${String(hours).padStart(2, '0')}:${String(mins).padStart(2, '0')}`;
  };
  
  return {
    imsak: formatTime(imsakH - 0.083), // subtract ~5 min
    iftar: formatTime(iftarH),
    imsakH: imsakH - 0.083,
    iftarH: iftarH
  };
}

function getRamadanDay(date) {
  const diff = Math.floor((date - RAMADAN_START) / 86400000);
  if (diff < 0) return { day: 0, remaining: Math.abs(diff), status: 'before' };
  if (diff >= RAMADAN_DAYS) return { day: RAMADAN_DAYS, remaining: 0, status: 'after' };
  return { day: diff + 1, remaining: RAMADAN_DAYS - diff - 1, status: 'during' };
}

function updateRamadanBanner() {
  const now = new Date();
  // Adjust to Turkey time
  const turkeyNow = new Date(now.getTime() + (3 - (-(now.getTimezoneOffset() / 60))) * 3600000);
  const today = new Date(turkeyNow.getFullYear(), turkeyNow.getMonth(), turkeyNow.getDate());
  
  const rd = getRamadanDay(today);
  const dayEl = document.getElementById('ramadanDayNum');
  const infoEl = document.getElementById('ramadanInfo');
  
  if (rd.status === 'before') {
    dayEl.textContent = rd.remaining;
    infoEl.innerHTML = `Ramazan'a <strong>${rd.remaining} g√ºn</strong> kaldƒ±`;
  } else if (rd.status === 'during') {
    dayEl.textContent = rd.day;
    infoEl.innerHTML = `Ramazan'ƒ±n <strong>${rd.day}. g√ºn√º</strong> ¬∑ ${rd.remaining} g√ºn kaldƒ±`;
  } else {
    dayEl.textContent = 'üéâ';
    infoEl.innerHTML = '<strong>Ramazan Bayramƒ±nƒ±z m√ºbarek olsun!</strong>';
  }
  
  // Prayer times
  const cityKey = document.getElementById('citySelect')?.value || 'istanbul';
  const times = getPrayerTimes(cityKey, today);
  if (times) {
    document.getElementById('imsakTime').textContent = times.imsak;
    document.getElementById('iftarTime').textContent = times.iftar;
    
    // Store times for live countdown
    window._prayerTimes = times;
    window._turkeyNow = turkeyNow;
  }
}

function onCityChange() {
  updateRamadanBanner();
  updateLiveCountdown();
  // Save city preference
  localStorage.setItem('uzunyasa_city', document.getElementById('citySelect').value);
}

// ‚ïê‚ïê‚ïê LIVE COUNTDOWN TIMER ‚ïê‚ïê‚ïê
function updateLiveCountdown() {
  const bar = document.getElementById('countdownBar');
  const timerEl = document.getElementById('cbTimer');
  const labelEl = document.getElementById('cbLabel');
  const eventEl = document.getElementById('cbEvent');
  if (!bar || !window._prayerTimes) return;
  
  const now = new Date();
  const turkeyNow = new Date(now.getTime() + (3 - (-(now.getTimezoneOffset() / 60))) * 3600000);
  const nowSec = turkeyNow.getHours() * 3600 + turkeyNow.getMinutes() * 60 + turkeyNow.getSeconds();
  const times = window._prayerTimes;
  const imsakSec = Math.round(times.imsakH * 3600);
  const iftarSec = Math.round(times.iftarH * 3600);
  
  let remainSec = 0;
  let label = '';
  let event = '';
  let cls = '';
  
  if (nowSec < imsakSec) {
    // Before imsak ‚Üí countdown to imsak (sahur ending)
    remainSec = imsakSec - nowSec;
    label = 'üåô ƒ∞msak\'a';
    event = 'sahur bitiyor';
    cls = 'fasting';
  } else if (nowSec < iftarSec) {
    // Between imsak and iftar ‚Üí countdown to iftar
    remainSec = iftarSec - nowSec;
    label = 'üåÖ ƒ∞ftar\'a';
    event = 'oru√ß a√ßƒ±lƒ±yor';
    cls = 'toiftar';
  } else {
    // After iftar ‚Üí countdown to next day's imsak
    remainSec = (24 * 3600 - nowSec) + imsakSec;
    label = 'üåô Sahur\'a';
    event = 'yarƒ±nki imsak';
    cls = 'fasting';
  }
  
  if (remainSec <= 0) { bar.style.display = 'none'; return; }
  
  const h = Math.floor(remainSec / 3600);
  const m = Math.floor((remainSec % 3600) / 60);
  const s = remainSec % 60;
  timerEl.textContent = `${String(h).padStart(2,'0')}:${String(m).padStart(2,'0')}:${String(s).padStart(2,'0')}`;
  labelEl.textContent = label;
  eventEl.textContent = event;
  
  bar.style.display = 'flex';
  bar.className = 'countdown-bar ' + cls;
  // Urgent pulse when <30 min
  if (remainSec < 1800) bar.classList.add('urgent');
}

// ‚ïê‚ïê‚ïê WATER TRACKER ‚ïê‚ïê‚ïê
let waterDrunk = 0;
let waterTarget = 0;

function initWaterTracker(glasses) {
  waterTarget = glasses;
  // Load today's water intake
  const todayKey = new Date().toISOString().slice(0,10);
  const saved = localStorage.getItem('uzunyasa_water_' + todayKey);
  waterDrunk = saved ? parseInt(saved) : 0;
  renderWaterGlasses();
}

function renderWaterGlasses() {
  const grid = document.getElementById('waterGlassesGrid');
  const fill = document.getElementById('waterProgressFill');
  const text = document.getElementById('waterProgressText');
  if (!grid) return;
  
  grid.innerHTML = '';
  for (let i = 1; i <= waterTarget; i++) {
    const glass = document.createElement('div');
    glass.className = 'water-glass' + (i <= waterDrunk ? ' filled' : '');
    glass.innerHTML = `<span class="wg-num">${i}</span>`;
    glass.onclick = () => toggleWaterGlass(i);
    grid.appendChild(glass);
  }
  
  const pct = waterTarget > 0 ? Math.round((waterDrunk / waterTarget) * 100) : 0;
  if (fill) fill.style.width = pct + '%';
  if (text) {
    const liters = (waterDrunk * 0.2).toFixed(1);
    text.textContent = `${waterDrunk} / ${waterTarget} bardak (${liters}L)`;
  }
}

function toggleWaterGlass(num) {
  if (num <= waterDrunk) {
    // Clicking a filled glass unfills from that point
    waterDrunk = num - 1;
  } else {
    // Fill up to this glass
    waterDrunk = num;
  }
  const todayKey = new Date().toISOString().slice(0,10);
  localStorage.setItem('uzunyasa_water_' + todayKey, waterDrunk);
  renderWaterGlasses();
}

// ‚ïê‚ïê‚ïê CALORIE DONUT CHART ‚ïê‚ïê‚ïê
function updateDonutChart(current, target) {
  const fill = document.getElementById('donutFill');
  const calEl = document.getElementById('donutCal');
  const targetEl = document.getElementById('donutTarget');
  if (!fill) return;
  
  const circumference = 2 * Math.PI * 42; // ~263.9
  const pct = target > 0 ? Math.min(current / target, 1.2) : 0;
  const offset = circumference * (1 - pct);
  
  fill.style.strokeDashoffset = Math.max(offset, 0);
  
  // Color: green (on track), orange (80-100%), red (over)
  if (pct > 1) fill.setAttribute('stroke', '#dc2626');
  else if (pct > 0.8) fill.setAttribute('stroke', '#E8963E');
  else fill.setAttribute('stroke', '#2D9F4F');
  
  if (calEl) calEl.textContent = Math.round(current);
  if (targetEl) targetEl.textContent = `/ ${Math.round(target)}`;
}

// ‚ïê‚ïê‚ïê FOOD DETAIL MODAL ‚ïê‚ïê‚ïê
function openFoodModal(foodName) {
  const food = FOODS.find(f => f.name === foodName);
  if (!food) return;
  
  document.getElementById('fmIcon').textContent = food.icon;
  document.getElementById('fmName').textContent = food.name;
  
  const catNames = {protein:'Protein / Et & Yumurta',carb:'Karbonhidrat & Tahƒ±l',veg:'Sebze',fruit:'Meyve',dairy:'S√ºt √úr√ºn√º',soup:'√áorba',salad:'Salata',dessert:'Tatlƒ±',nut:'Kuruyemi≈ü',drink:'ƒ∞√ßecek'};
  document.getElementById('fmCat').textContent = catNames[food.cat] || food.cat;
  document.getElementById('fmPortion').textContent = `üìè ${food.portion} (${food.pg}g)`;
  
  // Macros per portion
  const macroGrid = document.getElementById('fmMacroGrid');
  const cal = Math.round(food.cal * food.pg / 100);
  const p = (food.p * food.pg / 100).toFixed(1);
  const c = (food.c * food.pg / 100).toFixed(1);
  const f = (food.f * food.pg / 100).toFixed(1);
  macroGrid.innerHTML = `
    <div class="fm-macro-item"><div class="fm-macro-value" style="color:var(--accent)">${cal}</div><div class="fm-macro-label">kcal</div></div>
    <div class="fm-macro-item"><div class="fm-macro-value" style="color:var(--protein)">${p}g</div><div class="fm-macro-label">Protein</div></div>
    <div class="fm-macro-item"><div class="fm-macro-value" style="color:var(--carb)">${c}g</div><div class="fm-macro-label">Karb.</div></div>
    <div class="fm-macro-item"><div class="fm-macro-value" style="color:var(--fat)">${f}g</div><div class="fm-macro-label">Yaƒü</div></div>
  `;
  
  // Per 100g
  const per100 = document.getElementById('fmPer100');
  per100.innerHTML = `
    <h5>100g ba≈üƒ±na</h5>
    <div class="fm-per100-grid">
      <div><div class="val">${food.cal}</div><div class="lbl">kcal</div></div>
      <div><div class="val">${food.p}g</div><div class="lbl">Protein</div></div>
      <div><div class="val">${food.c}g</div><div class="lbl">Karb.</div></div>
      <div><div class="val">${food.f}g</div><div class="lbl">Yaƒü</div></div>
    </div>
  `;
  
  // Meal suitability
  const mealsEl = document.getElementById('fmMeals');
  const mealLabels = {s:{label:'Sahur',cls:'sahur'},i:{label:'ƒ∞ftar',cls:'iftar'},a:{label:'Ara √ñƒü√ºn',cls:'ara'}};
  const tags = food.meal.map(m => {
    const ml = mealLabels[m];
    return ml ? `<span class="fm-meal-tag ${ml.cls}">${ml.label}</span>` : '';
  }).join('');
  mealsEl.innerHTML = `<h5>Uygun √ñƒü√ºnler</h5><div class="fm-meal-tags">${tags}</div>`;
  
  // Contextual tip
  const tipEl = document.getElementById('fmTip');
  const tipText = document.getElementById('fmTipText');
  const tips = {
    protein: 'Protein aƒüƒ±rlƒ±klƒ± besinler sahurda tok kalmaya, iftarda kas korunumuna yardƒ±mcƒ± olur.',
    carb: 'Kompleks karbonhidratlar (tam tahƒ±l, bulgur) uzun s√ºre enerji saƒülar. Sahurda tercih edin.',
    veg: 'Sebzeler lif ve mineral deposudur. √ñzellikle potasyum ve magnezyum a√ßƒ±sƒ±ndan zengin olanlarƒ± tercih edin.',
    fruit: 'Meyveler doƒüal ≈üeker ve vitamin kaynaƒüƒ±dƒ±r. ƒ∞ftarda enerji takviyesi, sahurda lif kaynaƒüƒ± olarak harikadƒ±r.',
    dairy: 'S√ºt √ºr√ºnleri kalsiyum ve kazein proteini i√ßerir. Sahurda uzun s√ºre tok tutar.',
    soup: '√áorbalar iftar a√ßmak i√ßin ideal: hem sƒ±vƒ± takviyesi hem de mideyi yava≈ü√ßa hazƒ±rlar.',
    salad: 'Salatalar d√º≈ü√ºk kalorili ama y√ºksek lifli olup iftarda porsiyon kontrol√ºne yardƒ±mcƒ± olur.',
    dessert: 'Tatlƒ±larƒ± iftardan 1-2 saat sonra k√º√ß√ºk porsiyonlarda t√ºketin. Kan ≈üekeri dengesini koruyun.',
    nut: 'Kuruyemi≈üler saƒülƒ±klƒ± yaƒü ve protein kaynaƒüƒ±dƒ±r. 1 avu√ß (30g) ideal porsiyon.',
    drink: 'Kafeinsiz i√ßecekleri tercih edin. Kafein susuzluƒüu artƒ±rƒ±r. Bitki √ßaylarƒ± harika bir alternatif.'
  };
  if (tips[food.cat]) {
    tipText.textContent = tips[food.cat];
    tipEl.style.display = 'flex';
  } else {
    tipEl.style.display = 'none';
  }
  
  document.getElementById('foodModalOverlay').classList.add('show');
  document.body.style.overflow = 'hidden';
}

function closeFoodModal(e) {
  if (e && e.target !== e.currentTarget) return;
  document.getElementById('foodModalOverlay').classList.remove('show');
  document.body.style.overflow = '';
}

// Close modal on Escape key
document.addEventListener('keydown', function(e) {
  if (e.key === 'Escape') closeFoodModal();
});

// ‚ïê‚ïê‚ïê EXPERT PLANS ‚ïê‚ïê‚ïê
let selectedExpertPlan = null;

const EXPERT_PLANS = {
  balanced: {
    name: 'Dengeli Plan',
    calMod: 1.0,
    proteinPerKg: 1.2,
    sahurPriorities: ['protein','dairy','carb','nut','veg','fruit'],
    iftarPriorities: ['soup','protein','carb','veg','salad','dessert','drink'],
    snackPriorities: ['fruit','nut','dairy','drink'],
    excludeCats: [],
    info: null
  },
  glp1: {
    name: 'GLP-1 Hasta Planƒ±',
    calMod: 0.75, // lower calories
    proteinPerKg: 1.5,
    sahurPriorities: ['protein','dairy','carb','veg'],
    iftarPriorities: ['soup','protein','veg','carb'],
    snackPriorities: ['dairy','fruit'],
    excludeCats: ['dessert'], // no desserts ‚Äî nausea trigger
    excludeFoods: ['Sucuklu Yumurta','Adana Kebap','Urfa Kebap','Kƒ±zartma','Patates Kƒ±zartmasƒ±','Lahmacun','K√ºnefe','Baklava (1 Dilim)','Tulumba','Lokma'],
    maxItemsPerMeal: 5,
    info: 'üíä <strong>GLP-1 kullanƒ±cƒ±larƒ± i√ßin √∂zel:</strong> K√º√ß√ºk porsiyonlar (max 5 yemek/√∂ƒü√ºn), y√ºksek protein (1.5g/kg), yaƒülƒ± & kƒ±zartma yok, tatlƒ± yok (bulantƒ± tetikleyici). ƒ∞la√ßƒ±nƒ±zƒ± iftardan 30 dk √∂nce veya sahurda alƒ±n. Midede dolgunluk hissi normaldir ‚Äî zorlamayƒ±n.'
  },
  budget: {
    name: 'Ekonomik Plan',
    calMod: 1.0,
    proteinPerKg: 1.2,
    sahurPriorities: ['protein','dairy','carb','nut'],
    iftarPriorities: ['soup','protein','carb','veg'],
    snackPriorities: ['fruit','nut','dairy'],
    preferFoods: ['Mercimek √áorbasƒ±','Kuru Fasulye','Nohut Yemeƒüi','Bulgur Pilavƒ±','Yulaf Ezmesi','Ha≈ülanmƒ±≈ü Yumurta','Menemen','Beyaz Peynir','S√ºzme Yoƒüurt','Mercimek K√∂ftesi','Ezogelin √áorbasƒ±','Pirin√ß Pilavƒ±','Makarna (Tam Buƒüday)','Tam Buƒüday Ekmeƒüi','Elma','Muz','Ayran','Simit'],
    excludeCats: [],
    info: 'üí∞ <strong>Ekonomik plan:</strong> Baklagil, yumurta ve mevsim sebzelerine dayalƒ± besleyici ancak b√ºt√ße dostu bir Ramazan sofrasƒ±.'
  },
  athlete: {
    name: 'Sporcu Planƒ±',
    calMod: 1.1,
    proteinPerKg: 1.6,
    sahurPriorities: ['protein','carb','dairy','nut','fruit'],
    iftarPriorities: ['soup','protein','protein','carb','veg','dairy'],
    snackPriorities: ['protein','nut','fruit','dairy'],
    preferFoods: ['Izgara Tavuk G√∂ƒüs√º','Ha≈ülanmƒ±≈ü Tavuk','Ton Balƒ±klƒ± Salata','Yulaf Ezmesi','Ha≈ülanmƒ±≈ü Yumurta','S√ºzme Yoƒüurt','Badem','Muz','Bulgur Pilavƒ±','Somon Izgara','Tavuk ≈ûi≈ü','Quark Peynir','Protein Yoƒüurt','Karabuƒüday Pilavƒ±','Chia Tohumu'],
    excludeCats: [],
    info: 'üèãÔ∏è <strong>Sporcu planƒ±:</strong> Y√ºksek protein (1.6g/kg), kompleks karbonhidrat, saƒülƒ±klƒ± yaƒülar. ƒ∞ftar sonrasƒ± 2 saat bekleyip egzersiz yapƒ±n.'
  },
  diabetic: {
    name: 'Diyabet Dostu',
    calMod: 0.9,
    proteinPerKg: 1.3,
    sahurPriorities: ['protein','dairy','veg','carb','nut'],
    iftarPriorities: ['soup','protein','veg','carb'],
    snackPriorities: ['nut','dairy','fruit'],
    excludeCats: ['dessert'],
    excludeFoods: ['Hurma','Pirin√ß Pilavƒ±','Ramazan Pidesi','Simit','Patates Kƒ±zartmasƒ±','Composto','Ramazan ≈ûerbeti','Boza','Pekmez','Bal','Patates P√ºresi','Limonata (Az ≈ûekerli)'],
    preferFoods: ['Yulaf Ezmesi','Bulgur Pilavƒ±','Tam Buƒüday Ekmeƒüi','Mercimek √áorbasƒ±','S√ºzme Yoƒüurt','Ha≈ülanmƒ±≈ü Yumurta','Ceviz','Badem','Ye≈üil Salata','Karabuƒüday Pilavƒ±'],
    info: 'ü©∏ <strong>Diyabet dostu:</strong> D√º≈ü√ºk glisemik indeksli besinler, tatlƒ± ve ≈üekerli i√ßecek yok. Sahurda yulaf/bulgur tercih edin. Kan ≈üekerinizi d√ºzenli √∂l√ß√ºn. Hipoglisemi belirtilerinde orucu bozun.'
  },
  postop: {
    name: 'Cerrahi Sonrasƒ±',
    calMod: 0.6,
    proteinPerKg: 1.5,
    sahurPriorities: ['protein','dairy','soup'],
    iftarPriorities: ['soup','protein','dairy','veg'],
    snackPriorities: ['dairy','protein'],
    excludeCats: ['dessert','nut','carb'],
    excludeFoods: ['Simit','Ramazan Pidesi','Lahmacun','Kƒ±zartma','Patates Kƒ±zartmasƒ±'],
    maxItemsPerMeal: 4,
    info: 'üè• <strong>Cerrahi sonrasƒ± (ESG/Sleeve):</strong> √áok k√º√ß√ºk porsiyonlar (max 4 yemek/√∂ƒü√ºn), sƒ±vƒ±/yumu≈üak gƒ±da √∂ncelikli, √ßiƒüneme √ßok √∂nemli. Karbonhidrat ve kuruyemi≈ü kƒ±sƒ±tlƒ±. Yava≈ü yiyin ‚Äî 20-30 dk.'
  }
};

function selectExpertPlan(planKey) {
  document.querySelectorAll('.expert-card').forEach(c => c.classList.remove('active'));
  const infoEl = document.getElementById('glp1Info');
  
  if (selectedExpertPlan === planKey) {
    selectedExpertPlan = null;
    infoEl.classList.remove('show');
    infoEl.innerHTML = '';
    return;
  }
  
  selectedExpertPlan = planKey;
  document.getElementById('expert-' + planKey).classList.add('active');
  
  const plan = EXPERT_PLANS[planKey];
  if (plan.info) {
    infoEl.innerHTML = plan.info;
    infoEl.classList.add('show');
  } else {
    infoEl.classList.remove('show');
    infoEl.innerHTML = '';
  }
  
  // Auto-check relevant health conditions
  if (planKey === 'glp1') {
    const cb = document.querySelector('input[value="glp1"]');
    if (cb && !cb.checked) { cb.checked = true; cb.closest('.checkbox-item').classList.add('checked'); }
  }
  if (planKey === 'diabetic') {
    const cb = document.querySelector('input[value="diabetes"]');
    if (cb && !cb.checked) { cb.checked = true; cb.closest('.checkbox-item').classList.add('checked'); }
  }
  if (planKey === 'postop') {
    const cb = document.querySelector('input[value="bariatric"]');
    if (cb && !cb.checked) { cb.checked = true; cb.closest('.checkbox-item').classList.add('checked'); }
  }
}

// ‚ïê‚ïê‚ïê GLP-1 & BARIATRIC HEALTH WARNINGS ‚ïê‚ïê‚ïê
HEALTH_WARNINGS.glp1 = [
  {icon:"üíä",text:"GLP-1 ilacƒ±nƒ±zƒ± iftardan 30 dk √∂nce veya sahurda alƒ±n (doktorunuza danƒ±≈üƒ±n)."},
  {icon:"ü§¢",text:"Yaƒülƒ±, kƒ±zartma ve tatlƒ± yemeklerden ka√ßƒ±nƒ±n ‚Äî bulantƒ±yƒ± tetikler."},
  {icon:"ü•Ñ",text:"K√º√ß√ºk lokmalar halinde, yava≈ü√ßa yiyin (20-30 dk)."},
  {icon:"ü•©",text:"Her √∂ƒü√ºnde protein √∂ncelikli yiyin ‚Äî kas kaybƒ±nƒ± √∂nler."},
  {icon:"‚ö†Ô∏è",text:"Midede dolgunluk hissinde zorlamayƒ±n ‚Äî orucu bozabilirsiniz."}
];
HEALTH_WARNINGS.bariatric = [
  {icon:"üè•",text:"Ameliyat sonrasƒ± oru√ß tutmadan √∂nce mutlaka cerrahƒ±nƒ±za danƒ±≈üƒ±n."},
  {icon:"ü•Ñ",text:"√áok k√º√ß√ºk porsiyonlar (100-150ml mide kapasitesi) ‚Äî zorlayarak yemeyin."},
  {icon:"ü•©",text:"Her √∂ƒü√ºnde √∂nce proteini yiyin, sonra sebze, en son karbonhidrat."},
  {icon:"üíß",text:"Yemek sƒ±rasƒ±nda su i√ßmeyin ‚Äî yemekten 30 dk √∂nce veya sonra i√ßin."},
  {icon:"üíä",text:"Vitamin ve mineral takviyelerinizi aksatmayƒ±n (B12, demir, kalsiyum)."},
  {icon:"üö´",text:"Gazlƒ± i√ßecek, √ßiƒünenmemi≈ü et, sert/kuru gƒ±dalardan ka√ßƒ±nƒ±n."}
];

// ‚ïê‚ïê‚ïê ENHANCED PLAN GENERATION WITH EXPERT MODES ‚ïê‚ïê‚ïê
const origGeneratePlan = generatePlan;
generatePlan = function() {
  // Override macros if expert plan selected
  if (selectedExpertPlan && EXPERT_PLANS[selectedExpertPlan]) {
    const ep = EXPERT_PLANS[selectedExpertPlan];
    const weight = +document.getElementById('weight').value;
    const height = +document.getElementById('height').value;
    const age = +document.getElementById('age').value;
    const gender = document.getElementById('gender').value;
    const activity = document.getElementById('activity').value;
    
    if (!weight || !height || !age || !gender || !activity) {
      alert('L√ºtfen t√ºm ki≈üisel bilgileri doldurun.');
      return;
    }
    
    const conditions = [];
    document.querySelectorAll('.checkbox-item input:checked').forEach(cb => conditions.push(cb.value));
    
    const bmr = calcBMR(weight, height, age, gender);
    const tdee = calcTDEE(bmr, activity);
    let targetCal = Math.round(adjustForGoal(tdee, selectedGoal) * ep.calMod);
    
    const proteinG = Math.round(ep.proteinPerKg * weight);
    const proteinCal = proteinG * 4;
    const fatPct = 0.27;
    const fatG = Math.round((targetCal * fatPct) / 9);
    const carbG = Math.round((targetCal - proteinCal - fatG * 9) / 4);
    const macros = { proteinG, carbG: Math.max(carbG, 50), fatG };
    
    const sahurCal = Math.round(targetCal * 0.35);
    const iftarCal = Math.round(targetCal * 0.45);
    const snackCal = Math.round(targetCal * 0.20);
    
    const sahur = pickFoodsExpert('s', sahurCal, conditions, ep);
    const iftar = pickFoodsExpert('i', iftarCal, conditions, ep);
    const snack = pickFoodsExpert('a', snackCal, conditions, ep);
    
    const waterLiters = +(weight * 0.033).toFixed(1);
    const waterGlasses = Math.round(waterLiters * 5);
    
    currentPlan = { targetCal, macros, sahur, iftar, snack, waterLiters, waterGlasses, conditions, weight, height, age, gender, activity, expertPlan: selectedExpertPlan };
    renderResults(currentPlan);
    savePlanToStorage();
    return;
  }
  origGeneratePlan();
};

function pickFoodsExpert(mealType, targetCal, conditions, ep) {
  let pool = FOODS.filter(f => f.meal.includes(mealType));
  
  // Apply expert plan filters
  if (ep.excludeCats) pool = pool.filter(f => !ep.excludeCats.includes(f.cat));
  if (ep.excludeFoods) pool = pool.filter(f => !ep.excludeFoods.includes(f.name));
  
  // Apply condition filters
  if (conditions.includes('diabetes')) pool = pool.filter(f => f.cat !== 'dessert' || f.name === 'G√ºlla√ß');
  if (conditions.includes('kidney')) pool = pool.filter(f => f.cat !== 'nut');
  if (conditions.includes('stomach')) pool = pool.filter(f => !['ƒ∞≈ükembe √áorbasƒ±','Kelle Pa√ßa √áorbasƒ±'].includes(f.name));
  if (conditions.includes('glp1')) pool = pool.filter(f => f.cat !== 'dessert');
  if (conditions.includes('bariatric')) pool = pool.filter(f => f.cat !== 'dessert' && f.cat !== 'nut');
  
  // Prioritize preferred foods
  if (ep.preferFoods) {
    const prefSet = new Set(ep.preferFoods);
    pool.sort((a, b) => (prefSet.has(b.name) ? 1 : 0) - (prefSet.has(a.name) ? 1 : 0));
  }
  
  pool = shuffle(pool);
  // Move preferred to front after shuffle
  if (ep.preferFoods) {
    const prefSet = new Set(ep.preferFoods);
    const preferred = pool.filter(f => prefSet.has(f.name));
    const others = pool.filter(f => !prefSet.has(f.name));
    pool = [...shuffle(preferred), ...others];
  }
  
  const selected = [];
  let totalCal = 0;
  const usedNames = new Set();
  const maxItems = ep.maxItemsPerMeal || 8;
  const priorities = mealType === 's' ? ep.sahurPriorities : mealType === 'i' ? ep.iftarPriorities : ep.snackPriorities;
  
  for (const cat of priorities) {
    if (totalCal >= targetCal * 0.95 || selected.length >= maxItems) break;
    const candidates = pool.filter(f => !usedNames.has(f.name) && f.cat === cat);
    if (candidates.length === 0) continue;
    const pick = candidates[0];
    const portionMult = Math.max(0.5, Math.min(1.5, targetCal / (mealType === 'a' ? 400 : 800)));
    const cal = Math.round(pick.cal * (pick.pg / 100) * portionMult);
    selected.push({
      ...pick,
      actualCal: cal,
      actualP: +(pick.p * (pick.pg / 100) * portionMult).toFixed(1),
      actualC: +(pick.c * (pick.pg / 100) * portionMult).toFixed(1),
      actualF: +(pick.f * (pick.pg / 100) * portionMult).toFixed(1),
      actualPortion: pick.portion,
      portionMult: 1
    });
    totalCal += cal;
    usedNames.add(pick.name);
  }
  
  // Fill remaining
  const extras = pool.filter(f => !usedNames.has(f.name));
  for (const pick of extras) {
    if (totalCal >= targetCal * 0.9 || selected.length >= maxItems) break;
    const portionMult = Math.max(0.5, Math.min(1.5, targetCal / (mealType === 'a' ? 400 : 800)));
    const cal = Math.round(pick.cal * (pick.pg / 100) * portionMult);
    selected.push({
      ...pick,
      actualCal: cal,
      actualP: +(pick.p * (pick.pg / 100) * portionMult).toFixed(1),
      actualC: +(pick.c * (pick.pg / 100) * portionMult).toFixed(1),
      actualF: +(pick.f * (pick.pg / 100) * portionMult).toFixed(1),
      actualPortion: pick.portion,
      portionMult: 1
    });
    totalCal += cal;
    usedNames.add(pick.name);
  }
  
  return { items: selected, totalCal: Math.round(totalCal), totalP: 0, totalC: 0, totalF: 0 };
}

// ‚ïê‚ïê‚ïê WEEKLY PLAN ‚ïê‚ïê‚ïê
let weeklyPlans = [];
let currentWeekDay = 0;

function generateWeeklyPlan() {
  if (!currentPlan) {
    alert('√ñnce bir g√ºnl√ºk plan olu≈üturun.');
    return;
  }
  
  weeklyPlans = [currentPlan]; // Day 0 = today's plan
  
  const { targetCal, macros, conditions, weight, expertPlan } = currentPlan;
  const ep = expertPlan ? EXPERT_PLANS[expertPlan] : null;
  
  // Generate 6 more days
  for (let d = 1; d < 7; d++) {
    const sahurCal = Math.round(targetCal * 0.35);
    const iftarCal = Math.round(targetCal * 0.45);
    const snackCal = Math.round(targetCal * 0.20);
    
    let sahur, iftar, snack;
    if (ep) {
      sahur = pickFoodsExpert('s', sahurCal, conditions, ep);
      iftar = pickFoodsExpert('i', iftarCal, conditions, ep);
      snack = pickFoodsExpert('a', snackCal, conditions, ep);
    } else {
      sahur = pickFoods('s', sahurCal, 0, 0, 0, conditions);
      iftar = pickFoods('i', iftarCal, 0, 0, 0, conditions);
      snack = pickFoods('a', snackCal, 0, 0, 0, conditions);
    }
    
    weeklyPlans.push({
      ...currentPlan,
      sahur, iftar, snack
    });
  }
  
  currentWeekDay = 0;
  renderWeekTabs();
  showWeekDay(0);
}

function renderWeekTabs() {
  const tabsEl = document.getElementById('weekTabs');
  const navEl = document.getElementById('weekNav');
  if (!tabsEl || !navEl) return;
  
  tabsEl.style.display = 'flex';
  navEl.style.display = 'flex';
  
  const dayNames = ['Pzt', 'Sal', '√áar', 'Per', 'Cum', 'Cmt', 'Paz'];
  const now = new Date();
  const turkeyNow = new Date(now.getTime() + 3 * 3600000);
  
  let html = '';
  for (let d = 0; d < 7; d++) {
    const date = new Date(turkeyNow);
    date.setDate(date.getDate() + d);
    const dayName = dayNames[date.getDay() === 0 ? 6 : date.getDay() - 1];
    const dayNum = date.getDate();
    html += `<button class="week-tab ${d === 0 ? 'active' : ''}" onclick="showWeekDay(${d})">
      <div>${dayName}</div>
      <div class="wt-day">${dayNum}</div>
    </button>`;
  }
  tabsEl.innerHTML = html;
  updateWeekLabel(0);
}

function showWeekDay(dayIndex) {
  if (!weeklyPlans[dayIndex]) return;
  currentWeekDay = dayIndex;
  
  const plan = weeklyPlans[dayIndex];
  currentPlan.sahur = plan.sahur;
  currentPlan.iftar = plan.iftar;
  currentPlan.snack = plan.snack;
  
  renderMeal('sahur', plan.sahur);
  renderMeal('iftar', plan.iftar);
  renderMeal('snack', plan.snack);
  updateTotals();
  updateMealRemaining();
  
  // Update menu selections
  syncMenuWithPlan();
  if (document.getElementById('menuBuilder').classList.contains('open')) {
    renderMenuGrid();
    renderBasket();
  }
  
  // Update tabs
  document.querySelectorAll('.week-tab').forEach((t, i) => t.classList.toggle('active', i === dayIndex));
  updateWeekLabel(dayIndex);
  
  // Update shopping list
  if (document.getElementById('shoppingCard').classList.contains('expanded')) {
    shoppingChecked.clear();
    renderShoppingList();
  }
}

function updateWeekLabel(dayIndex) {
  const now = new Date();
  const turkeyNow = new Date(now.getTime() + 3 * 3600000);
  const date = new Date(turkeyNow);
  date.setDate(date.getDate() + dayIndex);
  
  const dayNames = ['Pazar','Pazartesi','Salƒ±','√áar≈üamba','Per≈üembe','Cuma','Cumartesi'];
  const monthNames = ['Ocak','≈ûubat','Mart','Nisan','Mayƒ±s','Haziran','Temmuz','Aƒüustos','Eyl√ºl','Ekim','Kasƒ±m','Aralƒ±k'];
  
  const label = `${dayNames[date.getDay()]}, ${date.getDate()} ${monthNames[date.getMonth()]}`;
  const el = document.getElementById('weekLabel');
  if (el) el.textContent = dayIndex === 0 ? `Bug√ºn ‚Äî ${label}` : label;
}

function prevWeekDay() { if (currentWeekDay > 0) showWeekDay(currentWeekDay - 1); }
function nextWeekDay() { if (currentWeekDay < 6) showWeekDay(currentWeekDay + 1); }

// ‚ïê‚ïê‚ïê WHATSAPP & TELEGRAM SHARE ‚ïê‚ïê‚ïê
function buildShareText() {
  if (!currentPlan) return '';
  const { targetCal, macros, sahur, iftar } = currentPlan;
  const sahurItems = sahur.items.map(i => `  ‚Ä¢ ${i.icon} ${i.name}`).join('\n');
  const iftarItems = iftar.items.map(i => `  ‚Ä¢ ${i.icon} ${i.name}`).join('\n');
  
  const cityKey = document.getElementById('citySelect')?.value || 'istanbul';
  const city = CITIES[cityKey];
  const today = new Date();
  const times = getPrayerTimes(cityKey, today);
  const rd = getRamadanDay(today);
  
  let text = `‚ò™Ô∏è Ramazan √ñƒü√ºn Planƒ±m`;
  if (rd.status === 'during') text += ` (${rd.day}. g√ºn)`;
  text += `\n\nüìä G√ºnl√ºk: ${targetCal} kcal`;
  text += `\nüü† Protein: ${macros.proteinG}g | üü¢ Karb: ${macros.carbG}g | üî¥ Yaƒü: ${macros.fatG}g`;
  if (times) text += `\nüåô ƒ∞msak: ${times.imsak} | üåÖ ƒ∞ftar: ${times.iftar} (${city?.name || ''})`;
  text += `\n\nüåô Sahur:\n${sahurItems}`;
  text += `\n\nüåÖ ƒ∞ftar:\n${iftarItems}`;
  if (selectedExpertPlan) {
    const ep = EXPERT_PLANS[selectedExpertPlan];
    text += `\n\nüë®‚Äç‚öïÔ∏è Plan: ${ep.name}`;
  }
  text += `\n\nüîó Kendi planƒ±nƒ± olu≈ütur:\nuzunyasa.com/pages/araclar/sahur-iftar-planlayici.html`;
  return text;
}

function shareWhatsApp() {
  const text = encodeURIComponent(buildShareText());
  window.open(`https://wa.me/?text=${text}`, '_blank');
}

function shareTelegram() {
  const text = encodeURIComponent(buildShareText());
  window.open(`https://t.me/share/url?url=${encodeURIComponent('https://uzunyasa.com/pages/araclar/sahur-iftar-planlayici.html')}&text=${text}`, '_blank');
}

// ‚ïê‚ïê‚ïê AUTO-LOAD & INIT ‚ïê‚ïê‚ïê
document.addEventListener('DOMContentLoaded', function() {
  initDarkMode();
  
  // Restore city preference
  const savedCity = localStorage.getItem('uzunyasa_city');
  if (savedCity) {
    const sel = document.getElementById('citySelect');
    if (sel) sel.value = savedCity;
  }
  
  updateRamadanBanner();
  updateLiveCountdown();
  // Update banner every minute, live countdown every second
  setInterval(updateRamadanBanner, 60000);
  setInterval(updateLiveCountdown, 1000);
  
  loadPlanFromStorage();
  
  // Register service worker for PWA/offline
  if ('serviceWorker' in navigator) {
    navigator.serviceWorker.register('/sw-sahur.js').catch(() => {});
  }
});
</script>
<script src="/scripts/odometer-counter.js"></script>
<script src="/scripts/premium-animations.js"></script>
</body>
</html>
